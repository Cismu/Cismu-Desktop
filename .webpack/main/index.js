/*! For license information please see index.js.LICENSE.txt */
(()=>{var t={3273:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class r{}e._CodeOrName=r,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class s extends r{constructor(t){if(super(),!e.IDENTIFIER.test(t))throw new Error("CodeGen: name must be a valid identifier");this.str=t}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=s;class n extends r{constructor(t){super(),this._items="string"==typeof t?[t]:t}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const t=this._items[0];return""===t||'""'===t}get str(){var t;return null!==(t=this._str)&&void 0!==t?t:this._str=this._items.reduce(((t,e)=>`${t}${e}`),"")}get names(){var t;return null!==(t=this._names)&&void 0!==t?t:this._names=this._items.reduce(((t,e)=>(e instanceof s&&(t[e.str]=(t[e.str]||0)+1),t)),{})}}function i(t,...e){const r=[t[0]];let s=0;for(;s<e.length;)c(r,e[s]),r.push(t[++s]);return new n(r)}e._Code=n,e.nil=new n(""),e._=i;const o=new n("+");function a(t,...e){const r=[l(t[0])];let s=0;for(;s<e.length;)r.push(o),c(r,e[s]),r.push(o,l(t[++s]));return function(t){let e=1;for(;e<t.length-1;){if(t[e]===o){const r=u(t[e-1],t[e+1]);if(void 0!==r){t.splice(e-1,3,r);continue}t[e++]="+"}e++}}(r),new n(r)}function c(t,e){var r;e instanceof n?t.push(...e._items):e instanceof s?t.push(e):t.push("number"==typeof(r=e)||"boolean"==typeof r||null===r?r:l(Array.isArray(r)?r.join(","):r))}function u(t,e){if('""'===e)return t;if('""'===t)return e;if("string"==typeof t){if(e instanceof s||'"'!==t[t.length-1])return;return"string"!=typeof e?`${t.slice(0,-1)}${e}"`:'"'===e[0]?t.slice(0,-1)+e.slice(1):void 0}return"string"!=typeof e||'"'!==e[0]||t instanceof s?void 0:`"${t}${e.slice(1)}`}function l(t){return JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.str=a,e.addCodeArg=c,e.strConcat=function(t,e){return e.emptyStr()?t:t.emptyStr()?e:a`${t}${e}`},e.stringify=function(t){return new n(l(t))},e.safeStringify=l,e.getProperty=function(t){return"string"==typeof t&&e.IDENTIFIER.test(t)?new n(`.${t}`):i`[${t}]`},e.getEsmExportName=function(t){if("string"==typeof t&&e.IDENTIFIER.test(t))return new n(`${t}`);throw new Error(`CodeGen: invalid export name: ${t}, use explicit $id name mapping`)},e.regexpCode=function(t){return new n(t.toString())}},2920:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const s=r(3273),n=r(3746);var i=r(3273);Object.defineProperty(e,"_",{enumerable:!0,get:function(){return i._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return i.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return i.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return i.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return i.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return i.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return i.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return i.Name}});var o=r(3746);Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return o.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return o.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return o.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return o.varKinds}}),e.operators={GT:new s._Code(">"),GTE:new s._Code(">="),LT:new s._Code("<"),LTE:new s._Code("<="),EQ:new s._Code("==="),NEQ:new s._Code("!=="),NOT:new s._Code("!"),OR:new s._Code("||"),AND:new s._Code("&&"),ADD:new s._Code("+")};class a{optimizeNodes(){return this}optimizeNames(t,e){return this}}class c extends a{constructor(t,e,r){super(),this.varKind=t,this.name=e,this.rhs=r}render({es5:t,_n:e}){const r=t?n.varKinds.var:this.varKind,s=void 0===this.rhs?"":` = ${this.rhs}`;return`${r} ${this.name}${s};`+e}optimizeNames(t,e){if(t[this.name.str])return this.rhs&&(this.rhs=j(this.rhs,t,e)),this}get names(){return this.rhs instanceof s._CodeOrName?this.rhs.names:{}}}class u extends a{constructor(t,e,r){super(),this.lhs=t,this.rhs=e,this.sideEffects=r}render({_n:t}){return`${this.lhs} = ${this.rhs};`+t}optimizeNames(t,e){if(!(this.lhs instanceof s.Name)||t[this.lhs.str]||this.sideEffects)return this.rhs=j(this.rhs,t,e),this}get names(){return $(this.lhs instanceof s.Name?{}:{...this.lhs.names},this.rhs)}}class l extends u{constructor(t,e,r,s){super(t,r,s),this.op=e}render({_n:t}){return`${this.lhs} ${this.op}= ${this.rhs};`+t}}class h extends a{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return`${this.label}:`+t}}class f extends a{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return`break${this.label?` ${this.label}`:""};`+t}}class d extends a{constructor(t){super(),this.error=t}render({_n:t}){return`throw ${this.error};`+t}get names(){return this.error.names}}class p extends a{constructor(t){super(),this.code=t}render({_n:t}){return`${this.code};`+t}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(t,e){return this.code=j(this.code,t,e),this}get names(){return this.code instanceof s._CodeOrName?this.code.names:{}}}class m extends a{constructor(t=[]){super(),this.nodes=t}render(t){return this.nodes.reduce(((e,r)=>e+r.render(t)),"")}optimizeNodes(){const{nodes:t}=this;let e=t.length;for(;e--;){const r=t[e].optimizeNodes();Array.isArray(r)?t.splice(e,1,...r):r?t[e]=r:t.splice(e,1)}return t.length>0?this:void 0}optimizeNames(t,e){const{nodes:r}=this;let s=r.length;for(;s--;){const n=r[s];n.optimizeNames(t,e)||(N(t,n.names),r.splice(s,1))}return r.length>0?this:void 0}get names(){return this.nodes.reduce(((t,e)=>C(t,e.names)),{})}}class g extends m{render(t){return"{"+t._n+super.render(t)+"}"+t._n}}class y extends m{}class v extends g{}v.kind="else";class w extends g{constructor(t,e){super(e),this.condition=t}render(t){let e=`if(${this.condition})`+super.render(t);return this.else&&(e+="else "+this.else.render(t)),e}optimizeNodes(){super.optimizeNodes();const t=this.condition;if(!0===t)return this.nodes;let e=this.else;if(e){const t=e.optimizeNodes();e=this.else=Array.isArray(t)?new v(t):t}return e?!1===t?e instanceof w?e:e.nodes:this.nodes.length?this:new w(F(t),e instanceof w?[e]:e.nodes):!1!==t&&this.nodes.length?this:void 0}optimizeNames(t,e){var r;if(this.else=null===(r=this.else)||void 0===r?void 0:r.optimizeNames(t,e),super.optimizeNames(t,e)||this.else)return this.condition=j(this.condition,t,e),this}get names(){const t=super.names;return $(t,this.condition),this.else&&C(t,this.else.names),t}}w.kind="if";class b extends g{}b.kind="for";class A extends b{constructor(t){super(),this.iteration=t}render(t){return`for(${this.iteration})`+super.render(t)}optimizeNames(t,e){if(super.optimizeNames(t,e))return this.iteration=j(this.iteration,t,e),this}get names(){return C(super.names,this.iteration.names)}}class S extends b{constructor(t,e,r,s){super(),this.varKind=t,this.name=e,this.from=r,this.to=s}render(t){const e=t.es5?n.varKinds.var:this.varKind,{name:r,from:s,to:i}=this;return`for(${e} ${r}=${s}; ${r}<${i}; ${r}++)`+super.render(t)}get names(){const t=$(super.names,this.from);return $(t,this.to)}}class E extends b{constructor(t,e,r,s){super(),this.loop=t,this.varKind=e,this.name=r,this.iterable=s}render(t){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(t)}optimizeNames(t,e){if(super.optimizeNames(t,e))return this.iterable=j(this.iterable,t,e),this}get names(){return C(super.names,this.iterable.names)}}class _ extends g{constructor(t,e,r){super(),this.name=t,this.args=e,this.async=r}render(t){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(t)}}_.kind="func";class k extends m{render(t){return"return "+super.render(t)}}k.kind="return";class x extends g{render(t){let e="try"+super.render(t);return this.catch&&(e+=this.catch.render(t)),this.finally&&(e+=this.finally.render(t)),e}optimizeNodes(){var t,e;return super.optimizeNodes(),null===(t=this.catch)||void 0===t||t.optimizeNodes(),null===(e=this.finally)||void 0===e||e.optimizeNodes(),this}optimizeNames(t,e){var r,s;return super.optimizeNames(t,e),null===(r=this.catch)||void 0===r||r.optimizeNames(t,e),null===(s=this.finally)||void 0===s||s.optimizeNames(t,e),this}get names(){const t=super.names;return this.catch&&C(t,this.catch.names),this.finally&&C(t,this.finally.names),t}}class P extends g{constructor(t){super(),this.error=t}render(t){return`catch(${this.error})`+super.render(t)}}P.kind="catch";class O extends g{render(t){return"finally"+super.render(t)}}function C(t,e){for(const r in e)t[r]=(t[r]||0)+(e[r]||0);return t}function $(t,e){return e instanceof s._CodeOrName?C(t,e.names):t}function j(t,e,r){return t instanceof s.Name?i(t):(n=t)instanceof s._Code&&n._items.some((t=>t instanceof s.Name&&1===e[t.str]&&void 0!==r[t.str]))?new s._Code(t._items.reduce(((t,e)=>(e instanceof s.Name&&(e=i(e)),e instanceof s._Code?t.push(...e._items):t.push(e),t)),[])):t;var n;function i(t){const s=r[t.str];return void 0===s||1!==e[t.str]?t:(delete e[t.str],s)}}function N(t,e){for(const r in e)t[r]=(t[r]||0)-(e[r]||0)}function F(t){return"boolean"==typeof t||"number"==typeof t||null===t?!t:s._`!${D(t)}`}O.kind="finally",e.CodeGen=class{constructor(t,e={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...e,_n:e.lines?"\n":""},this._extScope=t,this._scope=new n.Scope({parent:t}),this._nodes=[new y]}toString(){return this._root.render(this.opts)}name(t){return this._scope.name(t)}scopeName(t){return this._extScope.name(t)}scopeValue(t,e){const r=this._extScope.value(t,e);return(this._values[r.prefix]||(this._values[r.prefix]=new Set)).add(r),r}getScopeValue(t,e){return this._extScope.getValue(t,e)}scopeRefs(t){return this._extScope.scopeRefs(t,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(t,e,r,s){const n=this._scope.toName(e);return void 0!==r&&s&&(this._constants[n.str]=r),this._leafNode(new c(t,n,r)),n}const(t,e,r){return this._def(n.varKinds.const,t,e,r)}let(t,e,r){return this._def(n.varKinds.let,t,e,r)}var(t,e,r){return this._def(n.varKinds.var,t,e,r)}assign(t,e,r){return this._leafNode(new u(t,e,r))}add(t,r){return this._leafNode(new l(t,e.operators.ADD,r))}code(t){return"function"==typeof t?t():t!==s.nil&&this._leafNode(new p(t)),this}object(...t){const e=["{"];for(const[r,n]of t)e.length>1&&e.push(","),e.push(r),(r!==n||this.opts.es5)&&(e.push(":"),(0,s.addCodeArg)(e,n));return e.push("}"),new s._Code(e)}if(t,e,r){if(this._blockNode(new w(t)),e&&r)this.code(e).else().code(r).endIf();else if(e)this.code(e).endIf();else if(r)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(t){return this._elseNode(new w(t))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(w,v)}_for(t,e){return this._blockNode(t),e&&this.code(e).endFor(),this}for(t,e){return this._for(new A(t),e)}forRange(t,e,r,s,i=(this.opts.es5?n.varKinds.var:n.varKinds.let)){const o=this._scope.toName(t);return this._for(new S(i,o,e,r),(()=>s(o)))}forOf(t,e,r,i=n.varKinds.const){const o=this._scope.toName(t);if(this.opts.es5){const t=e instanceof s.Name?e:this.var("_arr",e);return this.forRange("_i",0,s._`${t}.length`,(e=>{this.var(o,s._`${t}[${e}]`),r(o)}))}return this._for(new E("of",i,o,e),(()=>r(o)))}forIn(t,e,r,i=(this.opts.es5?n.varKinds.var:n.varKinds.const)){if(this.opts.ownProperties)return this.forOf(t,s._`Object.keys(${e})`,r);const o=this._scope.toName(t);return this._for(new E("in",i,o,e),(()=>r(o)))}endFor(){return this._endBlockNode(b)}label(t){return this._leafNode(new h(t))}break(t){return this._leafNode(new f(t))}return(t){const e=new k;if(this._blockNode(e),this.code(t),1!==e.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(k)}try(t,e,r){if(!e&&!r)throw new Error('CodeGen: "try" without "catch" and "finally"');const s=new x;if(this._blockNode(s),this.code(t),e){const t=this.name("e");this._currNode=s.catch=new P(t),e(t)}return r&&(this._currNode=s.finally=new O,this.code(r)),this._endBlockNode(P,O)}throw(t){return this._leafNode(new d(t))}block(t,e){return this._blockStarts.push(this._nodes.length),t&&this.code(t).endBlock(e),this}endBlock(t){const e=this._blockStarts.pop();if(void 0===e)throw new Error("CodeGen: not in self-balancing block");const r=this._nodes.length-e;if(r<0||void 0!==t&&r!==t)throw new Error(`CodeGen: wrong number of nodes: ${r} vs ${t} expected`);return this._nodes.length=e,this}func(t,e=s.nil,r,n){return this._blockNode(new _(t,e,r)),n&&this.code(n).endFunc(),this}endFunc(){return this._endBlockNode(_)}optimize(t=1){for(;t-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(t){return this._currNode.nodes.push(t),this}_blockNode(t){this._currNode.nodes.push(t),this._nodes.push(t)}_endBlockNode(t,e){const r=this._currNode;if(r instanceof t||e&&r instanceof e)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${e?`${t.kind}/${e.kind}`:t.kind}"`)}_elseNode(t){const e=this._currNode;if(!(e instanceof w))throw new Error('CodeGen: "else" without "if"');return this._currNode=e.else=t,this}get _root(){return this._nodes[0]}get _currNode(){const t=this._nodes;return t[t.length-1]}set _currNode(t){const e=this._nodes;e[e.length-1]=t}},e.not=F;const T=M(e.operators.AND);e.and=function(...t){return t.reduce(T)};const R=M(e.operators.OR);function M(t){return(e,r)=>e===s.nil?r:r===s.nil?e:s._`${D(e)} ${t} ${D(r)}`}function D(t){return t instanceof s.Name?t:s._`(${t})`}e.or=function(...t){return t.reduce(R)}},3746:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const s=r(3273);class n extends Error{constructor(t){super(`CodeGen: "code" for ${t} not defined`),this.value=t.value}}var i;!function(t){t[t.Started=0]="Started",t[t.Completed=1]="Completed"}(i=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new s.Name("const"),let:new s.Name("let"),var:new s.Name("var")};class o{constructor({prefixes:t,parent:e}={}){this._names={},this._prefixes=t,this._parent=e}toName(t){return t instanceof s.Name?t:this.name(t)}name(t){return new s.Name(this._newName(t))}_newName(t){return`${t}${(this._names[t]||this._nameGroup(t)).index++}`}_nameGroup(t){var e,r;if((null===(r=null===(e=this._parent)||void 0===e?void 0:e._prefixes)||void 0===r?void 0:r.has(t))||this._prefixes&&!this._prefixes.has(t))throw new Error(`CodeGen: prefix "${t}" is not allowed in this scope`);return this._names[t]={prefix:t,index:0}}}e.Scope=o;class a extends s.Name{constructor(t,e){super(e),this.prefix=t}setValue(t,{property:e,itemIndex:r}){this.value=t,this.scopePath=s._`.${new s.Name(e)}[${r}]`}}e.ValueScopeName=a;const c=s._`\n`;e.ValueScope=class extends o{constructor(t){super(t),this._values={},this._scope=t.scope,this.opts={...t,_n:t.lines?c:s.nil}}get(){return this._scope}name(t){return new a(t,this._newName(t))}value(t,e){var r;if(void 0===e.ref)throw new Error("CodeGen: ref must be passed in value");const s=this.toName(t),{prefix:n}=s,i=null!==(r=e.key)&&void 0!==r?r:e.ref;let o=this._values[n];if(o){const t=o.get(i);if(t)return t}else o=this._values[n]=new Map;o.set(i,s);const a=this._scope[n]||(this._scope[n]=[]),c=a.length;return a[c]=e.ref,s.setValue(e,{property:n,itemIndex:c}),s}getValue(t,e){const r=this._values[t];if(r)return r.get(e)}scopeRefs(t,e=this._values){return this._reduceValues(e,(e=>{if(void 0===e.scopePath)throw new Error(`CodeGen: name "${e}" has no value`);return s._`${t}${e.scopePath}`}))}scopeCode(t=this._values,e,r){return this._reduceValues(t,(t=>{if(void 0===t.value)throw new Error(`CodeGen: name "${t}" has no value`);return t.value.code}),e,r)}_reduceValues(t,r,o={},a){let c=s.nil;for(const u in t){const l=t[u];if(!l)continue;const h=o[u]=o[u]||new Map;l.forEach((t=>{if(h.has(t))return;h.set(t,i.Started);let o=r(t);if(o){const r=this.opts.es5?e.varKinds.var:e.varKinds.const;c=s._`${c}${r} ${t} = ${o};${this.opts._n}`}else{if(!(o=null==a?void 0:a(t)))throw new n(t);c=s._`${c}${o}${this.opts._n}`}h.set(t,i.Completed)}))}return c}}},3556:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const s=r(2920),n=r(4208),i=r(5994);function o(t,e){const r=t.const("err",e);t.if(s._`${i.default.vErrors} === null`,(()=>t.assign(i.default.vErrors,s._`[${r}]`)),s._`${i.default.vErrors}.push(${r})`),t.code(s._`${i.default.errors}++`)}function a(t,e){const{gen:r,validateName:n,schemaEnv:i}=t;i.$async?r.throw(s._`new ${t.ValidationError}(${e})`):(r.assign(s._`${n}.errors`,e),r.return(!1))}e.keywordError={message:({keyword:t})=>s.str`must pass "${t}" keyword validation`},e.keyword$DataError={message:({keyword:t,schemaType:e})=>e?s.str`"${t}" keyword must be ${e} ($data)`:s.str`"${t}" keyword is invalid ($data)`},e.reportError=function(t,r=e.keywordError,n,i){const{it:c}=t,{gen:l,compositeRule:h,allErrors:f}=c,d=u(t,r,n);(null!=i?i:h||f)?o(l,d):a(c,s._`[${d}]`)},e.reportExtraError=function(t,r=e.keywordError,s){const{it:n}=t,{gen:c,compositeRule:l,allErrors:h}=n;o(c,u(t,r,s)),l||h||a(n,i.default.vErrors)},e.resetErrorsCount=function(t,e){t.assign(i.default.errors,e),t.if(s._`${i.default.vErrors} !== null`,(()=>t.if(e,(()=>t.assign(s._`${i.default.vErrors}.length`,e)),(()=>t.assign(i.default.vErrors,null)))))},e.extendErrors=function({gen:t,keyword:e,schemaValue:r,data:n,errsCount:o,it:a}){if(void 0===o)throw new Error("ajv implementation error");const c=t.name("err");t.forRange("i",o,i.default.errors,(o=>{t.const(c,s._`${i.default.vErrors}[${o}]`),t.if(s._`${c}.instancePath === undefined`,(()=>t.assign(s._`${c}.instancePath`,(0,s.strConcat)(i.default.instancePath,a.errorPath)))),t.assign(s._`${c}.schemaPath`,s.str`${a.errSchemaPath}/${e}`),a.opts.verbose&&(t.assign(s._`${c}.schema`,r),t.assign(s._`${c}.data`,n))}))};const c={keyword:new s.Name("keyword"),schemaPath:new s.Name("schemaPath"),params:new s.Name("params"),propertyName:new s.Name("propertyName"),message:new s.Name("message"),schema:new s.Name("schema"),parentSchema:new s.Name("parentSchema")};function u(t,e,r){const{createErrors:n}=t.it;return!1===n?s._`{}`:function(t,e,r={}){const{gen:n,it:o}=t,a=[l(o,r),h(t,r)];return function(t,{params:e,message:r},n){const{keyword:o,data:a,schemaValue:u,it:l}=t,{opts:h,propertyName:f,topSchemaRef:d,schemaPath:p}=l;n.push([c.keyword,o],[c.params,"function"==typeof e?e(t):e||s._`{}`]),h.messages&&n.push([c.message,"function"==typeof r?r(t):r]),h.verbose&&n.push([c.schema,u],[c.parentSchema,s._`${d}${p}`],[i.default.data,a]),f&&n.push([c.propertyName,f])}(t,e,a),n.object(...a)}(t,e,r)}function l({errorPath:t},{instancePath:e}){const r=e?s.str`${t}${(0,n.getErrorPath)(e,n.Type.Str)}`:t;return[i.default.instancePath,(0,s.strConcat)(i.default.instancePath,r)]}function h({keyword:t,it:{errSchemaPath:e}},{schemaPath:r,parentSchema:i}){let o=i?e:s.str`${e}/${t}`;return r&&(o=s.str`${o}${(0,n.getErrorPath)(r,n.Type.Str)}`),[c.schemaPath,o]}},6172:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resolveSchema=e.getCompilingSchema=e.resolveRef=e.compileSchema=e.SchemaEnv=void 0;const s=r(2920),n=r(9596),i=r(5994),o=r(5756),a=r(4208),c=r(2154);class u{constructor(t){var e;let r;this.refs={},this.dynamicAnchors={},"object"==typeof t.schema&&(r=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=null!==(e=t.baseId)&&void 0!==e?e:(0,o.normalizeId)(null==r?void 0:r[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=null==r?void 0:r.$async,this.refs={}}}function l(t){const e=f.call(this,t);if(e)return e;const r=(0,o.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:a,lines:u}=this.opts.code,{ownProperties:l}=this.opts,h=new s.CodeGen(this.scope,{es5:a,lines:u,ownProperties:l});let d;t.$async&&(d=h.scopeValue("Error",{ref:n.default,code:s._`require("ajv/dist/runtime/validation_error").default`}));const p=h.scopeName("validate");t.validateName=p;const m={gen:h,allErrors:this.opts.allErrors,data:i.default.data,parentData:i.default.parentData,parentDataProperty:i.default.parentDataProperty,dataNames:[i.default.data],dataPathArr:[s.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:h.scopeValue("schema",!0===this.opts.code.source?{ref:t.schema,code:(0,s.stringify)(t.schema)}:{ref:t.schema}),validateName:p,ValidationError:d,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:s.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:s._`""`,opts:this.opts,self:this};let g;try{this._compilations.add(t),(0,c.validateFunctionCode)(m),h.optimize(this.opts.code.optimize);const e=h.toString();g=`${h.scopeRefs(i.default.scope)}return ${e}`,this.opts.code.process&&(g=this.opts.code.process(g,t));const r=new Function(`${i.default.self}`,`${i.default.scope}`,g)(this,this.scope.get());if(this.scope.value(p,{ref:r}),r.errors=null,r.schema=t.schema,r.schemaEnv=t,t.$async&&(r.$async=!0),!0===this.opts.code.source&&(r.source={validateName:p,validateCode:e,scopeValues:h._values}),this.opts.unevaluated){const{props:t,items:e}=m;r.evaluated={props:t instanceof s.Name?void 0:t,items:e instanceof s.Name?void 0:e,dynamicProps:t instanceof s.Name,dynamicItems:e instanceof s.Name},r.source&&(r.source.evaluated=(0,s.stringify)(r.evaluated))}return t.validate=r,t}catch(e){throw delete t.validate,delete t.validateName,g&&this.logger.error("Error compiling schema, function code:",g),e}finally{this._compilations.delete(t)}}function h(t){return(0,o.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:l.call(this,t)}function f(t){for(const s of this._compilations)if(r=t,(e=s).schema===r.schema&&e.root===r.root&&e.baseId===r.baseId)return s;var e,r}function d(t,e){let r;for(;"string"==typeof(r=this.refs[e]);)e=r;return r||this.schemas[e]||p.call(this,t,e)}function p(t,e){const r=this.opts.uriResolver.parse(e),s=(0,o._getFullPath)(this.opts.uriResolver,r);let n=(0,o.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&s===n)return g.call(this,r,t);const i=(0,o.normalizeId)(s),a=this.refs[i]||this.schemas[i];if("string"==typeof a){const e=p.call(this,t,a);if("object"!=typeof(null==e?void 0:e.schema))return;return g.call(this,r,e)}if("object"==typeof(null==a?void 0:a.schema)){if(a.validate||l.call(this,a),i===(0,o.normalizeId)(e)){const{schema:e}=a,{schemaId:r}=this.opts,s=e[r];return s&&(n=(0,o.resolveUrl)(this.opts.uriResolver,n,s)),new u({schema:e,schemaId:r,root:t,baseId:n})}return g.call(this,r,a)}}e.SchemaEnv=u,e.compileSchema=l,e.resolveRef=function(t,e,r){var s;r=(0,o.resolveUrl)(this.opts.uriResolver,e,r);const n=t.refs[r];if(n)return n;let i=d.call(this,t,r);if(void 0===i){const n=null===(s=t.localRefs)||void 0===s?void 0:s[r],{schemaId:o}=this.opts;n&&(i=new u({schema:n,schemaId:o,root:t,baseId:e}))}return void 0!==i?t.refs[r]=h.call(this,i):void 0},e.getCompilingSchema=f,e.resolveSchema=p;const m=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function g(t,{baseId:e,schema:r,root:s}){var n;if("/"!==(null===(n=t.fragment)||void 0===n?void 0:n[0]))return;for(const s of t.fragment.slice(1).split("/")){if("boolean"==typeof r)return;const t=r[(0,a.unescapeFragment)(s)];if(void 0===t)return;const n="object"==typeof(r=t)&&r[this.opts.schemaId];!m.has(s)&&n&&(e=(0,o.resolveUrl)(this.opts.uriResolver,e,n))}let i;if("boolean"!=typeof r&&r.$ref&&!(0,a.schemaHasRulesButRef)(r,this.RULES)){const t=(0,o.resolveUrl)(this.opts.uriResolver,e,r.$ref);i=p.call(this,s,t)}const{schemaId:c}=this.opts;return i=i||new u({schema:r,schemaId:c,root:s,baseId:e}),i.schema!==i.root.schema?i:void 0}},8350:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(8605),n=r(6172),i=r(2920),o=r(4198),a=r(5994),c=r(9879),u=r(9736),l=r(4079),h=r(9959),f=r(4208),d=r(4679),p={elements:function(t){const{gen:e,schema:r,data:s}=t;j(t,"[");const n=e.let("i",0);e.assign(s,i._`[]`),w(t,"]",(()=>{const o=e.let("el");y({...t,schema:r.elements,data:o}),e.assign(i._`${s}[${n}++]`,o)}))},values:function(t){const{gen:e,schema:r,data:s}=t;j(t,"{"),e.assign(s,i._`{}`),w(t,"}",(()=>function(t,e){const{gen:r}=t,s=r.let("key");k({...t,data:s}),j(t,":"),_(t,s,e)}(t,r.values)))},discriminator:function(t){const{gen:e,data:r,schema:s}=t,{discriminator:n,mapping:o}=s;j(t,"{"),e.assign(r,i._`{}`);const c=e.const("pos",a.default.jsonPos),u=e.let("value"),l=e.let("tag");b(t,"}",(()=>{const s=e.let("key");k({...t,data:s}),j(t,":"),e.if(i._`${s} === ${n}`,(()=>{k({...t,data:l}),e.assign(i._`${r}[${s}]`,l),e.break()}),(()=>O({...t,data:u})))})),e.assign(a.default.jsonPos,c),e.if(i._`${l} === undefined`),M(t,i.str`discriminator tag not found`);for(const r in o)e.elseIf(i._`${l} === ${r}`),S({...t,schema:o[r]},n);e.else(),M(t,i.str`discriminator value not in schema`),e.endIf()},properties:A,optionalProperties:A,enum:function(t){const{gen:e,data:r,schema:s}=t,n=s.enum;j(t,'"'),e.if(!1);for(const t of n){const s=JSON.stringify(t).slice(1);e.elseIf(i._`${T(s.length)} === ${s}`),e.assign(r,i.str`${t}`),e.add(a.default.jsonPos,s.length)}e.else(),R(t),e.endIf()},type:function(t){const{gen:e,schema:r,data:s,self:n}=t;switch(r.type){case"boolean":v(t);break;case"string":k(t);break;case"timestamp":{k(t);const r=(0,f.useFunc)(e,d.default),{allowDate:o,parseDate:a}=n.opts,c=o?i._`!${r}(${s}, true)`:i._`!${r}(${s})`,u=a?(0,i.or)(c,i._`(${s} = new Date(${s}), false)`,i._`isNaN(${s}.valueOf())`):c;e.if(u,(()=>M(t,i.str`invalid timestamp`)));break}case"float32":case"float64":x(t);break;default:{const o=r.type;if(n.opts.int32range||"int32"!==o&&"uint32"!==o){const[r,n,a]=l.intRange[o];x(t,a),e.if(i._`${s} < ${r} || ${s} > ${n}`,(()=>M(t,i.str`integer out of range`)))}else x(t,16),"uint32"===o&&e.if(i._`${s} < 0`,(()=>M(t,i.str`integer out of range`)))}}},ref:function(t){const{gen:e,self:r,definitions:s,schema:a,schemaEnv:c}=t,{ref:l}=a,h=s[l];if(!h)throw new o.default(r.opts.uriResolver,"",l,`No definition ${l}`);if(!(0,u.hasRef)(h))return y({...t,schema:h});const{root:f}=c;$(t,function(t,e){return e.parse?t.scopeValue("parse",{ref:e.parse}):i._`${t.scopeValue("wrapper",{ref:e})}.parse`}(e,m.call(r,new n.SchemaEnv({schema:h,root:f}),s)),!0)}};function m(t,e){const r=n.getCompilingSchema.call(this,t);if(r)return r;const{es5:s,lines:o}=this.opts.code,{ownProperties:c}=this.opts,u=new i.CodeGen(this.scope,{es5:s,lines:o,ownProperties:c}),l=u.scopeName("parse"),h={self:this,gen:u,schema:t.schema,schemaEnv:t,definitions:e,data:a.default.data,parseName:l,char:u.name("c")};let f;try{this._compilations.add(t),t.parseName=l,function(t){const{gen:e,parseName:r,char:s}=t;e.func(r,i._`${a.default.json}, ${a.default.jsonPos}, ${a.default.jsonPart}`,!1,(()=>{e.let(a.default.data),e.let(s),e.assign(i._`${r}.message`,g),e.assign(i._`${r}.position`,g),e.assign(a.default.jsonPos,i._`${a.default.jsonPos} || 0`),e.const(a.default.jsonLen,i._`${a.default.json}.length`),y(t),F(t),e.if(a.default.jsonPart,(()=>{e.assign(i._`${r}.position`,a.default.jsonPos),e.return(a.default.data)})),e.if(i._`${a.default.jsonPos} === ${a.default.jsonLen}`,(()=>e.return(a.default.data))),R(t)}))}(h),u.optimize(this.opts.code.optimize);const e=u.toString();f=`${u.scopeRefs(a.default.scope)}return ${e}`;const r=new Function(`${a.default.scope}`,f)(this.scope.get());this.scope.value(l,{ref:r}),t.parse=r}catch(e){throw f&&this.logger.error("Error compiling parser, function code:",f),delete t.parse,delete t.parseName,e}finally{this._compilations.delete(t)}return t}e.default=m;const g=i._`undefined`;function y(t){let e;for(const r of s.jtdForms)if(r in t.schema){e=r;break}e?function(t,e){const{gen:r,schema:s,data:n}=t;if(!s.nullable)return e(t);N(t,"null",e,(()=>r.assign(n,null)))}(t,p[e]):O(t)}const v=P(!0,P(!1,R));function w(t,e,r){b(t,e,r),j(t,e)}function b(t,e,r){const{gen:s}=t;function n(){N(t,e,(()=>{}),R)}s.for(i._`;${a.default.jsonPos}<${a.default.jsonLen} && ${T(1)}!==${e};`,(()=>{r(),N(t,",",(()=>s.break()),n)}))}function A(t){const{gen:e,data:r}=t;j(t,"{"),e.assign(r,i._`{}`),S(t)}function S(t,e){const{gen:r,schema:s,data:n}=t,{properties:o,optionalProperties:a,additionalProperties:u}=s;if(w(t,"}",(()=>{const s=r.let("key");if(k({...t,data:s}),j(t,":"),r.if(!1),E(t,s,o),E(t,s,a),e){r.elseIf(i._`${s} === ${e}`);const n=r.let("tag");k({...t,data:n})}r.else(),u?O({...t,data:i._`${n}[${s}]`}):M(t,i.str`property ${s} not allowed`),r.endIf()})),o){const e=(0,c.hasPropFunc)(r),s=(0,i.and)(...Object.keys(o).map((t=>i._`${e}.call(${n}, ${t})`)));r.if((0,i.not)(s),(()=>M(t,i.str`missing required properties`)))}}function E(t,e,r={}){const{gen:s}=t;for(const n in r)s.elseIf(i._`${e} === ${n}`),_(t,e,r[n])}function _(t,e,r){y({...t,schema:r,data:i._`${t.data}[${e}]`})}function k(t){j(t,'"'),C(t,h.parseJsonString)}function x(t,e){const{gen:r}=t;F(t),r.if(i._`"-0123456789".indexOf(${T(1)}) < 0`,(()=>R(t)),(()=>C(t,h.parseJsonNumber,e)))}function P(t,e){return r=>{const{gen:s,data:n}=r;N(r,`${t}`,(()=>e(r)),(()=>s.assign(n,t)))}}function O(t){C(t,h.parseJson)}function C(t,e,r){$(t,(0,f.useFunc)(t.gen,e),r)}function $(t,e,r){const{gen:s,data:n}=t;s.assign(n,i._`${e}(${a.default.json}, ${a.default.jsonPos}${r?i._`, ${r}`:i.nil})`),s.assign(a.default.jsonPos,i._`${e}.position`),s.if(i._`${n} === undefined`,(()=>M(t,i._`${e}.message`)))}function j(t,e){N(t,e,R)}function N(t,e,r,s){const{gen:n}=t,o=e.length;F(t),n.if(i._`${T(o)} === ${e}`,(()=>{n.add(a.default.jsonPos,o),null==s||s(t)}),(()=>r(t)))}function F({gen:t,char:e}){t.code(i._`while((${e}=${a.default.json}[${a.default.jsonPos}],${e}===" "||${e}==="\\n"||${e}==="\\r"||${e}==="\\t"))${a.default.jsonPos}++;`)}function T(t){return 1===t?i._`${a.default.json}[${a.default.jsonPos}]`:i._`${a.default.json}.slice(${a.default.jsonPos}, ${a.default.jsonPos}+${t})`}function R(t){M(t,i._`"unexpected token " + ${a.default.json}[${a.default.jsonPos}]`)}function M({gen:t,parseName:e},r){t.assign(i._`${e}.message`,r),t.assign(i._`${e}.position`,a.default.jsonPos),t.return(g)}},2377:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(8605),n=r(6172),i=r(2920),o=r(4198),a=r(5994),c=r(9879),u=r(9736),l=r(4208),h=r(4309),f={elements:function(t){const{gen:e,schema:r,data:s}=t;e.add(a.default.json,i.str`[`);const n=e.let("first",!0);e.forOf("el",s,(e=>{b(t,n),p({...t,schema:r.elements,data:e})})),e.add(a.default.json,i.str`]`)},values:function(t){const{gen:e,schema:r,data:s}=t;e.add(a.default.json,i.str`{`);const n=e.let("first",!0);e.forIn("key",s,(e=>m(t,e,r.values,n))),e.add(a.default.json,i.str`}`)},discriminator:function(t){const{gen:e,schema:r,data:s}=t,{discriminator:n}=r;e.add(a.default.json,i.str`{${JSON.stringify(n)}:`);const o=e.const("tag",i._`${s}${(0,i.getProperty)(n)}`);v({...t,data:o}),e.if(!1);for(const s in r.mapping){e.elseIf(i._`${o} === ${s}`);const a=r.mapping[s];y({...t,schema:a},n)}e.endIf(),e.add(a.default.json,i.str`}`)},properties:g,optionalProperties:g,enum:v,type:function(t){const{gen:e,schema:r,data:s}=t;switch(r.type){case"boolean":e.add(a.default.json,i._`${s} ? "true" : "false"`);break;case"string":v(t);break;case"timestamp":e.if(i._`${s} instanceof Date`,(()=>e.add(a.default.json,i._`'"' + ${s}.toISOString() + '"'`)),(()=>v(t)));break;default:!function({gen:t,data:e}){t.add(a.default.json,i._`"" + ${e}`)}(t)}},ref:function(t){const{gen:e,self:r,data:s,definitions:c,schema:l,schemaEnv:h}=t,{ref:f}=l,m=c[f];if(!m)throw new o.default(r.opts.uriResolver,"",f,`No definition ${f}`);if(!(0,u.hasRef)(m))return p({...t,schema:m});const{root:g}=h,y=d.call(r,new n.SchemaEnv({schema:m,root:g}),c);e.add(a.default.json,i._`${function(t,e){return e.serialize?t.scopeValue("serialize",{ref:e.serialize}):i._`${t.scopeValue("wrapper",{ref:e})}.serialize`}(e,y)}(${s})`)}};function d(t,e){const r=n.getCompilingSchema.call(this,t);if(r)return r;const{es5:s,lines:o}=this.opts.code,{ownProperties:c}=this.opts,u=new i.CodeGen(this.scope,{es5:s,lines:o,ownProperties:c}),l=u.scopeName("serialize"),h={self:this,gen:u,schema:t.schema,schemaEnv:t,definitions:e,data:a.default.data};let f;try{this._compilations.add(t),t.serializeName=l,u.func(l,a.default.data,!1,(()=>{u.let(a.default.json,i.str``),p(h),u.return(a.default.json)})),u.optimize(this.opts.code.optimize);const e=u.toString();f=`${u.scopeRefs(a.default.scope)}return ${e}`;const r=new Function(`${a.default.scope}`,f)(this.scope.get());this.scope.value(l,{ref:r}),t.serialize=r}catch(e){throw f&&this.logger.error("Error compiling serializer, function code:",f),delete t.serialize,delete t.serializeName,e}finally{this._compilations.delete(t)}return t}function p(t){let e;for(const r of s.jtdForms)if(r in t.schema){e=r;break}!function(t,e){const{gen:r,schema:s,data:n}=t;if(!s.nullable)return e(t);r.if(i._`${n} === undefined || ${n} === null`,(()=>r.add(a.default.json,i._`"null"`)),(()=>e(t)))}(t,e?f[e]:w)}function m(t,e,r,s){const{gen:n,data:o}=t;b(t,s),v({...t,data:e}),n.add(a.default.json,i.str`:`);const c=n.const("value",i._`${o}${(0,i.getProperty)(e)}`);p({...t,schema:r,data:c})}function g(t){const{gen:e}=t;e.add(a.default.json,i.str`{`),y(t),e.add(a.default.json,i.str`}`)}function y(t,e){const{gen:r,schema:s,data:n}=t,{properties:o,optionalProperties:u}=s,l=y(o),h=y(u),f=function(t){if(e&&t.push(e),new Set(t).size!==t.length)throw new Error("JTD: properties/optionalProperties/disciminator overlap");return t}(l.concat(h));let d,g=!e;for(const t of l)g?g=!1:r.add(a.default.json,i.str`,`),w(t,o[t],v(t));g&&(d=r.let("first",!0));for(const e of h){const s=v(e);r.if((0,i.and)(i._`${s} !== undefined`,(0,c.isOwnProperty)(r,n,e)),(()=>{b(t,d),w(e,u[e],s)}))}function y(t){return t?Object.keys(t):[]}function v(t){return r.const("value",i._`${n}${(0,i.getProperty)(t)}`)}function w(e,s,n){r.add(a.default.json,i.str`${JSON.stringify(e)}:`),p({...t,schema:s,data:n})}s.additionalProperties&&r.forIn("key",n,(e=>r.if(function(t,e){return!e.length||(0,i.and)(...e.map((e=>i._`${t} !== ${e}`)))}(e,f),(()=>m(t,e,{},d)))))}function v({gen:t,data:e}){t.add(a.default.json,i._`${(0,l.useFunc)(t,h.default)}(${e})`)}function w({gen:t,data:e}){t.add(a.default.json,i._`JSON.stringify(${e})`)}function b({gen:t},e){e?t.if(e,(()=>t.assign(e,!1)),(()=>t.add(a.default.json,i.str`,`))):t.add(a.default.json,i.str`,`)}e.default=d},8605:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.jtdForms=void 0,e.jtdForms=["elements","values","discriminator","properties","optionalProperties","enum","type","ref"]},5994:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(2920),n={data:new s.Name("data"),valCxt:new s.Name("valCxt"),instancePath:new s.Name("instancePath"),parentData:new s.Name("parentData"),parentDataProperty:new s.Name("parentDataProperty"),rootData:new s.Name("rootData"),dynamicAnchors:new s.Name("dynamicAnchors"),vErrors:new s.Name("vErrors"),errors:new s.Name("errors"),this:new s.Name("this"),self:new s.Name("self"),scope:new s.Name("scope"),json:new s.Name("json"),jsonPos:new s.Name("jsonPos"),jsonLen:new s.Name("jsonLen"),jsonPart:new s.Name("jsonPart")};e.default=n},4198:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(5756);class n extends Error{constructor(t,e,r,n){super(n||`can't resolve reference ${r} from id ${e}`),this.missingRef=(0,s.resolveUrl)(t,e,r),this.missingSchema=(0,s.normalizeId)((0,s.getFullPath)(t,this.missingRef))}}e.default=n},5756:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSchemaRefs=e.resolveUrl=e.normalizeId=e._getFullPath=e.getFullPath=e.inlineRef=void 0;const s=r(4208),n=r(7429),i=r(1827),o=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);e.inlineRef=function(t,e=!0){return"boolean"==typeof t||(!0===e?!c(t):!!e&&u(t)<=e)};const a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function c(t){for(const e in t){if(a.has(e))return!0;const r=t[e];if(Array.isArray(r)&&r.some(c))return!0;if("object"==typeof r&&c(r))return!0}return!1}function u(t){let e=0;for(const r in t){if("$ref"===r)return 1/0;if(e++,!o.has(r)&&("object"==typeof t[r]&&(0,s.eachItem)(t[r],(t=>e+=u(t))),e===1/0))return 1/0}return e}function l(t,e="",r){!1!==r&&(e=d(e));const s=t.parse(e);return h(t,s)}function h(t,e){return t.serialize(e).split("#")[0]+"#"}e.getFullPath=l,e._getFullPath=h;const f=/#\/?$/;function d(t){return t?t.replace(f,""):""}e.normalizeId=d,e.resolveUrl=function(t,e,r){return r=d(r),t.resolve(e,r)};const p=/^[a-z_][-a-z0-9._]*$/i;e.getSchemaRefs=function(t,e){if("boolean"==typeof t)return{};const{schemaId:r,uriResolver:s}=this.opts,o=d(t[r]||e),a={"":o},c=l(s,o,!1),u={},h=new Set;return i(t,{allKeys:!0},((t,e,s,n)=>{if(void 0===n)return;const i=c+e;let o=a[n];function l(e){const r=this.opts.uriResolver.resolve;if(e=d(o?r(o,e):e),h.has(e))throw m(e);h.add(e);let s=this.refs[e];return"string"==typeof s&&(s=this.refs[s]),"object"==typeof s?f(t,s.schema,e):e!==d(i)&&("#"===e[0]?(f(t,u[e],e),u[e]=t):this.refs[e]=i),e}function g(t){if("string"==typeof t){if(!p.test(t))throw new Error(`invalid anchor "${t}"`);l.call(this,`#${t}`)}}"string"==typeof t[r]&&(o=l.call(this,t[r])),g.call(this,t.$anchor),g.call(this,t.$dynamicAnchor),a[e]=o})),u;function f(t,e,r){if(void 0!==e&&!n(t,e))throw m(r)}function m(t){return new Error(`reference "${t}" resolves to more than one schema`)}}},4170:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRules=e.isJSONType=void 0;const r=new Set(["string","number","integer","boolean","null","object","array"]);e.isJSONType=function(t){return"string"==typeof t&&r.has(t)},e.getRules=function(){const t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}},4208:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const s=r(2920),n=r(3273);function i(t,e=t.schema){const{opts:r,self:s}=t;if(!r.strictSchema)return;if("boolean"==typeof e)return;const n=s.RULES.keywords;for(const r in e)n[r]||p(t,`unknown keyword: "${r}"`)}function o(t,e){if("boolean"==typeof t)return!t;for(const r in t)if(e[r])return!0;return!1}function a(t){return"number"==typeof t?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}function c(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}function u({mergeNames:t,mergeToName:e,mergeValues:r,resultToName:n}){return(i,o,a,c)=>{const u=void 0===a?o:a instanceof s.Name?(o instanceof s.Name?t(i,o,a):e(i,o,a),a):o instanceof s.Name?(e(i,a,o),o):r(o,a);return c!==s.Name||u instanceof s.Name?u:n(i,u)}}function l(t,e){if(!0===e)return t.var("props",!0);const r=t.var("props",s._`{}`);return void 0!==e&&h(t,r,e),r}function h(t,e,r){Object.keys(r).forEach((r=>t.assign(s._`${e}${(0,s.getProperty)(r)}`,!0)))}e.toHash=function(t){const e={};for(const r of t)e[r]=!0;return e},e.alwaysValidSchema=function(t,e){return"boolean"==typeof e?e:0===Object.keys(e).length||(i(t,e),!o(e,t.self.RULES.all))},e.checkUnknownRules=i,e.schemaHasRules=o,e.schemaHasRulesButRef=function(t,e){if("boolean"==typeof t)return!t;for(const r in t)if("$ref"!==r&&e.all[r])return!0;return!1},e.schemaRefOrVal=function({topSchemaRef:t,schemaPath:e},r,n,i){if(!i){if("number"==typeof r||"boolean"==typeof r)return r;if("string"==typeof r)return s._`${r}`}return s._`${t}${e}${(0,s.getProperty)(n)}`},e.unescapeFragment=function(t){return c(decodeURIComponent(t))},e.escapeFragment=function(t){return encodeURIComponent(a(t))},e.escapeJsonPointer=a,e.unescapeJsonPointer=c,e.eachItem=function(t,e){if(Array.isArray(t))for(const r of t)e(r);else e(t)},e.mergeEvaluated={props:u({mergeNames:(t,e,r)=>t.if(s._`${r} !== true && ${e} !== undefined`,(()=>{t.if(s._`${e} === true`,(()=>t.assign(r,!0)),(()=>t.assign(r,s._`${r} || {}`).code(s._`Object.assign(${r}, ${e})`)))})),mergeToName:(t,e,r)=>t.if(s._`${r} !== true`,(()=>{!0===e?t.assign(r,!0):(t.assign(r,s._`${r} || {}`),h(t,r,e))})),mergeValues:(t,e)=>!0===t||{...t,...e},resultToName:l}),items:u({mergeNames:(t,e,r)=>t.if(s._`${r} !== true && ${e} !== undefined`,(()=>t.assign(r,s._`${e} === true ? true : ${r} > ${e} ? ${r} : ${e}`))),mergeToName:(t,e,r)=>t.if(s._`${r} !== true`,(()=>t.assign(r,!0===e||s._`${r} > ${e} ? ${r} : ${e}`))),mergeValues:(t,e)=>!0===t||Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})},e.evaluatedPropsToName=l,e.setEvaluated=h;const f={};var d;function p(t,e,r=t.opts.strictSchema){if(r){if(e=`strict mode: ${e}`,!0===r)throw new Error(e);t.self.logger.warn(e)}}e.useFunc=function(t,e){return t.scopeValue("func",{ref:e,code:f[e.code]||(f[e.code]=new n._Code(e.code))})},function(t){t[t.Num=0]="Num",t[t.Str=1]="Str"}(d=e.Type||(e.Type={})),e.getErrorPath=function(t,e,r){if(t instanceof s.Name){const n=e===d.Num;return r?n?s._`"[" + ${t} + "]"`:s._`"['" + ${t} + "']"`:n?s._`"/" + ${t}`:s._`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,s.getProperty)(t).toString():"/"+a(t)},e.checkStrictMode=p},9234:(t,e)=>{"use strict";function r(t,e){return e.rules.some((e=>s(t,e)))}function s(t,e){var r;return void 0!==t[e.keyword]||(null===(r=e.definition.implements)||void 0===r?void 0:r.some((e=>void 0!==t[e])))}Object.defineProperty(e,"__esModule",{value:!0}),e.shouldUseRule=e.shouldUseGroup=e.schemaHasRulesForType=void 0,e.schemaHasRulesForType=function({schema:t,self:e},s){const n=e.RULES.types[s];return n&&!0!==n&&r(t,n)},e.shouldUseGroup=r,e.shouldUseRule=s},3836:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.boolOrEmptySchema=e.topBoolOrEmptySchema=void 0;const s=r(3556),n=r(2920),i=r(5994),o={message:"boolean schema is false"};function a(t,e){const{gen:r,data:n}=t,i={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,s.reportError)(i,o,void 0,e)}e.topBoolOrEmptySchema=function(t){const{gen:e,schema:r,validateName:s}=t;!1===r?a(t,!1):"object"==typeof r&&!0===r.$async?e.return(i.default.data):(e.assign(n._`${s}.errors`,null),e.return(!0))},e.boolOrEmptySchema=function(t,e){const{gen:r,schema:s}=t;!1===s?(r.var(e,!1),a(t)):r.var(e,!0)}},860:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const s=r(4170),n=r(9234),i=r(3556),o=r(2920),a=r(4208);var c;function u(t){const e=Array.isArray(t)?t:t?[t]:[];if(e.every(s.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}!function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"}(c=e.DataType||(e.DataType={})),e.getSchemaTypes=function(t){const e=u(t.type);if(e.includes("null")){if(!1===t.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&void 0!==t.nullable)throw new Error('"nullable" cannot be used without "type"');!0===t.nullable&&e.push("null")}return e},e.getJSONTypes=u,e.coerceAndCheckDataType=function(t,e){const{gen:r,data:s,opts:i}=t,a=function(t,e){return e?t.filter((t=>l.has(t)||"array"===e&&"array"===t)):[]}(e,i.coerceTypes),u=e.length>0&&!(0===a.length&&1===e.length&&(0,n.schemaHasRulesForType)(t,e[0]));if(u){const n=f(e,s,i.strictNumbers,c.Wrong);r.if(n,(()=>{a.length?function(t,e,r){const{gen:s,data:n,opts:i}=t,a=s.let("dataType",o._`typeof ${n}`),c=s.let("coerced",o._`undefined`);"array"===i.coerceTypes&&s.if(o._`${a} == 'object' && Array.isArray(${n}) && ${n}.length == 1`,(()=>s.assign(n,o._`${n}[0]`).assign(a,o._`typeof ${n}`).if(f(e,n,i.strictNumbers),(()=>s.assign(c,n))))),s.if(o._`${c} !== undefined`);for(const t of r)(l.has(t)||"array"===t&&"array"===i.coerceTypes)&&u(t);function u(t){switch(t){case"string":return void s.elseIf(o._`${a} == "number" || ${a} == "boolean"`).assign(c,o._`"" + ${n}`).elseIf(o._`${n} === null`).assign(c,o._`""`);case"number":return void s.elseIf(o._`${a} == "boolean" || ${n} === null
              || (${a} == "string" && ${n} && ${n} == +${n})`).assign(c,o._`+${n}`);case"integer":return void s.elseIf(o._`${a} === "boolean" || ${n} === null
              || (${a} === "string" && ${n} && ${n} == +${n} && !(${n} % 1))`).assign(c,o._`+${n}`);case"boolean":return void s.elseIf(o._`${n} === "false" || ${n} === 0 || ${n} === null`).assign(c,!1).elseIf(o._`${n} === "true" || ${n} === 1`).assign(c,!0);case"null":return s.elseIf(o._`${n} === "" || ${n} === 0 || ${n} === false`),void s.assign(c,null);case"array":s.elseIf(o._`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${n} === null`).assign(c,o._`[${n}]`)}}s.else(),p(t),s.endIf(),s.if(o._`${c} !== undefined`,(()=>{s.assign(n,c),function({gen:t,parentData:e,parentDataProperty:r},s){t.if(o._`${e} !== undefined`,(()=>t.assign(o._`${e}[${r}]`,s)))}(t,c)}))}(t,e,a):p(t)}))}return u};const l=new Set(["string","number","integer","boolean","null"]);function h(t,e,r,s=c.Correct){const n=s===c.Correct?o.operators.EQ:o.operators.NEQ;let i;switch(t){case"null":return o._`${e} ${n} null`;case"array":i=o._`Array.isArray(${e})`;break;case"object":i=o._`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":i=a(o._`!(${e} % 1) && !isNaN(${e})`);break;case"number":i=a();break;default:return o._`typeof ${e} ${n} ${t}`}return s===c.Correct?i:(0,o.not)(i);function a(t=o.nil){return(0,o.and)(o._`typeof ${e} == "number"`,t,r?o._`isFinite(${e})`:o.nil)}}function f(t,e,r,s){if(1===t.length)return h(t[0],e,r,s);let n;const i=(0,a.toHash)(t);if(i.array&&i.object){const t=o._`typeof ${e} != "object"`;n=i.null?t:o._`!${e} || ${t}`,delete i.null,delete i.array,delete i.object}else n=o.nil;i.number&&delete i.integer;for(const t in i)n=(0,o.and)(n,h(t,e,r,s));return n}e.checkDataType=h,e.checkDataTypes=f;const d={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:e})=>"string"==typeof t?o._`{type: ${t}}`:o._`{type: ${e}}`};function p(t){const e=function(t){const{gen:e,data:r,schema:s}=t,n=(0,a.schemaRefOrVal)(t,s,"type");return{gen:e,keyword:"type",data:r,schema:s.type,schemaCode:n,schemaValue:n,parentSchema:s,params:{},it:t}}(t);(0,i.reportError)(e,d)}e.reportTypeError=p},8313:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assignDefaults=void 0;const s=r(2920),n=r(4208);function i(t,e,r){const{gen:i,compositeRule:o,data:a,opts:c}=t;if(void 0===r)return;const u=s._`${a}${(0,s.getProperty)(e)}`;if(o)return void(0,n.checkStrictMode)(t,`default is ignored for: ${u}`);let l=s._`${u} === undefined`;"empty"===c.useDefaults&&(l=s._`${l} || ${u} === null || ${u} === ""`),i.if(l,s._`${u} = ${(0,s.stringify)(r)}`)}e.assignDefaults=function(t,e){const{properties:r,items:s}=t.schema;if("object"===e&&r)for(const e in r)i(t,e,r[e].default);else"array"===e&&Array.isArray(s)&&s.forEach(((e,r)=>i(t,r,e.default)))}},2154:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getData=e.KeywordCxt=e.validateFunctionCode=void 0;const s=r(3836),n=r(860),i=r(9234),o=r(860),a=r(8313),c=r(5777),u=r(1123),l=r(2920),h=r(5994),f=r(5756),d=r(4208),p=r(3556);function m({gen:t,validateName:e,schema:r,schemaEnv:s,opts:n},i){n.code.es5?t.func(e,l._`${h.default.data}, ${h.default.valCxt}`,s.$async,(()=>{t.code(l._`"use strict"; ${g(r,n)}`),function(t,e){t.if(h.default.valCxt,(()=>{t.var(h.default.instancePath,l._`${h.default.valCxt}.${h.default.instancePath}`),t.var(h.default.parentData,l._`${h.default.valCxt}.${h.default.parentData}`),t.var(h.default.parentDataProperty,l._`${h.default.valCxt}.${h.default.parentDataProperty}`),t.var(h.default.rootData,l._`${h.default.valCxt}.${h.default.rootData}`),e.dynamicRef&&t.var(h.default.dynamicAnchors,l._`${h.default.valCxt}.${h.default.dynamicAnchors}`)}),(()=>{t.var(h.default.instancePath,l._`""`),t.var(h.default.parentData,l._`undefined`),t.var(h.default.parentDataProperty,l._`undefined`),t.var(h.default.rootData,h.default.data),e.dynamicRef&&t.var(h.default.dynamicAnchors,l._`{}`)}))}(t,n),t.code(i)})):t.func(e,l._`${h.default.data}, ${function(t){return l._`{${h.default.instancePath}="", ${h.default.parentData}, ${h.default.parentDataProperty}, ${h.default.rootData}=${h.default.data}${t.dynamicRef?l._`, ${h.default.dynamicAnchors}={}`:l.nil}}={}`}(n)}`,s.$async,(()=>t.code(g(r,n)).code(i)))}function g(t,e){const r="object"==typeof t&&t[e.schemaId];return r&&(e.code.source||e.code.process)?l._`/*# sourceURL=${r} */`:l.nil}function y({schema:t,self:e}){if("boolean"==typeof t)return!t;for(const r in t)if(e.RULES.all[r])return!0;return!1}function v(t){return"boolean"!=typeof t.schema}function w(t){(0,d.checkUnknownRules)(t),function(t){const{schema:e,errSchemaPath:r,opts:s,self:n}=t;e.$ref&&s.ignoreKeywordsWithRef&&(0,d.schemaHasRulesButRef)(e,n.RULES)&&n.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}(t)}function b(t,e){if(t.opts.jtd)return S(t,[],!1,e);const r=(0,n.getSchemaTypes)(t.schema);S(t,r,!(0,n.coerceAndCheckDataType)(t,r),e)}function A({gen:t,schemaEnv:e,schema:r,errSchemaPath:s,opts:n}){const i=r.$comment;if(!0===n.$comment)t.code(l._`${h.default.self}.logger.log(${i})`);else if("function"==typeof n.$comment){const r=l.str`${s}/$comment`,n=t.scopeValue("root",{ref:e.root});t.code(l._`${h.default.self}.opts.$comment(${i}, ${r}, ${n}.schema)`)}}function S(t,e,r,s){const{gen:n,schema:a,data:c,allErrors:u,opts:f,self:p}=t,{RULES:m}=p;function g(d){(0,i.shouldUseGroup)(a,d)&&(d.type?(n.if((0,o.checkDataType)(d.type,c,f.strictNumbers)),E(t,d),1===e.length&&e[0]===d.type&&r&&(n.else(),(0,o.reportTypeError)(t)),n.endIf()):E(t,d),u||n.if(l._`${h.default.errors} === ${s||0}`))}!a.$ref||!f.ignoreKeywordsWithRef&&(0,d.schemaHasRulesButRef)(a,m)?(f.jtd||function(t,e){!t.schemaEnv.meta&&t.opts.strictTypes&&(function(t,e){e.length&&(t.dataTypes.length?(e.forEach((e=>{_(t.dataTypes,e)||k(t,`type "${e}" not allowed by context "${t.dataTypes.join(",")}"`)})),function(t,e){const r=[];for(const s of t.dataTypes)_(e,s)?r.push(s):e.includes("integer")&&"number"===s&&r.push("integer");t.dataTypes=r}(t,e)):t.dataTypes=e)}(t,e),t.opts.allowUnionTypes||function(t,e){e.length>1&&(2!==e.length||!e.includes("null"))&&k(t,"use allowUnionTypes to allow union type keyword")}(t,e),function(t,e){const r=t.self.RULES.all;for(const s in r){const n=r[s];if("object"==typeof n&&(0,i.shouldUseRule)(t.schema,n)){const{type:r}=n.definition;r.length&&!r.some((t=>{return s=t,(r=e).includes(s)||"number"===s&&r.includes("integer");var r,s}))&&k(t,`missing type "${r.join(",")}" for keyword "${s}"`)}}}(t,t.dataTypes))}(t,e),n.block((()=>{for(const t of m.rules)g(t);g(m.post)}))):n.block((()=>P(t,"$ref",m.all.$ref.definition)))}function E(t,e){const{gen:r,schema:s,opts:{useDefaults:n}}=t;n&&(0,a.assignDefaults)(t,e.type),r.block((()=>{for(const r of e.rules)(0,i.shouldUseRule)(s,r)&&P(t,r.keyword,r.definition,e.type)}))}function _(t,e){return t.includes(e)||"integer"===e&&t.includes("number")}function k(t,e){e+=` at "${t.schemaEnv.baseId+t.errSchemaPath}" (strictTypes)`,(0,d.checkStrictMode)(t,e,t.opts.strictTypes)}e.validateFunctionCode=function(t){v(t)&&(w(t),y(t))?function(t){const{schema:e,opts:r,gen:s}=t;m(t,(()=>{r.$comment&&e.$comment&&A(t),function(t){const{schema:e,opts:r}=t;void 0!==e.default&&r.useDefaults&&r.strictSchema&&(0,d.checkStrictMode)(t,"default is ignored in the schema root")}(t),s.let(h.default.vErrors,null),s.let(h.default.errors,0),r.unevaluated&&function(t){const{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",l._`${r}.evaluated`),e.if(l._`${t.evaluated}.dynamicProps`,(()=>e.assign(l._`${t.evaluated}.props`,l._`undefined`))),e.if(l._`${t.evaluated}.dynamicItems`,(()=>e.assign(l._`${t.evaluated}.items`,l._`undefined`)))}(t),b(t),function(t){const{gen:e,schemaEnv:r,validateName:s,ValidationError:n,opts:i}=t;r.$async?e.if(l._`${h.default.errors} === 0`,(()=>e.return(h.default.data)),(()=>e.throw(l._`new ${n}(${h.default.vErrors})`))):(e.assign(l._`${s}.errors`,h.default.vErrors),i.unevaluated&&function({gen:t,evaluated:e,props:r,items:s}){r instanceof l.Name&&t.assign(l._`${e}.props`,r),s instanceof l.Name&&t.assign(l._`${e}.items`,s)}(t),e.return(l._`${h.default.errors} === 0`))}(t)}))}(t):m(t,(()=>(0,s.topBoolOrEmptySchema)(t)))};class x{constructor(t,e,r){if((0,c.validateKeywordUsage)(t,e,r),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=r,this.data=t.data,this.schema=t.schema[r],this.$data=e.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,d.schemaRefOrVal)(t,this.schema,r,this.$data),this.schemaType=e.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=e,this.$data)this.schemaCode=t.gen.const("vSchema",$(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,c.validSchemaType)(this.schema,e.schemaType,e.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(e.schemaType)}`);("code"in e?e.trackErrors:!1!==e.errors)&&(this.errsCount=t.gen.const("_errs",h.default.errors))}result(t,e,r){this.failResult((0,l.not)(t),e,r)}failResult(t,e,r){this.gen.if(t),r?r():this.error(),e?(this.gen.else(),e(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,e){this.failResult((0,l.not)(t),void 0,e)}fail(t){if(void 0===t)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:e}=this;this.fail(l._`${e} !== undefined && (${(0,l.or)(this.invalid$data(),t)})`)}error(t,e,r){if(e)return this.setParams(e),this._error(t,r),void this.setParams({});this._error(t,r)}_error(t,e){(t?p.reportExtraError:p.reportError)(this,this.def.error,e)}$dataError(){(0,p.reportError)(this,this.def.$dataError||p.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,p.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,e){e?Object.assign(this.params,t):this.params=t}block$data(t,e,r=l.nil){this.gen.block((()=>{this.check$data(t,r),e()}))}check$data(t=l.nil,e=l.nil){if(!this.$data)return;const{gen:r,schemaCode:s,schemaType:n,def:i}=this;r.if((0,l.or)(l._`${s} === undefined`,e)),t!==l.nil&&r.assign(t,!0),(n.length||i.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),t!==l.nil&&r.assign(t,!1)),r.else()}invalid$data(){const{gen:t,schemaCode:e,schemaType:r,def:s,it:n}=this;return(0,l.or)(function(){if(r.length){if(!(e instanceof l.Name))throw new Error("ajv implementation error");const t=Array.isArray(r)?r:[r];return l._`${(0,o.checkDataTypes)(t,e,n.opts.strictNumbers,o.DataType.Wrong)}`}return l.nil}(),function(){if(s.validateSchema){const r=t.scopeValue("validate$data",{ref:s.validateSchema});return l._`!${r}(${e})`}return l.nil}())}subschema(t,e){const r=(0,u.getSubschema)(this.it,t);(0,u.extendSubschemaData)(r,this.it,t),(0,u.extendSubschemaMode)(r,t);const n={...this.it,...r,items:void 0,props:void 0};return function(t,e){v(t)&&(w(t),y(t))?function(t,e){const{schema:r,gen:s,opts:n}=t;n.$comment&&r.$comment&&A(t),function(t){const e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,f.resolveUrl)(t.opts.uriResolver,t.baseId,e))}(t),function(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}(t);const i=s.const("_errs",h.default.errors);b(t,i),s.var(e,l._`${i} === ${h.default.errors}`)}(t,e):(0,s.boolOrEmptySchema)(t,e)}(n,e),n}mergeEvaluated(t,e){const{it:r,gen:s}=this;r.opts.unevaluated&&(!0!==r.props&&void 0!==t.props&&(r.props=d.mergeEvaluated.props(s,t.props,r.props,e)),!0!==r.items&&void 0!==t.items&&(r.items=d.mergeEvaluated.items(s,t.items,r.items,e)))}mergeValidEvaluated(t,e){const{it:r,gen:s}=this;if(r.opts.unevaluated&&(!0!==r.props||!0!==r.items))return s.if(e,(()=>this.mergeEvaluated(t,l.Name))),!0}}function P(t,e,r,s){const n=new x(t,r,e);"code"in r?r.code(n,s):n.$data&&r.validate?(0,c.funcKeywordCode)(n,r):"macro"in r?(0,c.macroKeywordCode)(n,r):(r.compile||r.validate)&&(0,c.funcKeywordCode)(n,r)}e.KeywordCxt=x;const O=/^\/(?:[^~]|~0|~1)*$/,C=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function $(t,{dataLevel:e,dataNames:r,dataPathArr:s}){let n,i;if(""===t)return h.default.rootData;if("/"===t[0]){if(!O.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);n=t,i=h.default.rootData}else{const o=C.exec(t);if(!o)throw new Error(`Invalid JSON-pointer: ${t}`);const a=+o[1];if(n=o[2],"#"===n){if(a>=e)throw new Error(c("property/index",a));return s[e-a]}if(a>e)throw new Error(c("data",a));if(i=r[e-a],!n)return i}let o=i;const a=n.split("/");for(const t of a)t&&(i=l._`${i}${(0,l.getProperty)((0,d.unescapeJsonPointer)(t))}`,o=l._`${o} && ${i}`);return o;function c(t,r){return`Cannot access ${t} ${r} levels up, current level is ${e}`}}e.getData=$},5777:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateKeywordUsage=e.validSchemaType=e.funcKeywordCode=e.macroKeywordCode=void 0;const s=r(2920),n=r(5994),i=r(9879),o=r(3556);function a(t){const{gen:e,data:r,it:n}=t;e.if(n.parentData,(()=>e.assign(r,s._`${n.parentData}[${n.parentDataProperty}]`)))}function c(t,e,r){if(void 0===r)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword","function"==typeof r?{ref:r}:{ref:r,code:(0,s.stringify)(r)})}e.macroKeywordCode=function(t,e){const{gen:r,keyword:n,schema:i,parentSchema:o,it:a}=t,u=e.macro.call(a.self,i,o,a),l=c(r,n,u);!1!==a.opts.validateSchema&&a.self.validateSchema(u,!0);const h=r.name("valid");t.subschema({schema:u,schemaPath:s.nil,errSchemaPath:`${a.errSchemaPath}/${n}`,topSchemaRef:l,compositeRule:!0},h),t.pass(h,(()=>t.error(!0)))},e.funcKeywordCode=function(t,e){var r;const{gen:u,keyword:l,schema:h,parentSchema:f,$data:d,it:p}=t;!function({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}(p,e);const m=!d&&e.compile?e.compile.call(p.self,h,f,p):e.validate,g=c(u,l,m),y=u.let("valid");function v(r=(e.async?s._`await `:s.nil)){const o=p.opts.passContext?n.default.this:n.default.self,a=!("compile"in e&&!d||!1===e.schema);u.assign(y,s._`${r}${(0,i.callValidateCode)(t,g,o,a)}`,e.modifying)}function w(t){var r;u.if((0,s.not)(null!==(r=e.valid)&&void 0!==r?r:y),t)}t.block$data(y,(function(){if(!1===e.errors)v(),e.modifying&&a(t),w((()=>t.error()));else{const r=e.async?function(){const t=u.let("ruleErrs",null);return u.try((()=>v(s._`await `)),(e=>u.assign(y,!1).if(s._`${e} instanceof ${p.ValidationError}`,(()=>u.assign(t,s._`${e}.errors`)),(()=>u.throw(e))))),t}():function(){const t=s._`${g}.errors`;return u.assign(t,null),v(s.nil),t}();e.modifying&&a(t),w((()=>function(t,e){const{gen:r}=t;r.if(s._`Array.isArray(${e})`,(()=>{r.assign(n.default.vErrors,s._`${n.default.vErrors} === null ? ${e} : ${n.default.vErrors}.concat(${e})`).assign(n.default.errors,s._`${n.default.vErrors}.length`),(0,o.extendErrors)(t)}),(()=>t.error()))}(t,r)))}})),t.ok(null!==(r=e.valid)&&void 0!==r?r:y)},e.validSchemaType=function(t,e,r=!1){return!e.length||e.some((e=>"array"===e?Array.isArray(t):"object"===e?t&&"object"==typeof t&&!Array.isArray(t):typeof t==e||r&&void 0===t))},e.validateKeywordUsage=function({schema:t,opts:e,self:r,errSchemaPath:s},n,i){if(Array.isArray(n.keyword)?!n.keyword.includes(i):n.keyword!==i)throw new Error("ajv implementation error");const o=n.dependencies;if(null==o?void 0:o.some((e=>!Object.prototype.hasOwnProperty.call(t,e))))throw new Error(`parent schema must have dependencies of ${i}: ${o.join(",")}`);if(n.validateSchema&&!n.validateSchema(t[i])){const t=`keyword "${i}" value is invalid at path "${s}": `+r.errorsText(n.validateSchema.errors);if("log"!==e.validateSchema)throw new Error(t);r.logger.error(t)}}},1123:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extendSubschemaMode=e.extendSubschemaData=e.getSubschema=void 0;const s=r(2920),n=r(4208);e.getSubschema=function(t,{keyword:e,schemaProp:r,schema:i,schemaPath:o,errSchemaPath:a,topSchemaRef:c}){if(void 0!==e&&void 0!==i)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==e){const i=t.schema[e];return void 0===r?{schema:i,schemaPath:s._`${t.schemaPath}${(0,s.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:i[r],schemaPath:s._`${t.schemaPath}${(0,s.getProperty)(e)}${(0,s.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,n.escapeFragment)(r)}`}}if(void 0!==i){if(void 0===o||void 0===a||void 0===c)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:o,topSchemaRef:c,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')},e.extendSubschemaData=function(t,e,{dataProp:r,dataPropType:i,data:o,dataTypes:a,propertyName:c}){if(void 0!==o&&void 0!==r)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:u}=e;if(void 0!==r){const{errorPath:o,dataPathArr:a,opts:c}=e;l(u.let("data",s._`${e.data}${(0,s.getProperty)(r)}`,!0)),t.errorPath=s.str`${o}${(0,n.getErrorPath)(r,i,c.jsPropertySyntax)}`,t.parentDataProperty=s._`${r}`,t.dataPathArr=[...a,t.parentDataProperty]}function l(r){t.data=r,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,r]}void 0!==o&&(l(o instanceof s.Name?o:u.let("data",o,!0)),void 0!==c&&(t.propertyName=c)),a&&(t.dataTypes=a)},e.extendSubschemaMode=function(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:s,createErrors:n,allErrors:i}){void 0!==s&&(t.compositeRule=s),void 0!==n&&(t.createErrors=n),void 0!==i&&(t.allErrors=i),t.jtdDiscriminator=e,t.jtdMetadata=r}},6646:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var s=r(2154);Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return s.KeywordCxt}});var n=r(2920);Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const i=r(9596),o=r(4198),a=r(4170),c=r(6172),u=r(2920),l=r(5756),h=r(860),f=r(4208),d=r(5915),p=r(5240),m=(t,e)=>new RegExp(t,e);m.code="new RegExp";const g=["removeAdditional","useDefaults","coerceTypes"],y=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},w={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function b(t){var e,r,s,n,i,o,a,c,u,l,h,f,d,g,y,v,w,b,A,S,E,_,k,x,P;const O=t.strict,C=null===(e=t.code)||void 0===e?void 0:e.optimize,$=!0===C||void 0===C?1:C||0,j=null!==(s=null===(r=t.code)||void 0===r?void 0:r.regExp)&&void 0!==s?s:m,N=null!==(n=t.uriResolver)&&void 0!==n?n:p.default;return{strictSchema:null===(o=null!==(i=t.strictSchema)&&void 0!==i?i:O)||void 0===o||o,strictNumbers:null===(c=null!==(a=t.strictNumbers)&&void 0!==a?a:O)||void 0===c||c,strictTypes:null!==(l=null!==(u=t.strictTypes)&&void 0!==u?u:O)&&void 0!==l?l:"log",strictTuples:null!==(f=null!==(h=t.strictTuples)&&void 0!==h?h:O)&&void 0!==f?f:"log",strictRequired:null!==(g=null!==(d=t.strictRequired)&&void 0!==d?d:O)&&void 0!==g&&g,code:t.code?{...t.code,optimize:$,regExp:j}:{optimize:$,regExp:j},loopRequired:null!==(y=t.loopRequired)&&void 0!==y?y:200,loopEnum:null!==(v=t.loopEnum)&&void 0!==v?v:200,meta:null===(w=t.meta)||void 0===w||w,messages:null===(b=t.messages)||void 0===b||b,inlineRefs:null===(A=t.inlineRefs)||void 0===A||A,schemaId:null!==(S=t.schemaId)&&void 0!==S?S:"$id",addUsedSchema:null===(E=t.addUsedSchema)||void 0===E||E,validateSchema:null===(_=t.validateSchema)||void 0===_||_,validateFormats:null===(k=t.validateFormats)||void 0===k||k,unicodeRegExp:null===(x=t.unicodeRegExp)||void 0===x||x,int32range:null===(P=t.int32range)||void 0===P||P,uriResolver:N}}class A{constructor(t={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,t=this.opts={...t,...b(t)};const{es5:e,lines:r}=this.opts.code;this.scope=new u.ValueScope({scope:{},prefixes:y,es5:e,lines:r}),this.logger=function(t){if(!1===t)return O;if(void 0===t)return console;if(t.log&&t.warn&&t.error)return t;throw new Error("logger must implement log, warn and error methods")}(t.logger);const s=t.validateFormats;t.validateFormats=!1,this.RULES=(0,a.getRules)(),S.call(this,v,t,"NOT SUPPORTED"),S.call(this,w,t,"DEPRECATED","warn"),this._metaOpts=P.call(this),t.formats&&k.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),t.keywords&&x.call(this,t.keywords),"object"==typeof t.meta&&this.addMetaSchema(t.meta),_.call(this),t.validateFormats=s}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:t,meta:e,schemaId:r}=this.opts;let s=d;"id"===r&&(s={...d},s.id=s.$id,delete s.$id),e&&t&&this.addMetaSchema(s,s[r],!1)}defaultMeta(){const{meta:t,schemaId:e}=this.opts;return this.opts.defaultMeta="object"==typeof t?t[e]||t:void 0}validate(t,e){let r;if("string"==typeof t){if(r=this.getSchema(t),!r)throw new Error(`no schema with key or ref "${t}"`)}else r=this.compile(t);const s=r(e);return"$async"in r||(this.errors=r.errors),s}compile(t,e){const r=this._addSchema(t,e);return r.validate||this._compileSchemaEnv(r)}compileAsync(t,e){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:r}=this.opts;return s.call(this,t,e);async function s(t,e){await n.call(this,t.$schema);const r=this._addSchema(t,e);return r.validate||i.call(this,r)}async function n(t){t&&!this.getSchema(t)&&await s.call(this,{$ref:t},!0)}async function i(t){try{return this._compileSchemaEnv(t)}catch(e){if(!(e instanceof o.default))throw e;return a.call(this,e),await c.call(this,e.missingSchema),i.call(this,t)}}function a({missingSchema:t,missingRef:e}){if(this.refs[t])throw new Error(`AnySchema ${t} is loaded but ${e} cannot be resolved`)}async function c(t){const r=await u.call(this,t);this.refs[t]||await n.call(this,r.$schema),this.refs[t]||this.addSchema(r,t,e)}async function u(t){const e=this._loading[t];if(e)return e;try{return await(this._loading[t]=r(t))}finally{delete this._loading[t]}}}addSchema(t,e,r,s=this.opts.validateSchema){if(Array.isArray(t)){for(const e of t)this.addSchema(e,void 0,r,s);return this}let n;if("object"==typeof t){const{schemaId:e}=this.opts;if(n=t[e],void 0!==n&&"string"!=typeof n)throw new Error(`schema ${e} must be string`)}return e=(0,l.normalizeId)(e||n),this._checkUnique(e),this.schemas[e]=this._addSchema(t,r,e,s,!0),this}addMetaSchema(t,e,r=this.opts.validateSchema){return this.addSchema(t,e,!0,r),this}validateSchema(t,e){if("boolean"==typeof t)return!0;let r;if(r=t.$schema,void 0!==r&&"string"!=typeof r)throw new Error("$schema must be a string");if(r=r||this.opts.defaultMeta||this.defaultMeta(),!r)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const s=this.validate(r,t);if(!s&&e){const t="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(t);this.logger.error(t)}return s}getSchema(t){let e;for(;"string"==typeof(e=E.call(this,t));)t=e;if(void 0===e){const{schemaId:r}=this.opts,s=new c.SchemaEnv({schema:{},schemaId:r});if(e=c.resolveSchema.call(this,s,t),!e)return;this.refs[t]=e}return e.validate||this._compileSchemaEnv(e)}removeSchema(t){if(t instanceof RegExp)return this._removeAllSchemas(this.schemas,t),this._removeAllSchemas(this.refs,t),this;switch(typeof t){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const e=E.call(this,t);return"object"==typeof e&&this._cache.delete(e.schema),delete this.schemas[t],delete this.refs[t],this}case"object":{const e=t;this._cache.delete(e);let r=t[this.opts.schemaId];return r&&(r=(0,l.normalizeId)(r),delete this.schemas[r],delete this.refs[r]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(t){for(const e of t)this.addKeyword(e);return this}addKeyword(t,e){let r;if("string"==typeof t)r=t,"object"==typeof e&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),e.keyword=r);else{if("object"!=typeof t||void 0!==e)throw new Error("invalid addKeywords parameters");if(r=(e=t).keyword,Array.isArray(r)&&!r.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if($.call(this,r,e),!e)return(0,f.eachItem)(r,(t=>j.call(this,t))),this;F.call(this,e);const s={...e,type:(0,h.getJSONTypes)(e.type),schemaType:(0,h.getJSONTypes)(e.schemaType)};return(0,f.eachItem)(r,0===s.type.length?t=>j.call(this,t,s):t=>s.type.forEach((e=>j.call(this,t,s,e)))),this}getKeyword(t){const e=this.RULES.all[t];return"object"==typeof e?e.definition:!!e}removeKeyword(t){const{RULES:e}=this;delete e.keywords[t],delete e.all[t];for(const r of e.rules){const e=r.rules.findIndex((e=>e.keyword===t));e>=0&&r.rules.splice(e,1)}return this}addFormat(t,e){return"string"==typeof e&&(e=new RegExp(e)),this.formats[t]=e,this}errorsText(t=this.errors,{separator:e=", ",dataVar:r="data"}={}){return t&&0!==t.length?t.map((t=>`${r}${t.instancePath} ${t.message}`)).reduce(((t,r)=>t+e+r)):"No errors"}$dataMetaSchema(t,e){const r=this.RULES.all;t=JSON.parse(JSON.stringify(t));for(const s of e){const e=s.split("/").slice(1);let n=t;for(const t of e)n=n[t];for(const t in r){const e=r[t];if("object"!=typeof e)continue;const{$data:s}=e.definition,i=n[t];s&&i&&(n[t]=R(i))}}return t}_removeAllSchemas(t,e){for(const r in t){const s=t[r];e&&!e.test(r)||("string"==typeof s?delete t[r]:s&&!s.meta&&(this._cache.delete(s.schema),delete t[r]))}}_addSchema(t,e,r,s=this.opts.validateSchema,n=this.opts.addUsedSchema){let i;const{schemaId:o}=this.opts;if("object"==typeof t)i=t[o];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof t)throw new Error("schema must be object or boolean")}let a=this._cache.get(t);if(void 0!==a)return a;r=(0,l.normalizeId)(i||r);const u=l.getSchemaRefs.call(this,t,r);return a=new c.SchemaEnv({schema:t,schemaId:o,meta:e,baseId:r,localRefs:u}),this._cache.set(a.schema,a),n&&!r.startsWith("#")&&(r&&this._checkUnique(r),this.refs[r]=a),s&&this.validateSchema(t,!0),a}_checkUnique(t){if(this.schemas[t]||this.refs[t])throw new Error(`schema with key or id "${t}" already exists`)}_compileSchemaEnv(t){if(t.meta?this._compileMetaSchema(t):c.compileSchema.call(this,t),!t.validate)throw new Error("ajv implementation error");return t.validate}_compileMetaSchema(t){const e=this.opts;this.opts=this._metaOpts;try{c.compileSchema.call(this,t)}finally{this.opts=e}}}function S(t,e,r,s="error"){for(const n in t){const i=n;i in e&&this.logger[s](`${r}: option ${n}. ${t[i]}`)}}function E(t){return t=(0,l.normalizeId)(t),this.schemas[t]||this.refs[t]}function _(){const t=this.opts.schemas;if(t)if(Array.isArray(t))this.addSchema(t);else for(const e in t)this.addSchema(t[e],e)}function k(){for(const t in this.opts.formats){const e=this.opts.formats[t];e&&this.addFormat(t,e)}}function x(t){if(Array.isArray(t))this.addVocabulary(t);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const e in t){const r=t[e];r.keyword||(r.keyword=e),this.addKeyword(r)}}}function P(){const t={...this.opts};for(const e of g)delete t[e];return t}e.default=A,A.ValidationError=i.default,A.MissingRefError=o.default;const O={log(){},warn(){},error(){}},C=/^[a-z_$][a-z0-9_$:-]*$/i;function $(t,e){const{RULES:r}=this;if((0,f.eachItem)(t,(t=>{if(r.keywords[t])throw new Error(`Keyword ${t} is already defined`);if(!C.test(t))throw new Error(`Keyword ${t} has invalid name`)})),e&&e.$data&&!("code"in e)&&!("validate"in e))throw new Error('$data keyword must have "code" or "validate" function')}function j(t,e,r){var s;const n=null==e?void 0:e.post;if(r&&n)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:i}=this;let o=n?i.post:i.rules.find((({type:t})=>t===r));if(o||(o={type:r,rules:[]},i.rules.push(o)),i.keywords[t]=!0,!e)return;const a={keyword:t,definition:{...e,type:(0,h.getJSONTypes)(e.type),schemaType:(0,h.getJSONTypes)(e.schemaType)}};e.before?N.call(this,o,a,e.before):o.rules.push(a),i.all[t]=a,null===(s=e.implements)||void 0===s||s.forEach((t=>this.addKeyword(t)))}function N(t,e,r){const s=t.rules.findIndex((t=>t.keyword===r));s>=0?t.rules.splice(s,0,e):(t.rules.push(e),this.logger.warn(`rule ${r} is not defined`))}function F(t){let{metaSchema:e}=t;void 0!==e&&(t.$data&&this.opts.$data&&(e=R(e)),t.validateSchema=this.compile(e,!0))}const T={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function R(t){return{anyOf:[t,T]}}},3539:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;const s=r(6646),n=r(4022),i=r(3131),o=r(2377),a=r(8350),c="JTD-meta-schema";class u extends s.default{constructor(t={}){super({...t,jtd:!0})}_addVocabularies(){super._addVocabularies(),this.addVocabulary(n.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema(),this.opts.meta&&this.addMetaSchema(i.default,c,!1)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(c)?c:void 0)}compileSerializer(t){const e=this._addSchema(t);return e.serialize||this._compileSerializer(e)}compileParser(t){const e=this._addSchema(t);return e.parse||this._compileParser(e)}_compileSerializer(t){if(o.default.call(this,t,t.schema.definitions||{}),!t.serialize)throw new Error("ajv implementation error");return t.serialize}_compileParser(t){if(a.default.call(this,t,t.schema.definitions||{}),!t.parse)throw new Error("ajv implementation error");return t.parse}}t.exports=e=u,Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var l=r(2154);Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var h=r(2920);Object.defineProperty(e,"_",{enumerable:!0,get:function(){return h._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return h.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return h.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return h.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return h.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return h.CodeGen}});var f=r(9596);Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return f.default}});var d=r(4198);Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return d.default}})},3131:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=t=>{const e={nullable:{type:"boolean"},metadata:{optionalProperties:{union:{elements:{ref:"schema"}}},additionalProperties:!0}};return t&&(e.definitions={values:{ref:"schema"}}),e},s=t=>({optionalProperties:r(t)}),n=t=>({properties:{ref:{type:"string"}},optionalProperties:r(t)}),i=t=>({properties:{type:{enum:["boolean","timestamp","string","float32","float64","int8","uint8","int16","uint16","int32","uint32"]}},optionalProperties:r(t)}),o=t=>({properties:{enum:{elements:{type:"string"}}},optionalProperties:r(t)}),a=t=>({properties:{elements:{ref:"schema"}},optionalProperties:r(t)}),c=t=>({properties:{properties:{values:{ref:"schema"}}},optionalProperties:{optionalProperties:{values:{ref:"schema"}},additionalProperties:{type:"boolean"},...r(t)}}),u=t=>({properties:{optionalProperties:{values:{ref:"schema"}}},optionalProperties:{additionalProperties:{type:"boolean"},...r(t)}}),l=t=>({properties:{discriminator:{type:"string"},mapping:{values:{metadata:{union:[c(!1),u(!1)]}}}},optionalProperties:r(t)}),h=t=>({properties:{values:{ref:"schema"}},optionalProperties:r(t)}),f=t=>({metadata:{union:[s,n,i,o,a,c,u,l,h].map((e=>e(t)))}}),d={definitions:{schema:f(!1)},...f(!0)};e.default=d},9959:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseJsonString=e.parseJsonNumber=e.parseJson=void 0;const r=/position\s(\d+)$/;function s(t,e){let n,i;s.message=void 0,e&&(t=t.slice(e));try{return s.position=e+t.length,JSON.parse(t)}catch(o){if(i=r.exec(o.message),!i)return void(s.message="unexpected end");n=+i[1];const a=t[n];t=t.slice(0,n),s.position=e+n;try{return JSON.parse(t)}catch(t){return void(s.message=`unexpected token ${a}`)}}}function n(t,e,r){let s,i="";if(n.message=void 0,"-"===t[e]&&(i+="-",e++),"0"===t[e])i+="0",e++;else if(!o(r))return void a();if(r)return n.position=e,+i;if("."!==t[e]||(i+=".",e++,o())){if(s=t[e],"e"!==s&&"E"!==s||(i+="e",e++,s=t[e],("+"===s||"-"===s)&&(i+=s,e++),o()))return n.position=e,+i;a()}else a();function o(r){let n=!1;for(;s=t[e],s>="0"&&s<="9"&&(void 0===r||r-- >0);)n=!0,i+=s,e++;return n}function a(){n.position=e,n.message=e<t.length?`unexpected token ${t[e]}`:"unexpected end"}}e.parseJson=s,s.message=void 0,s.position=0,s.code='require("ajv/dist/runtime/parseJson").parseJson',e.parseJsonNumber=n,n.message=void 0,n.position=0,n.code='require("ajv/dist/runtime/parseJson").parseJsonNumber';const i={b:"\b",f:"\f",n:"\n",r:"\r",t:"\t",'"':'"',"/":"/","\\":"\\"},o="a".charCodeAt(0),a="0".charCodeAt(0);function c(t,e){let r,s="";for(c.message=void 0;r=t[e++],'"'!==r;)if("\\"===r)if(r=t[e],r in i)s+=i[r],e++;else{if("u"!==r)return void n(`unexpected token ${r}`);{e++;let i=4,c=0;for(;i--;){if(c<<=4,r=t[e],void 0===r)return void n("unexpected end");if(r=r.toLowerCase(),r>="a"&&r<="f")c+=r.charCodeAt(0)-o+10;else{if(!(r>="0"&&r<="9"))return void n(`unexpected token ${r}`);c+=r.charCodeAt(0)-a}e++}s+=String.fromCharCode(c)}}else{if(void 0===r)return void n("unexpected end");if(!(r.charCodeAt(0)>=32))return void n(`unexpected token ${r}`);s+=r}return c.position=e,s;function n(t){c.position=e,c.message=t}}e.parseJsonString=c,c.message=void 0,c.position=0,c.code='require("ajv/dist/runtime/parseJson").parseJsonString'},4309:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function n(t){return r.lastIndex=0,'"'+(r.test(t)?t.replace(r,(t=>{const e=s[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})):t)+'"'}e.default=n,n.code='require("ajv/dist/runtime/quote").default'},4679:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=/t|\s/i,s=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,n=/^(\d\d):(\d\d):(\d\d)(?:\.\d+)?(?:z|([+-]\d\d)(?::?(\d\d))?)$/i,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function o(t,e){const s=t.split(r);return 2===s.length&&a(s[0])&&function(t){const e=n.exec(t);if(!e)return!1;const r=+e[1],s=+e[2],i=+e[3],o=+(e[4]||0),a=+(e[5]||0);return r<=23&&s<=59&&i<=59||r-o==23&&s-a==59&&60===i}(s[1])||e&&1===s.length&&a(s[0])}function a(t){const e=s.exec(t);if(!e)return!1;const r=+e[1],n=+e[2],o=+e[3];return n>=1&&n<=12&&o>=1&&(o<=i[n]||2===n&&29===o&&(r%100==0?r%400==0:r%4==0))}e.default=o,o.code='require("ajv/dist/runtime/timestamp").default'},5240:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(4629);s.code='require("ajv/dist/runtime/uri").default',e.default=s},9596:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});class r extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}e.default=r},9879:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateUnion=e.validateArray=e.usePattern=e.callValidateCode=e.schemaProperties=e.allSchemaProperties=e.noPropertyInData=e.propertyInData=e.isOwnProperty=e.hasPropFunc=e.reportMissingProp=e.checkMissingProp=e.checkReportMissingProp=void 0;const s=r(2920),n=r(4208),i=r(5994),o=r(4208);function a(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:s._`Object.prototype.hasOwnProperty`})}function c(t,e,r){return s._`${a(t)}.call(${e}, ${r})`}function u(t,e,r,n){const i=s._`${e}${(0,s.getProperty)(r)} === undefined`;return n?(0,s.or)(i,(0,s.not)(c(t,e,r))):i}function l(t){return t?Object.keys(t).filter((t=>"__proto__"!==t)):[]}e.checkReportMissingProp=function(t,e){const{gen:r,data:n,it:i}=t;r.if(u(r,n,e,i.opts.ownProperties),(()=>{t.setParams({missingProperty:s._`${e}`},!0),t.error()}))},e.checkMissingProp=function({gen:t,data:e,it:{opts:r}},n,i){return(0,s.or)(...n.map((n=>(0,s.and)(u(t,e,n,r.ownProperties),s._`${i} = ${n}`))))},e.reportMissingProp=function(t,e){t.setParams({missingProperty:e},!0),t.error()},e.hasPropFunc=a,e.isOwnProperty=c,e.propertyInData=function(t,e,r,n){const i=s._`${e}${(0,s.getProperty)(r)} !== undefined`;return n?s._`${i} && ${c(t,e,r)}`:i},e.noPropertyInData=u,e.allSchemaProperties=l,e.schemaProperties=function(t,e){return l(e).filter((r=>!(0,n.alwaysValidSchema)(t,e[r])))},e.callValidateCode=function({schemaCode:t,data:e,it:{gen:r,topSchemaRef:n,schemaPath:o,errorPath:a},it:c},u,l,h){const f=h?s._`${t}, ${e}, ${n}${o}`:e,d=[[i.default.instancePath,(0,s.strConcat)(i.default.instancePath,a)],[i.default.parentData,c.parentData],[i.default.parentDataProperty,c.parentDataProperty],[i.default.rootData,i.default.rootData]];c.opts.dynamicRef&&d.push([i.default.dynamicAnchors,i.default.dynamicAnchors]);const p=s._`${f}, ${r.object(...d)}`;return l!==s.nil?s._`${u}.call(${l}, ${p})`:s._`${u}(${p})`};const h=s._`new RegExp`;e.usePattern=function({gen:t,it:{opts:e}},r){const n=e.unicodeRegExp?"u":"",{regExp:i}=e.code,a=i(r,n);return t.scopeValue("pattern",{key:a.toString(),ref:a,code:s._`${"new RegExp"===i.code?h:(0,o.useFunc)(t,i)}(${r}, ${n})`})},e.validateArray=function(t){const{gen:e,data:r,keyword:i,it:o}=t,a=e.name("valid");if(o.allErrors){const t=e.let("valid",!0);return c((()=>e.assign(t,!1))),t}return e.var(a,!0),c((()=>e.break())),a;function c(o){const c=e.const("len",s._`${r}.length`);e.forRange("i",0,c,(r=>{t.subschema({keyword:i,dataProp:r,dataPropType:n.Type.Num},a),e.if((0,s.not)(a),o)}))}},e.validateUnion=function(t){const{gen:e,schema:r,keyword:i,it:o}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some((t=>(0,n.alwaysValidSchema)(o,t)))&&!o.opts.unevaluated)return;const a=e.let("valid",!1),c=e.name("_valid");e.block((()=>r.forEach(((r,n)=>{const o=t.subschema({keyword:i,schemaProp:n,compositeRule:!0},c);e.assign(a,s._`${a} || ${c}`),t.mergeValidEvaluated(o,c)||e.if((0,s.not)(a))})))),t.result(a,(()=>t.reset()),(()=>t.error(!0)))}},3274:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.callRef=e.getValidate=void 0;const s=r(4198),n=r(9879),i=r(2920),o=r(5994),a=r(6172),c=r(4208),u={keyword:"$ref",schemaType:"string",code(t){const{gen:e,schema:r,it:n}=t,{baseId:o,schemaEnv:c,validateName:u,opts:f,self:d}=n,{root:p}=c;if(("#"===r||"#/"===r)&&o===p.baseId)return function(){if(c===p)return h(t,u,c,c.$async);const r=e.scopeValue("root",{ref:p});return h(t,i._`${r}.validate`,p,p.$async)}();const m=a.resolveRef.call(d,p,o,r);if(void 0===m)throw new s.default(n.opts.uriResolver,o,r);return m instanceof a.SchemaEnv?function(e){const r=l(t,e);h(t,r,e,e.$async)}(m):function(s){const n=e.scopeValue("schema",!0===f.code.source?{ref:s,code:(0,i.stringify)(s)}:{ref:s}),o=e.name("valid"),a=t.subschema({schema:s,dataTypes:[],schemaPath:i.nil,topSchemaRef:n,errSchemaPath:r},o);t.mergeEvaluated(a),t.ok(o)}(m)}};function l(t,e){const{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):i._`${r.scopeValue("wrapper",{ref:e})}.validate`}function h(t,e,r,s){const{gen:a,it:u}=t,{allErrors:l,schemaEnv:h,opts:f}=u,d=f.passContext?o.default.this:i.nil;function p(t){const e=i._`${t}.errors`;a.assign(o.default.vErrors,i._`${o.default.vErrors} === null ? ${e} : ${o.default.vErrors}.concat(${e})`),a.assign(o.default.errors,i._`${o.default.vErrors}.length`)}function m(t){var e;if(!u.opts.unevaluated)return;const s=null===(e=null==r?void 0:r.validate)||void 0===e?void 0:e.evaluated;if(!0!==u.props)if(s&&!s.dynamicProps)void 0!==s.props&&(u.props=c.mergeEvaluated.props(a,s.props,u.props));else{const e=a.var("props",i._`${t}.evaluated.props`);u.props=c.mergeEvaluated.props(a,e,u.props,i.Name)}if(!0!==u.items)if(s&&!s.dynamicItems)void 0!==s.items&&(u.items=c.mergeEvaluated.items(a,s.items,u.items));else{const e=a.var("items",i._`${t}.evaluated.items`);u.items=c.mergeEvaluated.items(a,e,u.items,i.Name)}}s?function(){if(!h.$async)throw new Error("async schema referenced by sync schema");const r=a.let("valid");a.try((()=>{a.code(i._`await ${(0,n.callValidateCode)(t,e,d)}`),m(e),l||a.assign(r,!0)}),(t=>{a.if(i._`!(${t} instanceof ${u.ValidationError})`,(()=>a.throw(t))),p(t),l||a.assign(r,!1)})),t.ok(r)}():t.result((0,n.callValidateCode)(t,e,d),(()=>m(e)),(()=>p(e)))}e.getValidate=l,e.callRef=h,e.default=u},7495:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,(r=e.DiscrError||(e.DiscrError={})).Tag="tag",r.Mapping="mapping"},2960:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(2920),n=r(3456),i=r(2554),o=r(6351),a=r(7495),c={keyword:"discriminator",schemaType:"string",implements:["mapping"],error:{message:t=>{const{schema:e,params:r}=t;return r.discrError?r.discrError===a.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in mapping`:(0,o.typeErrorMessage)(t,"object")},params:t=>{const{schema:e,params:r}=t;return r.discrError?s._`{error: ${r.discrError}, tag: ${e}, tagValue: ${r.tag}}`:(0,o.typeErrorParams)(t,"object")}},code(t){(0,n.checkMetadata)(t);const{gen:e,data:r,schema:o,parentSchema:c}=t,[u,l]=(0,i.checkNullableObject)(t,r);function h(r){const s=e.name("valid");return t.subschema({keyword:"mapping",schemaProp:r,jtdDiscriminator:o},s),s}e.if(l),function(){const n=e.const("tag",s._`${r}${(0,s.getProperty)(o)}`);e.if(s._`${n} === undefined`),t.error(!1,{discrError:a.DiscrError.Tag,tag:n}),e.elseIf(s._`typeof ${n} == "string"`),function(r){e.if(!1);for(const t in c.mapping)e.elseIf(s._`${r} === ${t}`),e.assign(u,h(t));e.else(),t.error(!1,{discrError:a.DiscrError.Mapping,tag:r},{instancePath:o,schemaPath:"mapping",parentSchema:!0}),e.endIf()}(n),e.else(),t.error(!1,{discrError:a.DiscrError.Tag,tag:n},{instancePath:o}),e.endIf()}(),e.elseIf((0,s.not)(u)),t.error(),e.endIf(),t.ok(u)}};e.default=c},4471:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(4208),n=r(9879),i=r(2920),o=r(3456),a=r(2554),c={keyword:"elements",schemaType:"object",error:(0,r(6351).typeError)("array"),code(t){(0,o.checkMetadata)(t);const{gen:e,data:r,schema:c,it:u}=t;if((0,s.alwaysValidSchema)(u,c))return;const[l]=(0,a.checkNullable)(t);e.if((0,i.not)(l),(()=>e.if(i._`Array.isArray(${r})`,(()=>e.assign(l,(0,n.validateArray)(t))),(()=>t.error())))),t.ok(l)}};e.default=c},2708:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(2920),n=r(3456),i=r(2554),o={keyword:"enum",schemaType:"array",error:{message:"must be equal to one of the allowed values",params:({schemaCode:t})=>s._`{allowedValues: ${t}}`},code(t){(0,n.checkMetadata)(t);const{gen:e,data:r,schema:o,schemaValue:a,parentSchema:c,it:u}=t;if(0===o.length)throw new Error("enum must have non-empty array");if(o.length!==new Set(o).size)throw new Error("enum items must be unique");let l;const h=s._`typeof ${r} == "string"`;if(o.length>=u.opts.loopEnum){let n;[l,n]=(0,i.checkNullable)(t,h),e.if(n,(function(){e.forOf("v",a,(t=>e.if(s._`${l} = ${r} === ${t}`,(()=>e.break()))))}))}else{if(!Array.isArray(o))throw new Error("ajv implementation error");l=(0,s.and)(h,(0,s.or)(...o.map((t=>s._`${r} === ${t}`)))),c.nullable&&(l=(0,s.or)(s._`${r} === null`,l))}t.pass(l)}};e.default=o},6351:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.typeErrorParams=e.typeErrorMessage=e.typeError=void 0;const s=r(2920);function n({parentSchema:t},e){return(null==t?void 0:t.nullable)?`must be ${e} or null`:`must be ${e}`}function i({parentSchema:t},e){return s._`{type: ${e}, nullable: ${!!(null==t?void 0:t.nullable)}}`}e.typeError=function(t){return{message:e=>n(e,t),params:e=>i(e,t)}},e.typeErrorMessage=n,e.typeErrorParams=i},4022:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(9736),n=r(4079),i=r(2708),o=r(4471),a=r(3633),c=r(8415),u=r(2960),l=r(5581),h=r(3792),f=r(3456),d=["definitions",s.default,n.default,i.default,o.default,a.default,c.default,u.default,l.default,h.default,f.default,{keyword:"additionalProperties",schemaType:"boolean"},{keyword:"nullable",schemaType:"boolean"}];e.default=d},3456:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkMetadata=void 0;const s=r(4208),n={keyword:"metadata",schemaType:"object",code(t){i(t);const{gen:e,schema:r,it:n}=t;if((0,s.alwaysValidSchema)(n,r))return;const o=e.name("valid");t.subschema({keyword:"metadata",jtdMetadata:!0},o),t.ok(o)}};function i({it:t,keyword:e},r){if(t.jtdMetadata!==r)throw new Error(`JTD: "${e}" cannot be used in this schema location`)}e.checkMetadata=i,e.default=n},2554:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkNullableObject=e.checkNullable=void 0;const s=r(2920);function n({gen:t,data:e,parentSchema:r},n=s.nil){const i=t.name("valid");return r.nullable?(t.let(i,s._`${e} === null`),n=(0,s.not)(i)):t.let(i,!1),[i,n]}e.checkNullable=n,e.checkNullableObject=function(t,e){const[r,i]=n(t,e);return[r,s._`${i} && typeof ${t.data} == "object" && !Array.isArray(${t.data})`]}},8415:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(3633),n={keyword:"optionalProperties",schemaType:"object",error:s.error,code(t){t.parentSchema.properties||(0,s.validateProperties)(t)}};e.default=n},3633:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateProperties=e.error=void 0;const s=r(9879),n=r(4208),i=r(2920),o=r(3456),a=r(2554),c=r(6351);var u;!function(t){t.Additional="additional",t.Missing="missing"}(u||(u={})),e.error={message:t=>{const{params:e}=t;return e.propError?e.propError===u.Additional?"must NOT have additional properties":`must have property '${e.missingProperty}'`:(0,c.typeErrorMessage)(t,"object")},params:t=>{const{params:e}=t;return e.propError?e.propError===u.Additional?i._`{error: ${e.propError}, additionalProperty: ${e.additionalProperty}}`:i._`{error: ${e.propError}, missingProperty: ${e.missingProperty}}`:(0,c.typeErrorParams)(t,"object")}};const l={keyword:"properties",schemaType:"object",error:e.error,code:h};function h(t){(0,o.checkMetadata)(t);const{gen:e,data:r,parentSchema:c,it:l}=t,{additionalProperties:h,nullable:f}=c;if(l.jtdDiscriminator&&f)throw new Error("JTD: nullable inside discriminator mapping");if(function(){const t=c.properties,e=c.optionalProperties;if(!t||!e)return!1;for(const r in t)if(Object.prototype.hasOwnProperty.call(e,r))return!0;return!1}())throw new Error("JTD: properties and optionalProperties have common members");const[d,p]=w("properties"),[m,g]=w("optionalProperties");if(0===p.length&&0===g.length&&h)return;const[y,v]=void 0===l.jtdDiscriminator?(0,a.checkNullableObject)(t,r):[e.let("valid",!1),!0];function w(t){const e=c[t],r=e?(0,s.allSchemaProperties)(e):[];if(l.jtdDiscriminator&&r.some((t=>t===l.jtdDiscriminator)))throw new Error(`JTD: discriminator tag used in ${t}`);const i=r.filter((t=>!(0,n.alwaysValidSchema)(l,e[t])));return[r,i]}function b(n,i,o){const a=e.var("valid");for(const o of n)e.if((0,s.propertyInData)(e,r,o,l.opts.ownProperties),(()=>A(o,i,a)),(()=>c(o))),t.ok(a);function c(r){o?(e.assign(a,!1),t.error(!1,{propError:u.Missing,missingProperty:r},{schemaPath:r})):e.assign(a,!0)}}function A(e,r,s){t.subschema({keyword:r,schemaProp:e,dataProp:e},s)}function S(t,r,o,a){let u;if(r.length>8){const r=(0,n.schemaRefOrVal)(l,c[o],o);u=(0,i.not)((0,s.isOwnProperty)(e,r,t)),void 0!==a&&(u=(0,i.and)(u,i._`${t} !== ${a}`))}else if(r.length||void 0!==a){const e=void 0===a?r:[a].concat(r);u=(0,i.and)(...e.map((e=>i._`${t} !== ${e}`)))}else u=!0;return u}e.if(v,(()=>e.assign(y,!0).block((()=>{b(p,"properties",!0),b(g,"optionalProperties"),h||e.forIn("key",r,(s=>{const n=S(s,d,"properties",l.jtdDiscriminator),o=S(s,m,"optionalProperties"),a=!0===n?o:!0===o?n:(0,i.and)(n,o);e.if(a,(()=>{l.opts.removeAdditional?e.code(i._`delete ${r}[${s}]`):(t.error(!1,{propError:u.Additional,additionalProperty:s},{instancePath:s,parentSchema:!0}),l.opts.allErrors||e.break())}))}))})))),t.pass(y)}e.validateProperties=h,e.default=l},9736:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasRef=void 0;const s=r(6172),n=r(2920),i=r(4198),o=r(5994),a=r(3274),c=r(3456),u={keyword:"ref",schemaType:"string",code(t){(0,c.checkMetadata)(t);const{gen:e,data:r,schema:u,parentSchema:h,it:f}=t,{schemaEnv:{root:d}}=f,p=e.name("valid");function m(){var r;const c=null===(r=d.schema.definitions)||void 0===r?void 0:r[u];if(!c)throw new i.default(f.opts.uriResolver,"",u,`No definition ${u}`);l(c)||!f.opts.inlineRefs?function(r){const i=s.compileSchema.call(f.self,new s.SchemaEnv({schema:r,root:d,schemaPath:`/definitions/${u}`})),c=(0,a.getValidate)(t,i),l=e.const("_errs",o.default.errors);(0,a.callRef)(t,c,i,i.$async),e.assign(p,n._`${l} === ${o.default.errors}`)}(c):function(r){const s=e.scopeValue("schema",!0===f.opts.code.source?{ref:r,code:(0,n.stringify)(r)}:{ref:r});t.subschema({schema:r,dataTypes:[],schemaPath:n.nil,topSchemaRef:s,errSchemaPath:`/definitions/${u}`},p)}(c)}h.nullable?(e.var(p,n._`${r} === null`),e.if((0,n.not)(p),m)):(e.var(p,!1),m()),t.ok(p)}};function l(t){for(const e in t){let r;if("ref"===e||"object"==typeof(r=t[e])&&l(r))return!0}return!1}e.hasRef=l,e.default=u},4079:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.intRange=void 0;const s=r(2920),n=r(4679),i=r(4208),o=r(3456),a=r(6351);e.intRange={int8:[-128,127,3],uint8:[0,255,3],int16:[-32768,32767,5],uint16:[0,65535,5],int32:[-2147483648,2147483647,10],uint32:[0,4294967295,10]};const c={keyword:"type",schemaType:"string",error:{message:t=>(0,a.typeErrorMessage)(t,t.schema),params:t=>(0,a.typeErrorParams)(t,t.schema)},code(t){(0,o.checkMetadata)(t);const{data:r,schema:a,parentSchema:c,it:u}=t;let l;switch(a){case"boolean":case"string":l=s._`typeof ${r} == ${a}`;break;case"timestamp":l=function(t){const{gen:e,data:r,it:o}=t,{timestamp:a,allowDate:c}=o.opts;if("date"===a)return s._`${r} instanceof Date `;const u=(0,i.useFunc)(e,n.default),l=c?s._`, true`:s.nil,h=s._`typeof ${r} == "string" && ${u}(${r}${l})`;return"string"===a?h:(0,s.or)(s._`${r} instanceof Date`,h)}(t);break;case"float32":case"float64":l=s._`typeof ${r} == "number"`;break;default:{const t=a;if(l=s._`typeof ${r} == "number" && isFinite(${r}) && !(${r} % 1)`,u.opts.int32range||"int32"!==t&&"uint32"!==t){const[n,i]=e.intRange[t];l=s._`${l} && ${r} >= ${n} && ${r} <= ${i}`}else"uint32"===t&&(l=s._`${l} && ${r} >= 0`)}}t.pass(c.nullable?(0,s.or)(s._`${r} === null`,l):l)}};e.default=c},3792:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s={keyword:"union",schemaType:"array",trackErrors:!0,code:r(9879).validateUnion,error:{message:"must match a schema in union"}};e.default=s},5581:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(4208),n=r(2920),i=r(3456),o=r(2554),a={keyword:"values",schemaType:"object",error:(0,r(6351).typeError)("object"),code(t){(0,i.checkMetadata)(t);const{gen:e,data:r,schema:a,it:c}=t,[u,l]=(0,o.checkNullableObject)(t,r);(0,s.alwaysValidSchema)(c,a)?e.if((0,n.not)((0,n.or)(l,u)),(()=>t.error())):(e.if(l),e.assign(u,function(){const i=e.name("valid");if(c.allErrors){const t=e.let("valid",!0);return o((()=>e.assign(t,!1))),t}return e.var(i,!0),o((()=>e.break())),i;function o(o){e.forIn("key",r,(r=>{t.subschema({keyword:"values",dataProp:r,dataPropType:s.Type.Str},i),e.if((0,n.not)(i),o)}))}}()),e.elseIf((0,n.not)(u)),t.error(),e.endIf()),t.ok(u)}};e.default=a},3612:t=>{"use strict";function e(t,e,n){t instanceof RegExp&&(t=r(t,n)),e instanceof RegExp&&(e=r(e,n));var i=s(t,e,n);return i&&{start:i[0],end:i[1],pre:n.slice(0,i[0]),body:n.slice(i[0]+t.length,i[1]),post:n.slice(i[1]+e.length)}}function r(t,e){var r=e.match(t);return r?r[0]:null}function s(t,e,r){var s,n,i,o,a,c=r.indexOf(t),u=r.indexOf(e,c+1),l=c;if(c>=0&&u>0){if(t===e)return[c,u];for(s=[],i=r.length;l>=0&&!a;)l==c?(s.push(l),c=r.indexOf(t,l+1)):1==s.length?a=[s.pop(),u]:((n=s.pop())<i&&(i=n,o=u),u=r.indexOf(e,l+1)),l=c<u&&c>=0?c:u;s.length&&(a=[i,o])}return a}t.exports=e,e.range=s},8108:(t,e,r)=>{var s={};t.exports=s,s.themes={};var n=r(3837),i=s.styles=r(6636),o=Object.defineProperties,a=new RegExp(/[\r\n]+/g);s.supportsColor=r(7664).supportsColor,void 0===s.enabled&&(s.enabled=!1!==s.supportsColor()),s.enable=function(){s.enabled=!0},s.disable=function(){s.enabled=!1},s.stripColors=s.strip=function(t){return(""+t).replace(/\x1B\[\d+m/g,"")},s.stylize=function(t,e){if(!s.enabled)return t+"";var r=i[e];return!r&&e in s?s[e](t):r.open+t+r.close};var c=/[|\\{}()[\]^$+*?.]/g;function u(t){var e=function t(){return d.apply(t,arguments)};return e._styles=t,e.__proto__=f,e}var l,h=(l={},i.grey=i.gray,Object.keys(i).forEach((function(t){i[t].closeRe=new RegExp(function(t){if("string"!=typeof t)throw new TypeError("Expected a string");return t.replace(c,"\\$&")}(i[t].close),"g"),l[t]={get:function(){return u(this._styles.concat(t))}}})),l),f=o((function(){}),h);function d(){var t=Array.prototype.slice.call(arguments).map((function(t){return null!=t&&t.constructor===String?t:n.inspect(t)})).join(" ");if(!s.enabled||!t)return t;for(var e=-1!=t.indexOf("\n"),r=this._styles,o=r.length;o--;){var c=i[r[o]];t=c.open+t.replace(c.closeRe,c.open)+c.close,e&&(t=t.replace(a,(function(t){return c.close+t+c.open})))}return t}s.setTheme=function(t){if("string"!=typeof t)for(var e in t)!function(e){s[e]=function(r){if("object"==typeof t[e]){var n=r;for(var i in t[e])n=s[t[e][i]](n);return n}return s[t[e]](r)}}(e);else console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));")};var p=function(t,e){var r=e.split("");return(r=r.map(t)).join("")};for(var m in s.trap=r(7202),s.zalgo=r(4921),s.maps={},s.maps.america=r(7193)(s),s.maps.zebra=r(4518)(s),s.maps.rainbow=r(8956)(s),s.maps.random=r(4273)(s),s.maps)!function(t){s[t]=function(e){return p(s.maps[t],e)}}(m);o(s,function(){var t={};return Object.keys(h).forEach((function(e){t[e]={get:function(){return u([e])}}})),t}())},7202:t=>{t.exports=function(t,e){var r="";t=(t=t||"Run the trap, drop the bass").split("");var s={a:["@","","","","","",""],b:["","","","","",""],c:["","",""],d:["","","","","",""],e:["","","","","","","",""],f:[""],g:[""],h:["","","","","",""],i:[""],j:[""],k:["","","",""],l:[""],m:["","","","","",""],n:["","","","","",""],o:["","","","","","","","",""],p:["",""],q:[""],r:["","","","","",""],s:["","","",""],t:["","",""],u:["",""],v:[""],w:["","","",""],x:["","","",""],y:["","",""],z:["",""]};return t.forEach((function(t){t=t.toLowerCase();var e=s[t]||[" "],n=Math.floor(Math.random()*e.length);r+=void 0!==s[t]?s[t][n]:t})),r}},4921:t=>{t.exports=function(t,e){t=t||"   he is here   ";var r={up:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],down:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],mid:["","","","","","","","","","","","","","","","","","","","",""," "]},s=[].concat(r.up,r.down,r.mid);function n(t){return Math.floor(Math.random()*t)}function i(t){var e=!1;return s.filter((function(r){e=r===t})),e}return function(t,e){var s,o,a="";for(o in(e=e||{}).up=void 0===e.up||e.up,e.mid=void 0===e.mid||e.mid,e.down=void 0===e.down||e.down,e.size=void 0!==e.size?e.size:"maxi",t=t.split(""))if(!i(o)){switch(a+=t[o],s={up:0,down:0,mid:0},e.size){case"mini":s.up=n(8),s.mid=n(2),s.down=n(8);break;case"maxi":s.up=n(16)+3,s.mid=n(4)+1,s.down=n(64)+3;break;default:s.up=n(8)+1,s.mid=n(6)/2,s.down=n(8)+1}var c=["up","mid","down"];for(var u in c)for(var l=c[u],h=0;h<=s[l];h++)e[l]&&(a+=r[l][n(r[l].length)])}return a}(t,e)}},5351:(t,e,r)=>{var s=r(8108);t.exports=function(){var t=function(t,e){String.prototype.__defineGetter__(t,e)};t("strip",(function(){return s.strip(this)})),t("stripColors",(function(){return s.strip(this)})),t("trap",(function(){return s.trap(this)})),t("zalgo",(function(){return s.zalgo(this)})),t("zebra",(function(){return s.zebra(this)})),t("rainbow",(function(){return s.rainbow(this)})),t("random",(function(){return s.random(this)})),t("america",(function(){return s.america(this)})),Object.keys(s.styles).forEach((function(e){t(e,(function(){return s.stylize(this,e)}))})),s.setTheme=function(e){"string"!=typeof e?function(e){var r=["__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__","charAt","constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf","charCodeAt","indexOf","lastIndexOf","length","localeCompare","match","repeat","replace","search","slice","split","substring","toLocaleLowerCase","toLocaleUpperCase","toLowerCase","toUpperCase","trim","trimLeft","trimRight"];Object.keys(e).forEach((function(n){if(-1!==r.indexOf(n))console.log("warn: ".red+("String.prototype"+n).magenta+" is probably something you don't want to override.  Ignoring style name");else if("string"==typeof e[n])s[n]=s[e[n]],t(n,(function(){return s[n](this)}));else{var i=function(t){for(var r=t||this,i=0;i<e[n].length;i++)r=s[e[n][i]](r);return r};t(n,i),s[n]=function(t){return i(t)}}}))}(e):console.log("colors.setTheme now only accepts an object, not a string. If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));")}}},8493:(t,e,r)=>{var s=r(8108);t.exports=s,r(5351)()},7193:t=>{t.exports=function(t){return function(e,r,s){if(" "===e)return e;switch(r%3){case 0:return t.red(e);case 1:return t.white(e);case 2:return t.blue(e)}}}},8956:t=>{t.exports=function(t){var e=["red","yellow","green","blue","magenta"];return function(r,s,n){return" "===r?r:t[e[s++%e.length]](r)}}},4273:t=>{t.exports=function(t){var e=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(r,s,n){return" "===r?r:t[e[Math.round(Math.random()*(e.length-2))]](r)}}},4518:t=>{t.exports=function(t){return function(e,r,s){return r%2==0?e:t.inverse(e)}}},6636:t=>{var e={};t.exports=e;var r={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(r).forEach((function(t){var s=r[t],n=e[t]=[];n.open="["+s[0]+"m",n.close="["+s[1]+"m"}))},4168:t=>{"use strict";t.exports=function(t,e){var r=(e=e||process.argv).indexOf("--"),s=/^-{1,2}/.test(t)?"":"--",n=e.indexOf(s+t);return-1!==n&&(-1===r||n<r)}},7664:(t,e,r)=>{"use strict";var s=r(2037),n=r(4168),i=process.env,o=void 0;function a(t){var e=function(t){if(!1===o)return 0;if(n("color=16m")||n("color=full")||n("color=truecolor"))return 3;if(n("color=256"))return 2;if(t&&!t.isTTY&&!0!==o)return 0;var e=o?1:0;if("win32"===process.platform){var r=s.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in i)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some((function(t){return t in i}))||"codeship"===i.CI_NAME?1:e;if("TEAMCITY_VERSION"in i)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(i.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in i){var a=parseInt((i.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(i.TERM_PROGRAM){case"iTerm.app":return a>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(i.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(i.TERM)||"COLORTERM"in i?1:(i.TERM,e)}(t);return function(t){return 0!==t&&{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}(e)}n("no-color")||n("no-colors")||n("color=false")?o=!1:(n("color")||n("colors")||n("color=true")||n("color=always"))&&(o=!0),"FORCE_COLOR"in i&&(o=0===i.FORCE_COLOR.length||0!==parseInt(i.FORCE_COLOR,10)),t.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}},7906:(t,e,r)=>{var s=r(1017),n=r(2081).spawn,i=r(2601)("electron-squirrel-startup"),o=r(2298).app,a=function(t,e){var r=s.resolve(s.dirname(process.execPath),"..","Update.exe");i("Spawning `%s` with args `%s`",r,t),n(r,t,{detached:!0}).on("close",e)};t.exports=function(){if("win32"===process.platform){var t=process.argv[1];i("processing squirrel command `%s`",t);var e=s.basename(process.execPath);if("--squirrel-install"===t||"--squirrel-updated"===t)return a(["--createShortcut="+e],o.quit),!0;if("--squirrel-uninstall"===t)return a(["--removeShortcut="+e],o.quit),!0;if("--squirrel-obsolete"===t)return o.quit(),!0}return!1}()},3084:(t,e,r)=>{function s(){var t;try{t=e.storage.debug}catch(t){}return!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG),t}(e=t.exports=r(6750)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),r){var s="color: "+this.color;t.splice(1,0,s,"color: inherit");var n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(n++,"%c"===t&&(i=n))})),t.splice(i,0,s)}},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=s,e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(s())},6750:(t,e,r)=>{var s;function n(t){function r(){if(r.enabled){var t=r,n=+new Date,i=n-(s||n);t.diff=i,t.prev=s,t.curr=n,s=n;for(var o=new Array(arguments.length),a=0;a<o.length;a++)o[a]=arguments[a];o[0]=e.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var c=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,(function(r,s){if("%%"===r)return r;c++;var n=e.formatters[s];if("function"==typeof n){var i=o[c];r=n.call(t,i),o.splice(c,1),c--}return r})),e.formatArgs.call(t,o),(r.log||e.log||console.log.bind(console)).apply(t,o)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=function(t){var r,s=0;for(r in t)s=(s<<5)-s+t.charCodeAt(r),s|=0;return e.colors[Math.abs(s)%e.colors.length]}(t),"function"==typeof e.init&&e.init(r),r}(e=t.exports=n.debug=n.default=n).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){e.save(t),e.names=[],e.skips=[];for(var r=("string"==typeof t?t:"").split(/[\s,]+/),s=r.length,n=0;n<s;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){var r,s;for(r=0,s=e.skips.length;r<s;r++)if(e.skips[r].test(t))return!1;for(r=0,s=e.names.length;r<s;r++)if(e.names[r].test(t))return!0;return!1},e.humanize=r(4121),e.names=[],e.skips=[],e.formatters={}},2601:(t,e,r)=>{"undefined"!=typeof process&&"renderer"===process.type?t.exports=r(3084):t.exports=r(8536)},8536:(t,e,r)=>{var s=r(6224),n=r(3837);(e=t.exports=r(6750)).init=function(t){t.inspectOpts={};for(var r=Object.keys(e.inspectOpts),s=0;s<r.length;s++)t.inspectOpts[r[s]]=e.inspectOpts[r[s]]},e.log=function(){return o.write(n.format.apply(n,arguments)+"\n")},e.formatArgs=function(t){var r=this.namespace;if(this.useColors){var s=this.color,n="  [3"+s+";1m"+r+" [0m";t[0]=n+t[0].split("\n").join("\n"+n),t.push("[3"+s+"m+"+e.humanize(this.diff)+"[0m")}else t[0]=(new Date).toUTCString()+" "+r+" "+t[0]},e.save=function(t){null==t?delete process.env.DEBUG:process.env.DEBUG=t},e.load=a,e.useColors=function(){return"colors"in e.inspectOpts?Boolean(e.inspectOpts.colors):s.isatty(i)},e.colors=[6,2,3,4,5,1],e.inspectOpts=Object.keys(process.env).filter((function(t){return/^debug_/i.test(t)})).reduce((function(t,e){var r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(function(t,e){return e.toUpperCase()})),s=process.env[e];return s=!!/^(yes|on|true|enabled)$/i.test(s)||!/^(no|off|false|disabled)$/i.test(s)&&("null"===s?null:Number(s)),t[r]=s,t}),{});var i=parseInt(process.env.DEBUG_FD,10)||2;1!==i&&2!==i&&n.deprecate((function(){}),"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")();var o=1===i?process.stdout:2===i?process.stderr:function(t){var e;switch(process.binding("tty_wrap").guessHandleType(t)){case"TTY":(e=new s.WriteStream(t))._type="tty",e._handle&&e._handle.unref&&e._handle.unref();break;case"FILE":(e=new(r(7147).SyncWriteStream)(t,{autoClose:!1}))._type="fs";break;case"PIPE":case"TCP":(e=new(r(1808).Socket)({fd:t,readable:!1,writable:!0})).readable=!1,e.read=null,e._type="pipe",e._handle&&e._handle.unref&&e._handle.unref();break;default:throw new Error("Implement me. Unknown stream file type!")}return e.fd=t,e._isStdio=!0,e}(i);function a(){return process.env.DEBUG}e.formatters.o=function(t){return this.inspectOpts.colors=this.useColors,n.inspect(t,this.inspectOpts).split("\n").map((function(t){return t.trim()})).join(" ")},e.formatters.O=function(t){return this.inspectOpts.colors=this.useColors,n.inspect(t,this.inspectOpts)},e.enable(a())},4121:t=>{var e=1e3,r=60*e,s=60*r,n=24*s;function i(t,e,r){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+r:Math.ceil(t/e)+" "+r+"s"}t.exports=function(t,o){o=o||{};var a,c=typeof t;if("string"===c&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var i=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(i){var o=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"days":case"day":case"d":return o*n;case"hours":case"hour":case"hrs":case"hr":case"h":return o*s;case"minutes":case"minute":case"mins":case"min":case"m":return o*r;case"seconds":case"second":case"secs":case"sec":case"s":return o*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}(t);if("number"===c&&!1===isNaN(t))return o.long?i(a=t,n,"day")||i(a,s,"hour")||i(a,r,"minute")||i(a,e,"second")||a+" ms":function(t){return t>=n?Math.round(t/n)+"d":t>=s?Math.round(t/s)+"h":t>=r?Math.round(t/r)+"m":t>=e?Math.round(t/e)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},7429:t=>{"use strict";t.exports=function t(e,r){if(e===r)return!0;if(e&&r&&"object"==typeof e&&"object"==typeof r){if(e.constructor!==r.constructor)return!1;var s,n,i;if(Array.isArray(e)){if((s=e.length)!=r.length)return!1;for(n=s;0!=n--;)if(!t(e[n],r[n]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if((s=(i=Object.keys(e)).length)!==Object.keys(r).length)return!1;for(n=s;0!=n--;)if(!Object.prototype.hasOwnProperty.call(r,i[n]))return!1;for(n=s;0!=n--;){var o=i[n];if(!t(e[o],r[o]))return!1}return!0}return e!=e&&r!=r}},8856:(t,e,r)=>{"use strict";var s=r(7147),n=r(1017),i=r(916),o=r(1626),a=/^\s*([D ])([E ])([VAS])([S ])([D ])([T ]) ([^ ]+) +(.*)$/,c=/^\s*([D\.])([E\.])([VAS])([I\.])([L\.])([S\.]) ([^ ]+) +(.*)$/,u=/\(encoders:([^\)]+)\)/,l=/\(decoders:([^\)]+)\)/,h=/^\s*([VAS\.])([F\.])([S\.])([X\.])([B\.])([D\.]) ([^ ]+) +(.*)$/,f=/^\s*([D ])([E ]) ([^ ]+) +(.*)$/,d=/\r\n|\r|\n/,p=/^(?: [T\.][S\.][C\.] )?([^ ]+) +(AA?|VV?|\|)->(AA?|VV?|\|) +(.*)$/,m={};t.exports=function(t){t.setFfmpegPath=function(t){return m.ffmpegPath=t,this},t.setFfprobePath=function(t){return m.ffprobePath=t,this},t.setFlvtoolPath=function(t){return m.flvtoolPath=t,this},t._forgetPaths=function(){delete m.ffmpegPath,delete m.ffprobePath,delete m.flvtoolPath},t._getFfmpegPath=function(t){if("ffmpegPath"in m)return t(null,m.ffmpegPath);i.waterfall([function(t){process.env.FFMPEG_PATH?s.exists(process.env.FFMPEG_PATH,(function(e){t(null,e?process.env.FFMPEG_PATH:"")})):t(null,"")},function(t,e){if(t.length)return e(null,t);o.which("ffmpeg",(function(t,r){e(t,r)}))}],(function(e,r){e?t(e):t(null,m.ffmpegPath=r||"")}))},t._getFfprobePath=function(t){var e=this;if("ffprobePath"in m)return t(null,m.ffprobePath);i.waterfall([function(t){process.env.FFPROBE_PATH?s.exists(process.env.FFPROBE_PATH,(function(e){t(null,e?process.env.FFPROBE_PATH:"")})):t(null,"")},function(t,e){if(t.length)return e(null,t);o.which("ffprobe",(function(t,r){e(t,r)}))},function(t,r){if(t.length)return r(null,t);e._getFfmpegPath((function(t,e){if(t)r(t);else if(e.length){var i=o.isWindows?"ffprobe.exe":"ffprobe",a=n.join(n.dirname(e),i);s.exists(a,(function(t){r(null,t?a:"")}))}else r(null,"")}))}],(function(e,r){e?t(e):t(null,m.ffprobePath=r||"")}))},t._getFlvtoolPath=function(t){if("flvtoolPath"in m)return t(null,m.flvtoolPath);i.waterfall([function(t){process.env.FLVMETA_PATH?s.exists(process.env.FLVMETA_PATH,(function(e){t(null,e?process.env.FLVMETA_PATH:"")})):t(null,"")},function(t,e){if(t.length)return e(null,t);process.env.FLVTOOL2_PATH?s.exists(process.env.FLVTOOL2_PATH,(function(t){e(null,t?process.env.FLVTOOL2_PATH:"")})):e(null,"")},function(t,e){if(t.length)return e(null,t);o.which("flvmeta",(function(t,r){e(t,r)}))},function(t,e){if(t.length)return e(null,t);o.which("flvtool2",(function(t,r){e(t,r)}))}],(function(e,r){e?t(e):t(null,m.flvtoolPath=r||"")}))},t.availableFilters=t.getAvailableFilters=function(t){if("filters"in m)return t(null,m.filters);this._spawnFfmpeg(["-filters"],{captureStdout:!0,stdoutLines:0},(function(e,r){if(e)return t(e);var s=r.get().split("\n"),n={},i={A:"audio",V:"video","|":"none"};s.forEach((function(t){var e=t.match(p);e&&(n[e[1]]={description:e[4],input:i[e[2].charAt(0)],multipleInputs:e[2].length>1,output:i[e[3].charAt(0)],multipleOutputs:e[3].length>1})})),t(null,m.filters=n)}))},t.availableCodecs=t.getAvailableCodecs=function(t){if("codecs"in m)return t(null,m.codecs);this._spawnFfmpeg(["-codecs"],{captureStdout:!0,stdoutLines:0},(function(e,r){if(e)return t(e);var s=r.get().split(d),n={};s.forEach((function(t){var e=t.match(a);if(e&&"="!==e[7]&&(n[e[7]]={type:{V:"video",A:"audio",S:"subtitle"}[e[3]],description:e[8],canDecode:"D"===e[1],canEncode:"E"===e[2],drawHorizBand:"S"===e[4],directRendering:"D"===e[5],weirdFrameTruncation:"T"===e[6]}),(e=t.match(c))&&"="!==e[7]){var r=n[e[7]]={type:{V:"video",A:"audio",S:"subtitle"}[e[3]],description:e[8],canDecode:"D"===e[1],canEncode:"E"===e[2],intraFrameOnly:"I"===e[4],isLossy:"L"===e[5],isLossless:"S"===e[6]},s=r.description.match(u);s=s?s[1].trim().split(" "):[];var i=r.description.match(l);if(i=i?i[1].trim().split(" "):[],s.length||i.length){var h={};o.copy(r,h),delete h.canEncode,delete h.canDecode,s.forEach((function(t){n[t]={},o.copy(h,n[t]),n[t].canEncode=!0})),i.forEach((function(t){t in n||(n[t]={},o.copy(h,n[t])),n[t].canDecode=!0}))}}})),t(null,m.codecs=n)}))},t.availableEncoders=t.getAvailableEncoders=function(t){if("encoders"in m)return t(null,m.encoders);this._spawnFfmpeg(["-encoders"],{captureStdout:!0,stdoutLines:0},(function(e,r){if(e)return t(e);var s=r.get().split(d),n={};s.forEach((function(t){var e=t.match(h);e&&"="!==e[7]&&(n[e[7]]={type:{V:"video",A:"audio",S:"subtitle"}[e[1]],description:e[8],frameMT:"F"===e[2],sliceMT:"S"===e[3],experimental:"X"===e[4],drawHorizBand:"B"===e[5],directRendering:"D"===e[6]})})),t(null,m.encoders=n)}))},t.availableFormats=t.getAvailableFormats=function(t){if("formats"in m)return t(null,m.formats);this._spawnFfmpeg(["-formats"],{captureStdout:!0,stdoutLines:0},(function(e,r){if(e)return t(e);var s=r.get().split(d),n={};s.forEach((function(t){var e=t.match(f);e&&e[3].split(",").forEach((function(t){t in n||(n[t]={description:e[4],canDemux:!1,canMux:!1}),"D"===e[1]&&(n[t].canDemux=!0),"E"===e[2]&&(n[t].canMux=!0)}))})),t(null,m.formats=n)}))},t._checkCapabilities=function(t){var e=this;i.waterfall([function(t){e.availableFormats(t)},function(t,r){var s;return 1===(s=e._outputs.reduce((function(e,r){var s=r.options.find("-f",1);return s&&(s[0]in t&&t[s[0]].canMux||e.push(s)),e}),[])).length?r(new Error("Output format "+s[0]+" is not available")):s.length>1?r(new Error("Output formats "+s.join(", ")+" are not available")):1===(s=e._inputs.reduce((function(e,r){var s=r.options.find("-f",1);return s&&(s[0]in t&&t[s[0]].canDemux||e.push(s[0])),e}),[])).length?r(new Error("Input format "+s[0]+" is not available")):s.length>1?r(new Error("Input formats "+s.join(", ")+" are not available")):void r()},function(t){e.availableEncoders(t)},function(t,r){var s;return 1===(s=e._outputs.reduce((function(e,r){var s=r.audio.find("-acodec",1);return s&&"copy"!==s[0]&&(s[0]in t&&"audio"===t[s[0]].type||e.push(s[0])),e}),[])).length?r(new Error("Audio codec "+s[0]+" is not available")):s.length>1?r(new Error("Audio codecs "+s.join(", ")+" are not available")):1===(s=e._outputs.reduce((function(e,r){var s=r.video.find("-vcodec",1);return s&&"copy"!==s[0]&&(s[0]in t&&"video"===t[s[0]].type||e.push(s[0])),e}),[])).length?r(new Error("Video codec "+s[0]+" is not available")):s.length>1?r(new Error("Video codecs "+s.join(", ")+" are not available")):void r()}],t)}}},5564:(t,e,r)=>{"use strict";var s=r(2081).spawn;function n(t){return t.match(/^TAG:/)}function i(t){return t.match(/^DISPOSITION:/)}t.exports=function(t){t.ffprobe=function(){var t,e=null,r=[],o=arguments[arguments.length-1],a=!1;function c(t,e){a||(a=!0,o(t,e))}switch(arguments.length){case 3:e=arguments[0],r=arguments[1];break;case 2:"number"==typeof arguments[0]?e=arguments[0]:Array.isArray(arguments[0])&&(r=arguments[0])}if(null===e){if(!this._currentInput)return c(new Error("No input specified"));t=this._currentInput}else if(!(t=this._inputs[e]))return c(new Error("Invalid input index"));this._getFfprobePath((function(e,a){if(e)return c(e);if(!a)return c(new Error("Cannot find ffprobe"));var u="",l=!1,h="",f=!1,d=t.isStream?"pipe:0":t.source,p=s(a,["-show_streams","-show_format"].concat(r,d));t.isStream&&(p.stdin.on("error",(function(t){["ECONNRESET","EPIPE"].indexOf(t.code)>=0||c(t)})),p.stdin.on("close",(function(){t.source.pause(),t.source.unpipe(p.stdin)})),t.source.pipe(p.stdin)),p.on("error",o);var m=null;function g(t){if(t&&(m=t),y&&l&&f){if(m)return h&&(m.message+="\n"+h),c(m);var e=function(t){var e=t.split(/\r\n|\r|\n/);e=e.filter((function(t){return t.length>0}));var r={streams:[],format:{},chapters:[]};function s(t){for(var r={},s=e.shift();void 0!==s;){if(s.toLowerCase()=="[/"+t+"]")return r;if(s.match(/^\[/))s=e.shift();else{var n=s.match(/^([^=]+)=(.*)$/);n&&(!n[1].match(/^TAG:/)&&n[2].match(/^[0-9]+(\.[0-9]+)?$/)?r[n[1]]=Number(n[2]):r[n[1]]=n[2]),s=e.shift()}}return r}for(var n=e.shift();void 0!==n;){if(n.match(/^\[stream/i)){var i=s("stream");r.streams.push(i)}else if(n.match(/^\[chapter/i)){var o=s("chapter");r.chapters.push(o)}else"[format]"===n.toLowerCase()&&(r.format=s("format"));n=e.shift()}return r}(u);[e.format].concat(e.streams).forEach((function(t){if(t){var e=Object.keys(t).filter(n);e.length&&(t.tags=t.tags||{},e.forEach((function(e){t.tags[e.substr(4)]=t[e],delete t[e]})));var r=Object.keys(t).filter(i);r.length&&(t.disposition=t.disposition||{},r.forEach((function(e){t.disposition[e.substr(12)]=t[e],delete t[e]})))}})),c(null,e)}}var y=!1;p.on("exit",(function(t,e){y=!0,t?g(new Error("ffprobe exited with code "+t)):e?g(new Error("ffprobe was killed with signal "+e)):g()})),p.stdout.on("data",(function(t){u+=t})),p.stdout.on("close",(function(){l=!0,g()})),p.stderr.on("data",(function(t){h+=t})),p.stderr.on("close",(function(){f=!0,g()}))}))}}},9923:(t,e,r)=>{"use strict";r(1017);var s=r(3837),n=r(2361).EventEmitter,i=r(1626);function o(t,e){if(!(this instanceof o))return new o(t,e);n.call(this),"object"!=typeof t||"readable"in t?(e=e||{}).source=t:e=t,this._inputs=[],e.source&&this.input(e.source),this._outputs=[],this.output();var s=this;["_global","_complexFilters"].forEach((function(t){s[t]=i.args()})),e.stdoutLines="stdoutLines"in e?e.stdoutLines:100,e.presets=e.presets||e.preset||r.ab+"presets",e.niceness=e.niceness||e.priority||0,this.options=e,this.logger=e.logger||{debug:function(){},info:function(){},warn:function(){},error:function(){}}}s.inherits(o,n),t.exports=o,o.prototype.clone=function(){var t=new o,e=this;return t.options=this.options,t.logger=this.logger,t._inputs=this._inputs.map((function(t){return{source:t.source,options:t.options.clone()}})),"target"in this._outputs[0]?(t._outputs=[],t.output()):(t._outputs=[t._currentOutput={flags:{}}],["audio","audioFilters","video","videoFilters","sizeFilters","options"].forEach((function(r){t._currentOutput[r]=e._currentOutput[r].clone()})),this._currentOutput.sizeData&&(t._currentOutput.sizeData={},i.copy(this._currentOutput.sizeData,t._currentOutput.sizeData)),i.copy(this._currentOutput.flags,t._currentOutput.flags)),["_global","_complexFilters"].forEach((function(r){t[r]=e[r].clone()})),t},r(5937)(o.prototype),r(8179)(o.prototype),r(8297)(o.prototype),r(1809)(o.prototype),r(8275)(o.prototype),r(3679)(o.prototype),r(8135)(o.prototype),r(7807)(o.prototype),r(8856)(o.prototype),o.setFfmpegPath=function(t){(new o).setFfmpegPath(t)},o.setFfprobePath=function(t){(new o).setFfprobePath(t)},o.setFlvtoolPath=function(t){(new o).setFlvtoolPath(t)},o.availableFilters=o.getAvailableFilters=function(t){(new o).availableFilters(t)},o.availableCodecs=o.getAvailableCodecs=function(t){(new o).availableCodecs(t)},o.availableFormats=o.getAvailableFormats=function(t){(new o).availableFormats(t)},o.availableEncoders=o.getAvailableEncoders=function(t){(new o).availableEncoders(t)},r(5564)(o.prototype),o.ffprobe=function(t){var e=new o(t);e.ffprobe.apply(e,Array.prototype.slice.call(arguments,1))},r(1906)(o.prototype)},8179:(t,e,r)=>{"use strict";var s=r(1626);t.exports=function(t){t.withNoAudio=t.noAudio=function(){return this._currentOutput.audio.clear(),this._currentOutput.audioFilters.clear(),this._currentOutput.audio("-an"),this},t.withAudioCodec=t.audioCodec=function(t){return this._currentOutput.audio("-acodec",t),this},t.withAudioBitrate=t.audioBitrate=function(t){return this._currentOutput.audio("-b:a",(""+t).replace(/k?$/,"k")),this},t.withAudioChannels=t.audioChannels=function(t){return this._currentOutput.audio("-ac",t),this},t.withAudioFrequency=t.audioFrequency=function(t){return this._currentOutput.audio("-ar",t),this},t.withAudioQuality=t.audioQuality=function(t){return this._currentOutput.audio("-aq",t),this},t.withAudioFilter=t.withAudioFilters=t.audioFilter=t.audioFilters=function(t){return arguments.length>1&&(t=[].slice.call(arguments)),Array.isArray(t)||(t=[t]),this._currentOutput.audioFilters(s.makeFilterStrings(t)),this}}},3679:(t,e,r)=>{"use strict";var s=r(1626);t.exports=function(t){t.addInputOption=t.addInputOptions=t.withInputOption=t.withInputOptions=t.inputOption=t.inputOptions=function(t){if(!this._currentInput)throw new Error("No input specified");var e=!0;return arguments.length>1&&(t=[].slice.call(arguments),e=!1),Array.isArray(t)||(t=[t]),this._currentInput.options(t.reduce((function(t,r){var s=String(r).split(" ");return e&&2===s.length?t.push(s[0],s[1]):t.push(r),t}),[])),this},t.addOutputOption=t.addOutputOptions=t.addOption=t.addOptions=t.withOutputOption=t.withOutputOptions=t.withOption=t.withOptions=t.outputOption=t.outputOptions=function(t){var e=!0;return arguments.length>1&&(t=[].slice.call(arguments),e=!1),Array.isArray(t)||(t=[t]),this._currentOutput.options(t.reduce((function(t,r){var s=String(r).split(" ");return e&&2===s.length?t.push(s[0],s[1]):t.push(r),t}),[])),this},t.filterGraph=t.complexFilter=function(t,e){if(this._complexFilters.clear(),Array.isArray(t)||(t=[t]),this._complexFilters("-filter_complex",s.makeFilterStrings(t).join(";")),Array.isArray(e)){var r=this;e.forEach((function(t){r._complexFilters("-map",t.replace(s.streamRegexp,"[$1]"))}))}else"string"==typeof e&&this._complexFilters("-map",e.replace(s.streamRegexp,"[$1]"));return this}}},5937:(t,e,r)=>{"use strict";var s=r(1626);t.exports=function(t){t.mergeAdd=t.addInput=t.input=function(t){var e=!1,r=!1;if("string"!=typeof t){if(!("readable"in t)||!t.readable)throw new Error("Invalid input");if(this._inputs.some((function(t){return t.isStream})))throw new Error("Only one input stream is supported");r=!0,t.pause()}else{var n=t.match(/^([a-z]{2,}):/i);e=!n||"file"===n[0]}return this._inputs.push(this._currentInput={source:t,isFile:e,isStream:r,options:s.args()}),this},t.withInputFormat=t.inputFormat=t.fromFormat=function(t){if(!this._currentInput)throw new Error("No input specified");return this._currentInput.options("-f",t),this},t.withInputFps=t.withInputFPS=t.withFpsInput=t.withFPSInput=t.inputFPS=t.inputFps=t.fpsInput=t.FPSInput=function(t){if(!this._currentInput)throw new Error("No input specified");return this._currentInput.options("-r",t),this},t.nativeFramerate=t.withNativeFramerate=t.native=function(){if(!this._currentInput)throw new Error("No input specified");return this._currentInput.options("-re"),this},t.setStartTime=t.seekInput=function(t){if(!this._currentInput)throw new Error("No input specified");return this._currentInput.options("-ss",t),this},t.loop=function(t){if(!this._currentInput)throw new Error("No input specified");return this._currentInput.options("-loop","1"),void 0!==t&&this.duration(t),this}}},8135:(t,e,r)=>{"use strict";var s=r(1017);t.exports=function(t){t.usingPreset=t.preset=function(t){if("function"==typeof t)t(this);else try{var e=s.join(this.options.presets,t),r=require(e);if("function"!=typeof r.load)throw new Error("preset "+e+" has no load() function");r.load(this)}catch(t){throw new Error("preset "+e+" could not be loaded: "+t.message)}return this}}},8275:(t,e,r)=>{"use strict";var s=r(1626);t.exports=function(t){t.addOutput=t.output=function(t,e){var r=!1;if(!t&&this._currentOutput)throw new Error("Invalid output");if(t&&"string"!=typeof t){if(!("writable"in t)||!t.writable)throw new Error("Invalid output")}else if("string"==typeof t){var n=t.match(/^([a-z]{2,}):/i);r=!n||"file"===n[0]}if(t&&!("target"in this._currentOutput))this._currentOutput.target=t,this._currentOutput.isFile=r,this._currentOutput.pipeopts=e||{};else{if(t&&"string"!=typeof t&&this._outputs.some((function(t){return"string"!=typeof t.target})))throw new Error("Only one output stream is supported");this._outputs.push(this._currentOutput={target:t,isFile:r,flags:{},pipeopts:e||{}});var i=this;["audio","audioFilters","video","videoFilters","sizeFilters","options"].forEach((function(t){i._currentOutput[t]=s.args()})),t||delete this._currentOutput.target}return this},t.seekOutput=t.seek=function(t){return this._currentOutput.options("-ss",t),this},t.withDuration=t.setDuration=t.duration=function(t){return this._currentOutput.options("-t",t),this},t.toFormat=t.withOutputFormat=t.outputFormat=t.format=function(t){return this._currentOutput.options("-f",t),this},t.map=function(t){return this._currentOutput.options("-map",t.replace(s.streamRegexp,"[$1]")),this},t.updateFlvMetadata=t.flvmeta=function(){return this._currentOutput.flags.flvmeta=!0,this}}},8297:(t,e,r)=>{"use strict";var s=r(1626);t.exports=function(t){t.withNoVideo=t.noVideo=function(){return this._currentOutput.video.clear(),this._currentOutput.videoFilters.clear(),this._currentOutput.video("-vn"),this},t.withVideoCodec=t.videoCodec=function(t){return this._currentOutput.video("-vcodec",t),this},t.withVideoBitrate=t.videoBitrate=function(t,e){return t=(""+t).replace(/k?$/,"k"),this._currentOutput.video("-b:v",t),e&&this._currentOutput.video("-maxrate",t,"-minrate",t,"-bufsize","3M"),this},t.withVideoFilter=t.withVideoFilters=t.videoFilter=t.videoFilters=function(t){return arguments.length>1&&(t=[].slice.call(arguments)),Array.isArray(t)||(t=[t]),this._currentOutput.videoFilters(s.makeFilterStrings(t)),this},t.withOutputFps=t.withOutputFPS=t.withFpsOutput=t.withFPSOutput=t.withFps=t.withFPS=t.outputFPS=t.outputFps=t.fpsOutput=t.FPSOutput=t.fps=t.FPS=function(t){return this._currentOutput.video("-r",t),this},t.takeFrames=t.withFrames=t.frames=function(t){return this._currentOutput.video("-vframes",t),this}}},1809:t=>{"use strict";function e(t,e,r,s){return[{filter:"scale",options:{w:"if(gt(a,"+r+"),"+t+",trunc("+e+"*a/2)*2)",h:"if(lt(a,"+r+"),"+e+",trunc("+t+"/a/2)*2)"}},{filter:"pad",options:{w:t,h:e,x:"if(gt(a,"+r+"),0,("+t+"-iw)/2)",y:"if(lt(a,"+r+"),0,("+e+"-ih)/2)",color:s}}]}function r(t,r,s){var n=t.sizeData=t.sizeData||{};if(n[r]=s,!("size"in n))return[];var i,o,a,c=n.size.match(/([0-9]+)x([0-9]+)/),u=n.size.match(/([0-9]+)x\?/),l=n.size.match(/\?x([0-9]+)/),h=n.size.match(/\b([0-9]{1,3})%/);if(h){var f=Number(h[1])/100;return[{filter:"scale",options:{w:"trunc(iw*"+f+"/2)*2",h:"trunc(ih*"+f+"/2)*2"}}]}if(c)return a=(i=2*Math.round(Number(c[1])/2))/(o=2*Math.round(Number(c[2])/2)),n.pad?e(i,o,a,n.pad):[{filter:"scale",options:{w:i,h:o}}];if(u||l)return"aspect"in n?(i=u?u[1]:Math.round(Number(l[1])*n.aspect),o=l?l[1]:Math.round(Number(u[1])/n.aspect),i=2*Math.round(i/2),o=2*Math.round(o/2),n.pad?e(i,o,n.aspect,n.pad):[{filter:"scale",options:{w:i,h:o}}]):u?[{filter:"scale",options:{w:2*Math.round(Number(u[1])/2),h:"trunc(ow/a/2)*2"}}]:[{filter:"scale",options:{w:"trunc(oh*a/2)*2",h:2*Math.round(Number(l[1])/2)}}];throw new Error("Invalid size specified: "+n.size)}t.exports=function(t){t.keepPixelAspect=t.keepDisplayAspect=t.keepDisplayAspectRatio=t.keepDAR=function(){return this.videoFilters([{filter:"scale",options:{w:"if(gt(sar,1),iw*sar,iw)",h:"if(lt(sar,1),ih/sar,ih)"}},{filter:"setsar",options:"1"}])},t.withSize=t.setSize=t.size=function(t){var e=r(this._currentOutput,"size",t);return this._currentOutput.sizeFilters.clear(),this._currentOutput.sizeFilters(e),this},t.withAspect=t.withAspectRatio=t.setAspect=t.setAspectRatio=t.aspect=t.aspectRatio=function(t){var e=Number(t);if(isNaN(e)){var s=t.match(/^(\d+):(\d+)$/);if(!s)throw new Error("Invalid aspect ratio: "+t);e=Number(s[1])/Number(s[2])}var n=r(this._currentOutput,"aspect",e);return this._currentOutput.sizeFilters.clear(),this._currentOutput.sizeFilters(n),this},t.applyAutopadding=t.applyAutoPadding=t.applyAutopad=t.applyAutoPad=t.withAutopadding=t.withAutoPadding=t.withAutopad=t.withAutoPad=t.autoPad=t.autopad=function(t,e){"string"==typeof t&&(e=t,t=!0),void 0===t&&(t=!0);var s=r(this._currentOutput,"pad",!!t&&(e||"black"));return this._currentOutput.sizeFilters.clear(),this._currentOutput.sizeFilters(s),this}}},7807:(t,e,r)=>{"use strict";var s=r(2081).spawn,n=(r(1017),r(7147),r(916)),i=r(1626);function o(t){t._inputs[0].isStream||t.ffprobe(0,(function(e,r){t._ffprobeData=r}))}t.exports=function(t){t._spawnFfmpeg=function(t,e,r,n){"function"==typeof e&&(n=r,r=e,e={}),void 0===n&&(n=r,r=function(){});var o="stdoutLines"in e?e.stdoutLines:this.options.stdoutLines;this._getFfmpegPath((function(a,c){if(a)return n(a);if(!c||0===c.length)return n(new Error("Cannot find ffmpeg"));e.niceness&&0!==e.niceness&&!i.isWindows&&(t.unshift("-n",e.niceness,c),c="nice");var u=i.linesRing(o),l=!1,h=i.linesRing(o),f=!1,d=s(c,t,e);d.stderr&&d.stderr.setEncoding("utf8"),d.on("error",(function(t){n(t)}));var p=null;function m(t){t&&(p=t),g&&(l||!e.captureStdout)&&f&&n(p,u,h)}var g=!1;d.on("exit",(function(t,e){g=!0,e?m(new Error("ffmpeg was killed with signal "+e)):t?m(new Error("ffmpeg exited with code "+t)):m()})),e.captureStdout&&(d.stdout.on("data",(function(t){u.append(t)})),d.stdout.on("close",(function(){u.close(),l=!0,m()}))),d.stderr.on("data",(function(t){h.append(t)})),d.stderr.on("close",(function(){h.close(),f=!0,m()})),r(d,u,h)}))},t._getArguments=function(){var t=this._complexFilters.get(),e=this._outputs.some((function(t){return t.isFile}));return[].concat(this._inputs.reduce((function(t,e){var r="string"==typeof e.source?e.source:"pipe:0";return t.concat(e.options.get(),["-i",r])}),[]),this._global.get(),e?["-y"]:[],t,this._outputs.reduce((function(t,e){var r,s=i.makeFilterStrings(e.sizeFilters.get()),n=e.audioFilters.get(),o=e.videoFilters.get().concat(s);return r=e.target?"string"==typeof e.target?[e.target]:["pipe:1"]:[],t.concat(e.audio.get(),n.length?["-filter:a",n.join(",")]:[],e.video.get(),o.length?["-filter:v",o.join(",")]:[],e.options.get(),r)}),[]))},t._prepare=function(t,e){var r=this;n.waterfall([function(t){r._checkCapabilities(t)},function(t){if(!e)return t();r.ffprobe(0,(function(e,s){e||(r._ffprobeData=s),t()}))},function(t){r._outputs.some((function(t){return t.flags.flvmeta&&!t.isFile&&(r.logger.warn("Updating flv metadata is only supported for files"),t.flags.flvmeta=!1),t.flags.flvmeta}))?r._getFlvtoolPath((function(e){t(e)})):t()},function(t){var e;try{e=r._getArguments()}catch(e){return t(e)}t(null,e)},function(t,e){r.availableEncoders((function(r,s){for(var n=0;n<t.length;n++)"-acodec"!==t[n]&&"-vcodec"!==t[n]||(n++,t[n]in s&&s[t[n]].experimental&&(t.splice(n+1,0,"-strict","experimental"),n+=2));e(null,t)}))}],t),e||(this.listeners("progress").length>0?o(this):this.once("newListener",(function(t){"progress"===t&&o(this)})))},t.exec=t.execute=t.run=function(){var t=this;if(!this._outputs.some((function(t){return"target"in t})))throw new Error("No output specified");var e=this._outputs.filter((function(t){return"string"!=typeof t.target}))[0],r=this._inputs.filter((function(t){return"string"!=typeof t.source}))[0],o=!1;function a(e,r,s){o||(o=!0,e?t.emit("error",e,r,s):t.emit("end",r,s))}t._prepare((function(o,c){if(o)return a(o);t._spawnFfmpeg(c,{captureStdout:!e,niceness:t.options.niceness,cwd:t.options.cwd},(function(s,n,o){if(t.ffmpegProc=s,t.emit("start","ffmpeg "+c.join(" ")),r&&(r.source.on("error",(function(t){var e=new Error("Input stream error: "+t.message);e.inputStreamError=t,a(e),s.kill()})),r.source.resume(),r.source.pipe(s.stdin),s.stdin.on("error",(function(){}))),t.options.timeout&&setTimeout((function(){var e="process ran into a timeout ("+t.options.timeout+"s)";a(new Error(e),n.get(),o.get()),s.kill()}),1e3*t.options.timeout),e&&(s.stdout.pipe(e.target,e.pipeopts),e.target.on("close",(function(){t.logger.debug("Output stream closed, scheduling kill for ffmpeg process"),setTimeout((function(){a(new Error("Output stream closed")),s.kill()}),20)})),e.target.on("error",(function(e){t.logger.debug("Output stream error, killing ffmpeg process");var r=new Error("Output stream error: "+e.message);r.outputStreamError=e,a(r,n.get(),o.get()),s.kill("SIGKILL")}))),o){if(t.listeners("stderr").length&&o.callback((function(e){t.emit("stderr",e)})),t.listeners("codecData").length){var u=!1,l={};o.callback((function(e){u||(u=i.extractCodecData(t,e,l))}))}t.listeners("progress").length&&o.callback((function(e){i.extractProgress(t,e)}))}}),(function(e,r,o){if(delete t.ffmpegProc,e)e.message.match(/ffmpeg exited with code/)&&(e.message+=": "+i.extractError(o.get())),a(e,r.get(),o.get());else{var c=t._outputs.filter((function(t){return t.flags.flvmeta}));c.length?t._getFlvtoolPath((function(t,e){if(t)return a(t);n.each(c,(function(t,r){s(e,["-U",t.target]).on("error",(function(s){r(new Error("Error running "+e+" on "+t.target+": "+s.message))})).on("exit",(function(s,n){0!==s||n?r(new Error(e+" "+(n?"received signal "+n:"exited with code "+s))+" when running on "+t.target):r()}))}),(function(t){t?a(t):a(null,r.get(),o.get())}))})):a(null,r.get(),o.get())}}))}))},t.renice=function(t){if(!i.isWindows&&(((t=t||0)<-20||t>20)&&this.logger.warn("Invalid niceness value: "+t+", must be between -20 and 20"),t=Math.min(20,Math.max(-20,t)),this.options.niceness=t,this.ffmpegProc)){var e=this.logger,r=this.ffmpegProc.pid,n=s("renice",[t,"-p",r]);n.on("error",(function(t){e.warn("could not renice process "+r+": "+t.message)})),n.on("exit",(function(s,n){n?e.warn("could not renice process "+r+": renice was killed by signal "+n):s?e.warn("could not renice process "+r+": renice exited with "+s):e.info("successfully reniced process "+r+" to "+t+" niceness")}))}return this},t.kill=function(t){return this.ffmpegProc?this.ffmpegProc.kill(t||"SIGKILL"):this.logger.warn("No running ffmpeg process, cannot send signal"),this}}},1906:(t,e,r)=>{"use strict";var s=r(7147),n=r(1017),i=r(2781).PassThrough,o=r(916),a=r(1626);t.exports=function(t){t.saveToFile=t.save=function(t){return this.output(t).run(),this},t.writeToStream=t.pipe=t.stream=function(t,e){if(t&&!("writable"in t)&&(e=t,t=void 0),!t){if(process.version.match(/v0\.8\./))throw new Error("PassThrough stream is not supported on node v0.8");t=new i}return this.output(t,e).run(),t},t.takeScreenshots=t.thumbnail=t.thumbnails=t.screenshot=t.screenshots=function(t,e){var r,i=this,c=this._currentInput.source;if("number"==typeof(t=t||{count:1})&&(t={count:t}),"folder"in t||(t.folder=e||"."),"timestamps"in t&&(t.timemarks=t.timestamps),!("timemarks"in t)){if(!t.count)throw new Error("Cannot take screenshots: neither a count nor a timemark list are specified");var u=100/(1+t.count);t.timemarks=[];for(var l=0;l<t.count;l++)t.timemarks.push(u*(l+1)+"%")}if("size"in t){var h=t.size.match(/^(\d+)x(\d+)$/),f=t.size.match(/^(\d+)x\?$/),d=t.size.match(/^\?x(\d+)$/),p=t.size.match(/^(\d+)%$/);if(!(h||f||d||p))throw new Error("Invalid size parameter: "+t.size)}function m(t){r?t(null,r):i.ffprobe((function(e,s){r=s,t(e,s)}))}return o.waterfall([function(e){if(t.timemarks.some((function(t){return(""+t).match(/^[\d.]+%$/)}))){if("string"!=typeof c)return e(new Error("Cannot compute screenshot timemarks with an input stream, please specify fixed timemarks"));m((function(r,s){if(r)e(r);else{var n=s.streams.reduce((function(t,e){return"video"===e.codec_type&&e.width*e.height>t.width*t.height?e:t}),{width:0,height:0});if(0===n.width)return e(new Error("No video stream in input, cannot take screenshots"));var i=Number(n.duration);if(isNaN(i)&&(i=Number(s.format.duration)),isNaN(i))return e(new Error("Could not get input duration, please specify fixed timemarks"));t.timemarks=t.timemarks.map((function(t){return(""+t).match(/^([\d.]+)%$/)?i*parseFloat(t)/100:t})),e()}}))}else e()},function(e){t.timemarks=t.timemarks.map((function(t){return a.timemarkToSeconds(t)})).sort((function(t,e){return t-e})),e()},function(e){var r=t.filename||"tn.png";if(-1===r.indexOf(".")&&(r+=".png"),t.timemarks.length>1&&!r.match(/%(s|0*i)/)){var s=n.extname(r);r=n.join(n.dirname(r),n.basename(r,s)+"_%i"+s)}e(null,r)},function(t,e){if(t.match(/%[bf]/)){if("string"!=typeof c)return e(new Error("Cannot replace %f or %b when using an input stream"));t=t.replace(/%f/g,n.basename(c)).replace(/%b/g,n.basename(c,n.extname(c)))}e(null,t)},function(t,e){if(t.match(/%[whr]/)){if(h)return e(null,t,h[1],h[2]);m((function(r,s){if(r)return e(new Error("Could not determine video resolution to replace %w, %h or %r"));var n=s.streams.reduce((function(t,e){return"video"===e.codec_type&&e.width*e.height>t.width*t.height?e:t}),{width:0,height:0});if(0===n.width)return e(new Error("No video stream in input, cannot replace %w, %h or %r"));var i=n.width,o=n.height;f?(o=o*Number(f[1])/i,i=Number(f[1])):d?(i=i*Number(d[1])/o,o=Number(d[1])):p&&(i=i*Number(p[1])/100,o=o*Number(p[1])/100),e(null,t,2*Math.round(i/2),2*Math.round(o/2))}))}else e(null,t,-1,-1)},function(t,e,r,s){s(null,t=t.replace(/%r/g,"%wx%h").replace(/%w/g,e).replace(/%h/g,r))},function(e,r){var s=t.timemarks.map((function(t,r){return e.replace(/%s/g,a.timemarkToSeconds(t)).replace(/%(0*)i/g,(function(t,e){var s=""+(r+1);return e.substr(0,Math.max(0,e.length+1-s.length))+s}))}));i.emit("filenames",s),r(null,s)},function(e,r){s.exists(t.folder,(function(n){n?r(null,e):s.mkdir(t.folder,(function(t){t?r(t):r(null,e)}))}))}],(function(e,r){if(e)return i.emit("error",e);var s,o=t.timemarks.length,a=[s={filter:"split",options:o,outputs:[]}];if("size"in t){i.size(t.size);var c=i._currentOutput.sizeFilters.get().map((function(t,e){return e>0&&(t.inputs="size"+(e-1)),t.outputs="size"+e,t}));s.inputs="size"+(c.length-1),a=c.concat(a),i._currentOutput.sizeFilters.clear()}for(var u=0,l=0;l<o;l++){var h="screen"+l;s.outputs.push(h),0===l&&(u=t.timemarks[l],i.seekInput(u)),i.output(n.join(t.folder,r[l])).frames(1).map(h),l>0&&i.seek(t.timemarks[l]-u)}i.complexFilter(a),i.run()})),this},t.mergeToFile=t.concatenate=t.concat=function(t,e){var r=this._inputs.filter((function(t){return!t.isStream}))[0],s=this;return this.ffprobe(this._inputs.indexOf(r),(function(r,n){if(r)return s.emit("error",r);var i=n.streams.some((function(t){return"audio"===t.codec_type})),o=n.streams.some((function(t){return"video"===t.codec_type}));s.output(t,e).complexFilter({filter:"concat",options:{n:s._inputs.length,v:o?1:0,a:i?1:0}}).run()})),this}}},1626:(t,e,r)=>{"use strict";r(2081).exec;var s=r(2037).platform().match(/win(32|64)/),n=r(7387),i=/\r\n|\r|\n/g,o=/^\[?(.*?)\]?$/,a=/[,]/,c={},u=t.exports={isWindows:s,streamRegexp:o,copy:function(t,e){Object.keys(t).forEach((function(r){e[r]=t[r]}))},args:function(){var t=[],e=function(){t=1===arguments.length&&Array.isArray(arguments[0])?t.concat(arguments[0]):t.concat([].slice.call(arguments))};return e.clear=function(){t=[]},e.get=function(){return t},e.find=function(e,r){var s=t.indexOf(e);if(-1!==s)return t.slice(s+1,s+1+(r||0))},e.remove=function(e,r){var s=t.indexOf(e);-1!==s&&t.splice(s,(r||0)+1)},e.clone=function(){var e=u.args();return e(t),e},e},makeFilterStrings:function(t){return t.map((function(t){if("string"==typeof t)return t;var e="";return Array.isArray(t.inputs)?e+=t.inputs.map((function(t){return t.replace(o,"[$1]")})).join(""):"string"==typeof t.inputs&&(e+=t.inputs.replace(o,"[$1]")),e+=t.filter,t.options&&("string"==typeof t.options||"number"==typeof t.options?e+="="+t.options:Array.isArray(t.options)?e+="="+t.options.map((function(t){return"string"==typeof t&&t.match(a)?"'"+t+"'":t})).join(":"):Object.keys(t.options).length&&(e+="="+Object.keys(t.options).map((function(e){var r=t.options[e];return"string"==typeof r&&r.match(a)&&(r="'"+r+"'"),e+"="+r})).join(":"))),Array.isArray(t.outputs)?e+=t.outputs.map((function(t){return t.replace(o,"[$1]")})).join(""):"string"==typeof t.outputs&&(e+=t.outputs.replace(o,"[$1]")),e}))},which:function(t,e){if(t in c)return e(null,c[t]);n(t,(function(r,s){if(r)return e(null,c[t]="");e(null,c[t]=s)}))},timemarkToSeconds:function(t){if("number"==typeof t)return t;if(-1===t.indexOf(":")&&t.indexOf(".")>=0)return Number(t);var e=t.split(":"),r=Number(e.pop());return e.length&&(r+=60*Number(e.pop())),e.length&&(r+=3600*Number(e.pop())),r},extractCodecData:function(t,e,r){"inputStack"in r||(r.inputStack=[],r.inputIndex=-1,r.inInput=!1);var s,n,i,o,a=r.inputStack,c=r.inputIndex,u=r.inInput;if(s=e.match(/Input #[0-9]+, ([^ ]+),/))u=r.inInput=!0,a[c=r.inputIndex=r.inputIndex+1]={format:s[1],audio:"",video:"",duration:""};else if(u&&(n=e.match(/Duration\: ([^,]+)/)))a[c].duration=n[1];else if(u&&(i=e.match(/Audio\: (.*)/)))i=i[1].split(", "),a[c].audio=i[0],a[c].audio_details=i;else if(u&&(o=e.match(/Video\: (.*)/)))o=o[1].split(", "),a[c].video=o[0],a[c].video_details=o;else if(/Output #\d+/.test(e))u=r.inInput=!1;else if(/Stream mapping:|Press (\[q\]|ctrl-c) to stop/.test(e))return t.emit.apply(t,["codecData"].concat(a)),!0;return!1},extractProgress:function(t,e){var r=function(t){for(var e={},r=(t=t.replace(/=\s+/g,"=").trim()).split(" "),s=0;s<r.length;s++){var n=r[s].split("=",2),i=n[0],o=n[1];if(void 0===o)return null;e[i]=o}return e}(e);if(r){var s={frames:parseInt(r.frame,10),currentFps:parseInt(r.fps,10),currentKbps:r.bitrate?parseFloat(r.bitrate.replace("kbits/s","")):0,targetSize:parseInt(r.size||r.Lsize,10),timemark:r.time};if(t._ffprobeData&&t._ffprobeData.format&&t._ffprobeData.format.duration){var n=Number(t._ffprobeData.format.duration);isNaN(n)||(s.percent=u.timemarkToSeconds(s.timemark)/n*100)}t.emit("progress",s)}},extractError:function(t){return t.split(i).reduce((function(t,e){return" "===e.charAt(0)||"["===e.charAt(0)?[]:(t.push(e),t)}),[]).join("\n")},linesRing:function(t){var e=[],r=[],s=null,n=!1,o=t-1;function a(t){e.forEach((function(e){e(t)}))}return{callback:function(t){r.forEach((function(e){t(e)})),e.push(t)},append:function(t){if(!n&&(t instanceof Buffer&&(t=""+t),t&&0!==t.length)){var e=t.split(i);1===e.length?null!==s?s+=e.shift():s=e.shift():(null!==s&&(a(s+=e.shift()),r.push(s)),s=e.pop(),e.forEach((function(t){a(t),r.push(t)})),o>-1&&r.length>o&&r.splice(0,r.length-o))}},get:function(){return null!==s?r.concat([s]).join("\n"):r.join("\n")},close:function(){n||(null!==s&&(a(s),r.push(s),o>-1&&r.length>o&&r.shift(),s=null),n=!0)}}}}},7387:(t,e,r)=>{t.exports=u,u.sync=function(t,e){for(var r=c(t,e=e||{}),s=r.env,i=r.ext,u=r.extExe,l=[],h=0,f=s.length;h<f;h++){var d=s[h];'"'===d.charAt(0)&&'"'===d.slice(-1)&&(d=d.slice(1,-1));var p=n.join(d,t);!d&&/^\.[\\\/]/.test(t)&&(p=t.slice(0,2)+p);for(var m=0,g=i.length;m<g;m++){var y=p+i[m];try{if(o.sync(y,{pathExt:u})){if(!e.all)return y;l.push(y)}}catch(t){}}}if(e.all&&l.length)return l;if(e.nothrow)return null;throw a(t)};var s="win32"===process.platform||"cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,n=r(1017),i=s?";":":",o=r(1147);function a(t){var e=new Error("not found: "+t);return e.code="ENOENT",e}function c(t,e){var r=e.colon||i,n=e.path||process.env.PATH||"",o=[""];n=n.split(r);var a="";return s&&(n.unshift(process.cwd()),o=(a=e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM").split(r),-1!==t.indexOf(".")&&""!==o[0]&&o.unshift("")),(t.match(/\//)||s&&t.match(/\\/))&&(n=[""]),{env:n,ext:o,extExe:a}}function u(t,e,r){"function"==typeof e&&(r=e,e={});var s=c(t,e),i=s.env,u=s.ext,l=s.extExe,h=[];!function s(c,f){if(c===f)return e.all&&h.length?r(null,h):r(a(t));var d=i[c];'"'===d.charAt(0)&&'"'===d.slice(-1)&&(d=d.slice(1,-1));var p=n.join(d,t);!d&&/^\.[\\\/]/.test(t)&&(p=t.slice(0,2)+p),function t(n,i){if(n===i)return s(c+1,f);var a=u[n];o(p+a,{pathExt:l},(function(s,o){if(!s&&o){if(!e.all)return r(null,p+a);h.push(p+a)}return t(n+1,i)}))}(0,u.length)}(0,i.length)}},2866:(t,e,r)=>{"use strict";const s=r(1556),n=r(1017),i=r(2203).mkdirsSync,o=r(921).utimesMillisSync,a=r(5806);function c(t,e,r,i){const o=(i.dereference?s.statSync:s.lstatSync)(e);if(o.isDirectory())return function(t,e,r,n,i){return e?h(r,n,i):function(t,e,r,n){return s.mkdirSync(r),h(e,r,n),l(r,t)}(t.mode,r,n,i)}(o,t,e,r,i);if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return function(t,e,r,n,i){return e?function(t,e,r,n){if(n.overwrite)return s.unlinkSync(r),u(t,e,r,n);if(n.errorOnExist)throw new Error(`'${r}' already exists`)}(t,r,n,i):u(t,r,n,i)}(o,t,e,r,i);if(o.isSymbolicLink())return function(t,e,r,i){let o=s.readlinkSync(e);if(i.dereference&&(o=n.resolve(process.cwd(),o)),t){let t;try{t=s.readlinkSync(r)}catch(t){if("EINVAL"===t.code||"UNKNOWN"===t.code)return s.symlinkSync(o,r);throw t}if(i.dereference&&(t=n.resolve(process.cwd(),t)),a.isSrcSubdir(o,t))throw new Error(`Cannot copy '${o}' to a subdirectory of itself, '${t}'.`);if(a.isSrcSubdir(t,o))throw new Error(`Cannot overwrite '${t}' with '${o}'.`);return function(t,e){return s.unlinkSync(e),s.symlinkSync(t,e)}(o,r)}return s.symlinkSync(o,r)}(t,e,r,i);if(o.isSocket())throw new Error(`Cannot copy a socket file: ${e}`);if(o.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${e}`);throw new Error(`Unknown file: ${e}`)}function u(t,e,r,n){return s.copyFileSync(e,r),n.preserveTimestamps&&function(t,e,r){(function(t){return 0==(128&t)})(t)&&function(t,e){l(t,128|e)}(r,t),function(t,e){const r=s.statSync(t);o(e,r.atime,r.mtime)}(e,r)}(t.mode,e,r),l(r,t.mode)}function l(t,e){return s.chmodSync(t,e)}function h(t,e,r){s.readdirSync(t).forEach((s=>function(t,e,r,s){const i=n.join(e,t),o=n.join(r,t);if(s.filter&&!s.filter(i,o))return;const{destStat:u}=a.checkPathsSync(i,o,"copy",s);return c(u,i,o,s)}(s,t,e,r)))}t.exports=function(t,e,r){"function"==typeof r&&(r={filter:r}),(r=r||{}).clobber=!("clobber"in r)||!!r.clobber,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0002");const{srcStat:o,destStat:u}=a.checkPathsSync(t,e,"copy",r);if(a.checkParentPathsSync(t,o,e,"copy"),r.filter&&!r.filter(t,e))return;const l=n.dirname(e);return s.existsSync(l)||i(l),c(u,t,e,r)}},1637:(t,e,r)=>{"use strict";const s=r(1556),n=r(1017),i=r(2203).mkdirs,o=r(5296).pathExists,a=r(921).utimesMillis,c=r(5806);function u(t,e,r,s){if(!r.filter)return s(null,!0);Promise.resolve(r.filter(t,e)).then((t=>s(null,t)),(t=>s(t)))}function l(t,e,r,i,o){(i.dereference?s.stat:s.lstat)(e,((a,u)=>a?o(a):u.isDirectory()?function(t,e,r,n,i,o){return e?p(r,n,i,o):function(t,e,r,n,i){s.mkdir(r,(s=>{if(s)return i(s);p(e,r,n,(e=>e?i(e):d(r,t,i)))}))}(t.mode,r,n,i,o)}(u,t,e,r,i,o):u.isFile()||u.isCharacterDevice()||u.isBlockDevice()?function(t,e,r,n,i,o){return e?function(t,e,r,n,i){if(!n.overwrite)return n.errorOnExist?i(new Error(`'${r}' already exists`)):i();s.unlink(r,(s=>s?i(s):h(t,e,r,n,i)))}(t,r,n,i,o):h(t,r,n,i,o)}(u,t,e,r,i,o):u.isSymbolicLink()?function(t,e,r,i,o){s.readlink(e,((e,a)=>e?o(e):(i.dereference&&(a=n.resolve(process.cwd(),a)),t?void s.readlink(r,((t,e)=>t?"EINVAL"===t.code||"UNKNOWN"===t.code?s.symlink(a,r,o):o(t):(i.dereference&&(e=n.resolve(process.cwd(),e)),c.isSrcSubdir(a,e)?o(new Error(`Cannot copy '${a}' to a subdirectory of itself, '${e}'.`)):c.isSrcSubdir(e,a)?o(new Error(`Cannot overwrite '${e}' with '${a}'.`)):function(t,e,r){s.unlink(e,(n=>n?r(n):s.symlink(t,e,r)))}(a,r,o)))):s.symlink(a,r,o))))}(t,e,r,i,o):u.isSocket()?o(new Error(`Cannot copy a socket file: ${e}`)):u.isFIFO()?o(new Error(`Cannot copy a FIFO pipe: ${e}`)):o(new Error(`Unknown file: ${e}`))))}function h(t,e,r,n,i){s.copyFile(e,r,(s=>s?i(s):n.preserveTimestamps?function(t,e,r,s){return function(t){return 0==(128&t)}(t)?function(t,e,r){return d(t,128|e,r)}(r,t,(n=>n?s(n):f(t,e,r,s))):f(t,e,r,s)}(t.mode,e,r,i):d(r,t.mode,i)))}function f(t,e,r,n){!function(t,e,r){s.stat(t,((t,s)=>t?r(t):a(e,s.atime,s.mtime,r)))}(e,r,(e=>e?n(e):d(r,t,n)))}function d(t,e,r){return s.chmod(t,e,r)}function p(t,e,r,n){s.readdir(t,((s,i)=>s?n(s):m(i,t,e,r,n)))}function m(t,e,r,s,i){const o=t.pop();return o?function(t,e,r,s,i,o){const a=n.join(r,e),h=n.join(s,e);u(a,h,i,((e,n)=>e?o(e):n?void c.checkPaths(a,h,"copy",i,((e,n)=>{if(e)return o(e);const{destStat:c}=n;l(c,a,h,i,(e=>e?o(e):m(t,r,s,i,o)))})):m(t,r,s,i,o)))}(t,o,e,r,s,i):i()}t.exports=function(t,e,r,s){"function"!=typeof r||s?"function"==typeof r&&(r={filter:r}):(s=r,r={}),s=s||function(){},(r=r||{}).clobber=!("clobber"in r)||!!r.clobber,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0001"),c.checkPaths(t,e,"copy",r,((a,h)=>{if(a)return s(a);const{srcStat:f,destStat:d}=h;c.checkParentPaths(t,f,e,"copy",(a=>{if(a)return s(a);u(t,e,r,((a,c)=>a?s(a):c?void function(t,e,r,s,a){const c=n.dirname(r);o(c,((n,o)=>n?a(n):o?l(t,e,r,s,a):void i(c,(n=>n?a(n):l(t,e,r,s,a)))))}(d,t,e,r,s):s()))}))}))}},7314:(t,e,r)=>{"use strict";const s=r(2140).fromCallback;t.exports={copy:s(r(1637)),copySync:r(2866)}},8394:(t,e,r)=>{"use strict";const s=r(2140).fromPromise,n=r(7330),i=r(1017),o=r(2203),a=r(1196),c=s((async function(t){let e;try{e=await n.readdir(t)}catch{return o.mkdirs(t)}return Promise.all(e.map((e=>a.remove(i.join(t,e)))))}));function u(t){let e;try{e=n.readdirSync(t)}catch{return o.mkdirsSync(t)}e.forEach((e=>{e=i.join(t,e),a.removeSync(e)}))}t.exports={emptyDirSync:u,emptydirSync:u,emptyDir:c,emptydir:c}},5864:(t,e,r)=>{"use strict";const s=r(2140).fromCallback,n=r(1017),i=r(1556),o=r(2203);t.exports={createFile:s((function(t,e){function r(){i.writeFile(t,"",(t=>{if(t)return e(t);e()}))}i.stat(t,((s,a)=>{if(!s&&a.isFile())return e();const c=n.dirname(t);i.stat(c,((t,s)=>{if(t)return"ENOENT"===t.code?o.mkdirs(c,(t=>{if(t)return e(t);r()})):e(t);s.isDirectory()?r():i.readdir(c,(t=>{if(t)return e(t)}))}))}))})),createFileSync:function(t){let e;try{e=i.statSync(t)}catch{}if(e&&e.isFile())return;const r=n.dirname(t);try{i.statSync(r).isDirectory()||i.readdirSync(r)}catch(t){if(!t||"ENOENT"!==t.code)throw t;o.mkdirsSync(r)}i.writeFileSync(t,"")}}},2431:(t,e,r)=>{"use strict";const{createFile:s,createFileSync:n}=r(5864),{createLink:i,createLinkSync:o}=r(8626),{createSymlink:a,createSymlinkSync:c}=r(9855);t.exports={createFile:s,createFileSync:n,ensureFile:s,ensureFileSync:n,createLink:i,createLinkSync:o,ensureLink:i,ensureLinkSync:o,createSymlink:a,createSymlinkSync:c,ensureSymlink:a,ensureSymlinkSync:c}},8626:(t,e,r)=>{"use strict";const s=r(2140).fromCallback,n=r(1017),i=r(1556),o=r(2203),a=r(5296).pathExists,{areIdentical:c}=r(5806);t.exports={createLink:s((function(t,e,r){function s(t,e){i.link(t,e,(t=>{if(t)return r(t);r(null)}))}i.lstat(e,((u,l)=>{i.lstat(t,((i,u)=>{if(i)return i.message=i.message.replace("lstat","ensureLink"),r(i);if(l&&c(u,l))return r(null);const h=n.dirname(e);a(h,((n,i)=>n?r(n):i?s(t,e):void o.mkdirs(h,(n=>{if(n)return r(n);s(t,e)}))))}))}))})),createLinkSync:function(t,e){let r;try{r=i.lstatSync(e)}catch{}try{const e=i.lstatSync(t);if(r&&c(e,r))return}catch(t){throw t.message=t.message.replace("lstat","ensureLink"),t}const s=n.dirname(e);return i.existsSync(s)||o.mkdirsSync(s),i.linkSync(t,e)}}},415:(t,e,r)=>{"use strict";const s=r(1017),n=r(1556),i=r(5296).pathExists;t.exports={symlinkPaths:function(t,e,r){if(s.isAbsolute(t))return n.lstat(t,(e=>e?(e.message=e.message.replace("lstat","ensureSymlink"),r(e)):r(null,{toCwd:t,toDst:t})));{const o=s.dirname(e),a=s.join(o,t);return i(a,((e,i)=>e?r(e):i?r(null,{toCwd:a,toDst:t}):n.lstat(t,(e=>e?(e.message=e.message.replace("lstat","ensureSymlink"),r(e)):r(null,{toCwd:t,toDst:s.relative(o,t)})))))}},symlinkPathsSync:function(t,e){let r;if(s.isAbsolute(t)){if(r=n.existsSync(t),!r)throw new Error("absolute srcpath does not exist");return{toCwd:t,toDst:t}}{const i=s.dirname(e),o=s.join(i,t);if(r=n.existsSync(o),r)return{toCwd:o,toDst:t};if(r=n.existsSync(t),!r)throw new Error("relative srcpath does not exist");return{toCwd:t,toDst:s.relative(i,t)}}}}},780:(t,e,r)=>{"use strict";const s=r(1556);t.exports={symlinkType:function(t,e,r){if(r="function"==typeof e?e:r,e="function"!=typeof e&&e)return r(null,e);s.lstat(t,((t,s)=>{if(t)return r(null,"file");e=s&&s.isDirectory()?"dir":"file",r(null,e)}))},symlinkTypeSync:function(t,e){let r;if(e)return e;try{r=s.lstatSync(t)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}}},9855:(t,e,r)=>{"use strict";const s=r(2140).fromCallback,n=r(1017),i=r(7330),o=r(2203),a=o.mkdirs,c=o.mkdirsSync,u=r(415),l=u.symlinkPaths,h=u.symlinkPathsSync,f=r(780),d=f.symlinkType,p=f.symlinkTypeSync,m=r(5296).pathExists,{areIdentical:g}=r(5806);function y(t,e,r,s){l(t,e,((o,c)=>{if(o)return s(o);t=c.toDst,d(c.toCwd,r,((r,o)=>{if(r)return s(r);const c=n.dirname(e);m(c,((r,n)=>r?s(r):n?i.symlink(t,e,o,s):void a(c,(r=>{if(r)return s(r);i.symlink(t,e,o,s)}))))}))}))}t.exports={createSymlink:s((function(t,e,r,s){s="function"==typeof r?r:s,r="function"!=typeof r&&r,i.lstat(e,((n,o)=>{!n&&o.isSymbolicLink()?Promise.all([i.stat(t),i.stat(e)]).then((([n,i])=>{if(g(n,i))return s(null);y(t,e,r,s)})):y(t,e,r,s)}))})),createSymlinkSync:function(t,e,r){let s;try{s=i.lstatSync(e)}catch{}if(s&&s.isSymbolicLink()){const r=i.statSync(t),s=i.statSync(e);if(g(r,s))return}const o=h(t,e);t=o.toDst,r=p(o.toCwd,r);const a=n.dirname(e);return i.existsSync(a)||c(a),i.symlinkSync(t,e,r)}}},7330:(t,e,r)=>{"use strict";const s=r(2140).fromCallback,n=r(1556),i=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter((t=>"function"==typeof n[t]));Object.assign(e,n),i.forEach((t=>{e[t]=s(n[t])})),e.exists=function(t,e){return"function"==typeof e?n.exists(t,e):new Promise((e=>n.exists(t,e)))},e.read=function(t,e,r,s,i,o){return"function"==typeof o?n.read(t,e,r,s,i,o):new Promise(((o,a)=>{n.read(t,e,r,s,i,((t,e,r)=>{if(t)return a(t);o({bytesRead:e,buffer:r})}))}))},e.write=function(t,e,...r){return"function"==typeof r[r.length-1]?n.write(t,e,...r):new Promise(((s,i)=>{n.write(t,e,...r,((t,e,r)=>{if(t)return i(t);s({bytesWritten:e,buffer:r})}))}))},e.readv=function(t,e,...r){return"function"==typeof r[r.length-1]?n.readv(t,e,...r):new Promise(((s,i)=>{n.readv(t,e,...r,((t,e,r)=>{if(t)return i(t);s({bytesRead:e,buffers:r})}))}))},e.writev=function(t,e,...r){return"function"==typeof r[r.length-1]?n.writev(t,e,...r):new Promise(((s,i)=>{n.writev(t,e,...r,((t,e,r)=>{if(t)return i(t);s({bytesWritten:e,buffers:r})}))}))},"function"==typeof n.realpath.native?e.realpath.native=s(n.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")},4584:(t,e,r)=>{"use strict";t.exports={...r(7330),...r(7314),...r(8394),...r(2431),...r(2275),...r(2203),...r(3744),...r(5695),...r(5296),...r(1196)}},2275:(t,e,r)=>{"use strict";const s=r(2140).fromPromise,n=r(43);n.outputJson=s(r(3249)),n.outputJsonSync=r(1909),n.outputJSON=n.outputJson,n.outputJSONSync=n.outputJsonSync,n.writeJSON=n.writeJson,n.writeJSONSync=n.writeJsonSync,n.readJSON=n.readJson,n.readJSONSync=n.readJsonSync,t.exports=n},43:(t,e,r)=>{"use strict";const s=r(2138);t.exports={readJson:s.readFile,readJsonSync:s.readFileSync,writeJson:s.writeFile,writeJsonSync:s.writeFileSync}},1909:(t,e,r)=>{"use strict";const{stringify:s}=r(2208),{outputFileSync:n}=r(5695);t.exports=function(t,e,r){const i=s(e,r);n(t,i,r)}},3249:(t,e,r)=>{"use strict";const{stringify:s}=r(2208),{outputFile:n}=r(5695);t.exports=async function(t,e,r={}){const i=s(e,r);await n(t,i,r)}},2203:(t,e,r)=>{"use strict";const s=r(2140).fromPromise,{makeDir:n,makeDirSync:i}=r(4775),o=s(n);t.exports={mkdirs:o,mkdirsSync:i,mkdirp:o,mkdirpSync:i,ensureDir:o,ensureDirSync:i}},4775:(t,e,r)=>{"use strict";const s=r(7330),{checkPath:n}=r(1695),i=t=>"number"==typeof t?t:{mode:511,...t}.mode;t.exports.makeDir=async(t,e)=>(n(t),s.mkdir(t,{mode:i(e),recursive:!0})),t.exports.makeDirSync=(t,e)=>(n(t),s.mkdirSync(t,{mode:i(e),recursive:!0}))},1695:(t,e,r)=>{"use strict";const s=r(1017);t.exports.checkPath=function(t){if("win32"===process.platform&&/[<>:"|?*]/.test(t.replace(s.parse(t).root,""))){const e=new Error(`Path contains invalid characters: ${t}`);throw e.code="EINVAL",e}}},3744:(t,e,r)=>{"use strict";const s=r(2140).fromCallback;t.exports={move:s(r(4234)),moveSync:r(5454)}},5454:(t,e,r)=>{"use strict";const s=r(1556),n=r(1017),i=r(7314).copySync,o=r(1196).removeSync,a=r(2203).mkdirpSync,c=r(5806);function u(t,e,r){try{s.renameSync(t,e)}catch(s){if("EXDEV"!==s.code)throw s;return function(t,e,r){return i(t,e,{overwrite:r,errorOnExist:!0,preserveTimestamps:!0}),o(t)}(t,e,r)}}t.exports=function(t,e,r){const i=(r=r||{}).overwrite||r.clobber||!1,{srcStat:l,isChangingCase:h=!1}=c.checkPathsSync(t,e,"move",r);return c.checkParentPathsSync(t,l,e,"move"),function(t){const e=n.dirname(t);return n.parse(e).root===e}(e)||a(n.dirname(e)),function(t,e,r,n){if(n)return u(t,e,r);if(r)return o(e),u(t,e,r);if(s.existsSync(e))throw new Error("dest already exists.");return u(t,e,r)}(t,e,i,h)}},4234:(t,e,r)=>{"use strict";const s=r(1556),n=r(1017),i=r(7314).copy,o=r(1196).remove,a=r(2203).mkdirp,c=r(5296).pathExists,u=r(5806);function l(t,e,r,s,n){return s?h(t,e,r,n):r?o(e,(s=>s?n(s):h(t,e,r,n))):void c(e,((s,i)=>s?n(s):i?n(new Error("dest already exists.")):h(t,e,r,n)))}function h(t,e,r,n){s.rename(t,e,(s=>s?"EXDEV"!==s.code?n(s):function(t,e,r,s){i(t,e,{overwrite:r,errorOnExist:!0,preserveTimestamps:!0},(e=>e?s(e):o(t,s)))}(t,e,r,n):n()))}t.exports=function(t,e,r,s){"function"==typeof r&&(s=r,r={});const i=(r=r||{}).overwrite||r.clobber||!1;u.checkPaths(t,e,"move",r,((r,o)=>{if(r)return s(r);const{srcStat:c,isChangingCase:h=!1}=o;u.checkParentPaths(t,c,e,"move",(r=>r?s(r):function(t){const e=n.dirname(t);return n.parse(e).root===e}(e)?l(t,e,i,h,s):void a(n.dirname(e),(r=>r?s(r):l(t,e,i,h,s)))))}))}},5695:(t,e,r)=>{"use strict";const s=r(2140).fromCallback,n=r(1556),i=r(1017),o=r(2203),a=r(5296).pathExists;t.exports={outputFile:s((function(t,e,r,s){"function"==typeof r&&(s=r,r="utf8");const c=i.dirname(t);a(c,((i,a)=>i?s(i):a?n.writeFile(t,e,r,s):void o.mkdirs(c,(i=>{if(i)return s(i);n.writeFile(t,e,r,s)}))))})),outputFileSync:function(t,...e){const r=i.dirname(t);if(n.existsSync(r))return n.writeFileSync(t,...e);o.mkdirsSync(r),n.writeFileSync(t,...e)}}},5296:(t,e,r)=>{"use strict";const s=r(2140).fromPromise,n=r(7330);t.exports={pathExists:s((function(t){return n.access(t).then((()=>!0)).catch((()=>!1))})),pathExistsSync:n.existsSync}},1196:(t,e,r)=>{"use strict";const s=r(1556),n=r(2140).fromCallback;t.exports={remove:n((function(t,e){s.rm(t,{recursive:!0,force:!0},e)})),removeSync:function(t){s.rmSync(t,{recursive:!0,force:!0})}}},5806:(t,e,r)=>{"use strict";const s=r(7330),n=r(1017),i=r(3837);function o(t,e,r){const n=r.dereference?t=>s.stat(t,{bigint:!0}):t=>s.lstat(t,{bigint:!0});return Promise.all([n(t),n(e).catch((t=>{if("ENOENT"===t.code)return null;throw t}))]).then((([t,e])=>({srcStat:t,destStat:e})))}function a(t,e){return e.ino&&e.dev&&e.ino===t.ino&&e.dev===t.dev}function c(t,e){const r=n.resolve(t).split(n.sep).filter((t=>t)),s=n.resolve(e).split(n.sep).filter((t=>t));return r.reduce(((t,e,r)=>t&&s[r]===e),!0)}function u(t,e,r){return`Cannot ${r} '${t}' to a subdirectory of itself, '${e}'.`}t.exports={checkPaths:function(t,e,r,s,l){i.callbackify(o)(t,e,s,((s,i)=>{if(s)return l(s);const{srcStat:o,destStat:h}=i;if(h){if(a(o,h)){const s=n.basename(t),i=n.basename(e);return"move"===r&&s!==i&&s.toLowerCase()===i.toLowerCase()?l(null,{srcStat:o,destStat:h,isChangingCase:!0}):l(new Error("Source and destination must not be the same."))}if(o.isDirectory()&&!h.isDirectory())return l(new Error(`Cannot overwrite non-directory '${e}' with directory '${t}'.`));if(!o.isDirectory()&&h.isDirectory())return l(new Error(`Cannot overwrite directory '${e}' with non-directory '${t}'.`))}return o.isDirectory()&&c(t,e)?l(new Error(u(t,e,r))):l(null,{srcStat:o,destStat:h})}))},checkPathsSync:function(t,e,r,i){const{srcStat:o,destStat:l}=function(t,e,r){let n;const i=r.dereference?t=>s.statSync(t,{bigint:!0}):t=>s.lstatSync(t,{bigint:!0}),o=i(t);try{n=i(e)}catch(t){if("ENOENT"===t.code)return{srcStat:o,destStat:null};throw t}return{srcStat:o,destStat:n}}(t,e,i);if(l){if(a(o,l)){const s=n.basename(t),i=n.basename(e);if("move"===r&&s!==i&&s.toLowerCase()===i.toLowerCase())return{srcStat:o,destStat:l,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(o.isDirectory()&&!l.isDirectory())throw new Error(`Cannot overwrite non-directory '${e}' with directory '${t}'.`);if(!o.isDirectory()&&l.isDirectory())throw new Error(`Cannot overwrite directory '${e}' with non-directory '${t}'.`)}if(o.isDirectory()&&c(t,e))throw new Error(u(t,e,r));return{srcStat:o,destStat:l}},checkParentPaths:function t(e,r,i,o,c){const l=n.resolve(n.dirname(e)),h=n.resolve(n.dirname(i));if(h===l||h===n.parse(h).root)return c();s.stat(h,{bigint:!0},((s,n)=>s?"ENOENT"===s.code?c():c(s):a(r,n)?c(new Error(u(e,i,o))):t(e,r,h,o,c)))},checkParentPathsSync:function t(e,r,i,o){const c=n.resolve(n.dirname(e)),l=n.resolve(n.dirname(i));if(l===c||l===n.parse(l).root)return;let h;try{h=s.statSync(l,{bigint:!0})}catch(t){if("ENOENT"===t.code)return;throw t}if(a(r,h))throw new Error(u(e,i,o));return t(e,r,l,o)},isSrcSubdir:c,areIdentical:a}},921:(t,e,r)=>{"use strict";const s=r(1556);t.exports={utimesMillis:function(t,e,r,n){s.open(t,"r+",((t,i)=>{if(t)return n(t);s.futimes(i,e,r,(t=>{s.close(i,(e=>{n&&n(t||e)}))}))}))},utimesMillisSync:function(t,e,r){const n=s.openSync(t,"r+");return s.futimesSync(n,e,r),s.closeSync(n)}}},1276:(t,e,r)=>{var s=r(3612);t.exports=function(t){return t?("{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2)),g(function(t){return t.split("\\\\").join(n).split("\\{").join(i).split("\\}").join(o).split("\\,").join(a).split("\\.").join(c)}(t),!0).map(l)):[]};var n="\0SLASH"+Math.random()+"\0",i="\0OPEN"+Math.random()+"\0",o="\0CLOSE"+Math.random()+"\0",a="\0COMMA"+Math.random()+"\0",c="\0PERIOD"+Math.random()+"\0";function u(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function l(t){return t.split(n).join("\\").split(i).join("{").split(o).join("}").split(a).join(",").split(c).join(".")}function h(t){if(!t)return[""];var e=[],r=s("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,o=r.post,a=n.split(",");a[a.length-1]+="{"+i+"}";var c=h(o);return o.length&&(a[a.length-1]+=c.shift(),a.push.apply(a,c)),e.push.apply(e,a),e}function f(t){return"{"+t+"}"}function d(t){return/^-?0\d/.test(t)}function p(t,e){return t<=e}function m(t,e){return t>=e}function g(t,e){var r=[],n=s("{","}",t);if(!n)return[t];var i=n.pre,a=n.post.length?g(n.post,!1):[""];if(/\$$/.test(n.pre))for(var c=0;c<a.length;c++){var l=i+"{"+n.body+"}"+a[c];r.push(l)}else{var y,v,w=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),b=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),A=w||b,S=n.body.indexOf(",")>=0;if(!A&&!S)return n.post.match(/,.*\}/)?g(t=n.pre+"{"+n.body+o+n.post):[t];if(A)y=n.body.split(/\.\./);else if(1===(y=h(n.body)).length&&1===(y=g(y[0],!1).map(f)).length)return a.map((function(t){return n.pre+y[0]+t}));if(A){var E=u(y[0]),_=u(y[1]),k=Math.max(y[0].length,y[1].length),x=3==y.length?Math.abs(u(y[2])):1,P=p;_<E&&(x*=-1,P=m);var O=y.some(d);v=[];for(var C=E;P(C,_);C+=x){var $;if(b)"\\"===($=String.fromCharCode(C))&&($="");else if($=String(C),O){var j=k-$.length;if(j>0){var N=new Array(j+1).join("0");$=C<0?"-"+N+$.slice(1):N+$}}v.push($)}}else{v=[];for(var F=0;F<y.length;F++)v.push.apply(v,g(y[F],!1))}for(F=0;F<v.length;F++)for(c=0;c<a.length;c++)l=i+v[F]+a[c],(!e||A||l)&&r.push(l)}return r}},6192:t=>{"use strict";t.exports=function(t){if(null===t||"object"!=typeof t)return t;if(t instanceof Object)var r={__proto__:e(t)};else r=Object.create(null);return Object.getOwnPropertyNames(t).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})),r};var e=Object.getPrototypeOf||function(t){return t.__proto__}},1556:(t,e,r)=>{var s,n,i=r(7147),o=r(4056),a=r(9401),c=r(6192),u=r(3837);function l(t,e){Object.defineProperty(t,s,{get:function(){return e}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(s=Symbol.for("graceful-fs.queue"),n=Symbol.for("graceful-fs.previous")):(s="___graceful-fs.queue",n="___graceful-fs.previous");var h,f=function(){};if(u.debuglog?f=u.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(f=function(){var t=u.format.apply(u,arguments);t="GFS4: "+t.split(/\n/).join("\nGFS4: "),console.error(t)}),!i[s]){var d=global[s]||[];l(i,d),i.close=function(t){function e(e,r){return t.call(i,e,(function(t){t||g(),"function"==typeof r&&r.apply(this,arguments)}))}return Object.defineProperty(e,n,{value:t}),e}(i.close),i.closeSync=function(t){function e(e){t.apply(i,arguments),g()}return Object.defineProperty(e,n,{value:t}),e}(i.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){f(i[s]),r(9491).equal(i[s].length,0)}))}function p(t){o(t),t.gracefulify=p,t.createReadStream=function(e,r){return new t.ReadStream(e,r)},t.createWriteStream=function(e,r){return new t.WriteStream(e,r)};var e=t.readFile;t.readFile=function(t,r,s){return"function"==typeof r&&(s=r,r=null),function t(r,s,n,i){return e(r,s,(function(e){!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?"function"==typeof n&&n.apply(this,arguments):m([t,[r,s,n],e,i||Date.now(),Date.now()])}))}(t,r,s)};var r=t.writeFile;t.writeFile=function(t,e,s,n){return"function"==typeof s&&(n=s,s=null),function t(e,s,n,i,o){return r(e,s,n,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?"function"==typeof i&&i.apply(this,arguments):m([t,[e,s,n,i],r,o||Date.now(),Date.now()])}))}(t,e,s,n)};var s=t.appendFile;s&&(t.appendFile=function(t,e,r,n){return"function"==typeof r&&(n=r,r=null),function t(e,r,n,i,o){return s(e,r,n,(function(s){!s||"EMFILE"!==s.code&&"ENFILE"!==s.code?"function"==typeof i&&i.apply(this,arguments):m([t,[e,r,n,i],s,o||Date.now(),Date.now()])}))}(t,e,r,n)});var n=t.copyFile;n&&(t.copyFile=function(t,e,r,s){return"function"==typeof r&&(s=r,r=0),function t(e,r,s,i,o){return n(e,r,s,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?"function"==typeof i&&i.apply(this,arguments):m([t,[e,r,s,i],n,o||Date.now(),Date.now()])}))}(t,e,r,s)});var i=t.readdir;t.readdir=function(t,e,r){"function"==typeof e&&(r=e,e=null);var s=c.test(process.version)?function(t,e,r,s){return i(t,n(t,e,r,s))}:function(t,e,r,s){return i(t,e,n(t,e,r,s))};return s(t,e,r);function n(t,e,r,n){return function(i,o){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?(o&&o.sort&&o.sort(),"function"==typeof r&&r.call(this,i,o)):m([s,[t,e,r],i,n||Date.now(),Date.now()])}}};var c=/^v[0-5]\./;if("v0.8"===process.version.substr(0,4)){var u=a(t);g=u.ReadStream,y=u.WriteStream}var l=t.ReadStream;l&&(g.prototype=Object.create(l.prototype),g.prototype.open=function(){var t=this;w(t.path,t.flags,t.mode,(function(e,r){e?(t.autoClose&&t.destroy(),t.emit("error",e)):(t.fd=r,t.emit("open",r),t.read())}))});var h=t.WriteStream;h&&(y.prototype=Object.create(h.prototype),y.prototype.open=function(){var t=this;w(t.path,t.flags,t.mode,(function(e,r){e?(t.destroy(),t.emit("error",e)):(t.fd=r,t.emit("open",r))}))}),Object.defineProperty(t,"ReadStream",{get:function(){return g},set:function(t){g=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return y},set:function(t){y=t},enumerable:!0,configurable:!0});var f=g;Object.defineProperty(t,"FileReadStream",{get:function(){return f},set:function(t){f=t},enumerable:!0,configurable:!0});var d=y;function g(t,e){return this instanceof g?(l.apply(this,arguments),this):g.apply(Object.create(g.prototype),arguments)}function y(t,e){return this instanceof y?(h.apply(this,arguments),this):y.apply(Object.create(y.prototype),arguments)}Object.defineProperty(t,"FileWriteStream",{get:function(){return d},set:function(t){d=t},enumerable:!0,configurable:!0});var v=t.open;function w(t,e,r,s){return"function"==typeof r&&(s=r,r=null),function t(e,r,s,n,i){return v(e,r,s,(function(o,a){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?"function"==typeof n&&n.apply(this,arguments):m([t,[e,r,s,n],o,i||Date.now(),Date.now()])}))}(t,e,r,s)}return t.open=w,t}function m(t){f("ENQUEUE",t[0].name,t[1]),i[s].push(t),y()}function g(){for(var t=Date.now(),e=0;e<i[s].length;++e)i[s][e].length>2&&(i[s][e][3]=t,i[s][e][4]=t);y()}function y(){if(clearTimeout(h),h=void 0,0!==i[s].length){var t=i[s].shift(),e=t[0],r=t[1],n=t[2],o=t[3],a=t[4];if(void 0===o)f("RETRY",e.name,r),e.apply(null,r);else if(Date.now()-o>=6e4){f("TIMEOUT",e.name,r);var c=r.pop();"function"==typeof c&&c.call(null,n)}else{var u=Date.now()-a,l=Math.max(a-o,1);u>=Math.min(1.2*l,100)?(f("RETRY",e.name,r),e.apply(null,r.concat([o]))):i[s].push(t)}void 0===h&&(h=setTimeout(y,0))}}global[s]||l(global,i[s]),t.exports=p(c(i)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!i.__patched&&(t.exports=p(i),i.__patched=!0)},9401:(t,e,r)=>{var s=r(2781).Stream;t.exports=function(t){return{ReadStream:function e(r,n){if(!(this instanceof e))return new e(r,n);s.call(this);var i=this;this.path=r,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,n=n||{};for(var o=Object.keys(n),a=0,c=o.length;a<c;a++){var u=o[a];this[u]=n[u]}if(this.encoding&&this.setEncoding(this.encoding),void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}null===this.fd?t.open(this.path,this.flags,this.mode,(function(t,e){if(t)return i.emit("error",t),void(i.readable=!1);i.fd=e,i.emit("open",e),i._read()})):process.nextTick((function(){i._read()}))},WriteStream:function e(r,n){if(!(this instanceof e))return new e(r,n);s.call(this),this.path=r,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,n=n||{};for(var i=Object.keys(n),o=0,a=i.length;o<a;o++){var c=i[o];this[c]=n[c]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},4056:(t,e,r)=>{var s=r(2057),n=process.cwd,i=null,o=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return i||(i=n.call(process)),i};try{process.cwd()}catch(t){}if("function"==typeof process.chdir){var a=process.chdir;process.chdir=function(t){i=null,a.call(process,t)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,a)}t.exports=function(t){function e(e){return e?function(r,s,n){return e.call(t,r,s,(function(t){u(t)&&(t=null),n&&n.apply(this,arguments)}))}:e}function r(e){return e?function(r,s){try{return e.call(t,r,s)}catch(t){if(!u(t))throw t}}:e}function n(e){return e?function(r,s,n,i){return e.call(t,r,s,n,(function(t){u(t)&&(t=null),i&&i.apply(this,arguments)}))}:e}function i(e){return e?function(r,s,n){try{return e.call(t,r,s,n)}catch(t){if(!u(t))throw t}}:e}function a(e){return e?function(r,s,n){function i(t,e){e&&(e.uid<0&&(e.uid+=4294967296),e.gid<0&&(e.gid+=4294967296)),n&&n.apply(this,arguments)}return"function"==typeof s&&(n=s,s=null),s?e.call(t,r,s,i):e.call(t,r,i)}:e}function c(e){return e?function(r,s){var n=s?e.call(t,r,s):e.call(t,r);return n&&(n.uid<0&&(n.uid+=4294967296),n.gid<0&&(n.gid+=4294967296)),n}:e}function u(t){return!t||"ENOSYS"===t.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==t.code&&"EPERM"!==t.code)}var l;s.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(t){t.lchmod=function(e,r,n){t.open(e,s.O_WRONLY|s.O_SYMLINK,r,(function(e,s){e?n&&n(e):t.fchmod(s,r,(function(e){t.close(s,(function(t){n&&n(e||t)}))}))}))},t.lchmodSync=function(e,r){var n,i=t.openSync(e,s.O_WRONLY|s.O_SYMLINK,r),o=!0;try{n=t.fchmodSync(i,r),o=!1}finally{if(o)try{t.closeSync(i)}catch(t){}else t.closeSync(i)}return n}}(t),t.lutimes||function(t){s.hasOwnProperty("O_SYMLINK")&&t.futimes?(t.lutimes=function(e,r,n,i){t.open(e,s.O_SYMLINK,(function(e,s){e?i&&i(e):t.futimes(s,r,n,(function(e){t.close(s,(function(t){i&&i(e||t)}))}))}))},t.lutimesSync=function(e,r,n){var i,o=t.openSync(e,s.O_SYMLINK),a=!0;try{i=t.futimesSync(o,r,n),a=!1}finally{if(a)try{t.closeSync(o)}catch(t){}else t.closeSync(o)}return i}):t.futimes&&(t.lutimes=function(t,e,r,s){s&&process.nextTick(s)},t.lutimesSync=function(){})}(t),t.chown=n(t.chown),t.fchown=n(t.fchown),t.lchown=n(t.lchown),t.chmod=e(t.chmod),t.fchmod=e(t.fchmod),t.lchmod=e(t.lchmod),t.chownSync=i(t.chownSync),t.fchownSync=i(t.fchownSync),t.lchownSync=i(t.lchownSync),t.chmodSync=r(t.chmodSync),t.fchmodSync=r(t.fchmodSync),t.lchmodSync=r(t.lchmodSync),t.stat=a(t.stat),t.fstat=a(t.fstat),t.lstat=a(t.lstat),t.statSync=c(t.statSync),t.fstatSync=c(t.fstatSync),t.lstatSync=c(t.lstatSync),t.chmod&&!t.lchmod&&(t.lchmod=function(t,e,r){r&&process.nextTick(r)},t.lchmodSync=function(){}),t.chown&&!t.lchown&&(t.lchown=function(t,e,r,s){s&&process.nextTick(s)},t.lchownSync=function(){}),"win32"===o&&(t.rename="function"!=typeof t.rename?t.rename:function(e){function r(r,s,n){var i=Date.now(),o=0;e(r,s,(function a(c){if(c&&("EACCES"===c.code||"EPERM"===c.code||"EBUSY"===c.code)&&Date.now()-i<6e4)return setTimeout((function(){t.stat(s,(function(t,i){t&&"ENOENT"===t.code?e(r,s,a):n(c)}))}),o),void(o<100&&(o+=10));n&&n(c)}))}return Object.setPrototypeOf&&Object.setPrototypeOf(r,e),r}(t.rename)),t.read="function"!=typeof t.read?t.read:function(e){function r(r,s,n,i,o,a){var c;if(a&&"function"==typeof a){var u=0;c=function(l,h,f){if(l&&"EAGAIN"===l.code&&u<10)return u++,e.call(t,r,s,n,i,o,c);a.apply(this,arguments)}}return e.call(t,r,s,n,i,o,c)}return Object.setPrototypeOf&&Object.setPrototypeOf(r,e),r}(t.read),t.readSync="function"!=typeof t.readSync?t.readSync:(l=t.readSync,function(e,r,s,n,i){for(var o=0;;)try{return l.call(t,e,r,s,n,i)}catch(t){if("EAGAIN"===t.code&&o<10){o++;continue}throw t}})}},1147:(t,e,r)=>{var s;function n(t,e,r){if("function"==typeof e&&(r=e,e={}),!r){if("function"!=typeof Promise)throw new TypeError("callback not provided");return new Promise((function(r,s){n(t,e||{},(function(t,e){t?s(t):r(e)}))}))}s(t,e||{},(function(t,s){t&&("EACCES"===t.code||e&&e.ignoreErrors)&&(t=null,s=!1),r(t,s)}))}r(7147),s="win32"===process.platform||global.TESTING_WINDOWS?r(2192):r(7005),t.exports=n,n.sync=function(t,e){try{return s.sync(t,e||{})}catch(t){if(e&&e.ignoreErrors||"EACCES"===t.code)return!1;throw t}}},7005:(t,e,r)=>{t.exports=n,n.sync=function(t,e){return i(s.statSync(t),e)};var s=r(7147);function n(t,e,r){s.stat(t,(function(t,s){r(t,!t&&i(s,e))}))}function i(t,e){return t.isFile()&&function(t,e){var r=t.mode,s=t.uid,n=t.gid,i=void 0!==e.uid?e.uid:process.getuid&&process.getuid(),o=void 0!==e.gid?e.gid:process.getgid&&process.getgid(),a=parseInt("100",8),c=parseInt("010",8);return r&parseInt("001",8)||r&c&&n===o||r&a&&s===i||r&(a|c)&&0===i}(t,e)}},2192:(t,e,r)=>{t.exports=i,i.sync=function(t,e){return n(s.statSync(t),t,e)};var s=r(7147);function n(t,e,r){return!(!t.isSymbolicLink()&&!t.isFile())&&function(t,e){var r=void 0!==e.pathExt?e.pathExt:process.env.PATHEXT;if(!r)return!0;if(-1!==(r=r.split(";")).indexOf(""))return!0;for(var s=0;s<r.length;s++){var n=r[s].toLowerCase();if(n&&t.substr(-n.length).toLowerCase()===n)return!0}return!1}(e,r)}function i(t,e,r){s.stat(t,(function(s,i){r(s,!s&&n(i,t,e))}))}},1827:t=>{"use strict";var e=t.exports=function(t,e,s){"function"==typeof e&&(s=e,e={}),r(e,"function"==typeof(s=e.cb||s)?s:s.pre||function(){},s.post||function(){},t,"",t)};function r(t,s,n,i,o,a,c,u,l,h){if(i&&"object"==typeof i&&!Array.isArray(i)){for(var f in s(i,o,a,c,u,l,h),i){var d=i[f];if(Array.isArray(d)){if(f in e.arrayKeywords)for(var p=0;p<d.length;p++)r(t,s,n,d[p],o+"/"+f+"/"+p,a,o,f,i,p)}else if(f in e.propsKeywords){if(d&&"object"==typeof d)for(var m in d)r(t,s,n,d[m],o+"/"+f+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),a,o,f,i,m)}else(f in e.keywords||t.allKeys&&!(f in e.skipKeywords))&&r(t,s,n,d,o+"/"+f,a,o,f,i)}n(i,o,a,c,u,l,h)}}e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},2138:(t,e,r)=>{let s;try{s=r(1556)}catch(t){s=r(7147)}const n=r(2140),{stringify:i,stripBom:o}=r(2208),a={readFile:n.fromPromise((async function(t,e={}){"string"==typeof e&&(e={encoding:e});const r=e.fs||s,i=!("throws"in e)||e.throws;let a,c=await n.fromCallback(r.readFile)(t,e);c=o(c);try{a=JSON.parse(c,e?e.reviver:null)}catch(e){if(i)throw e.message=`${t}: ${e.message}`,e;return null}return a})),readFileSync:function(t,e={}){"string"==typeof e&&(e={encoding:e});const r=e.fs||s,n=!("throws"in e)||e.throws;try{let s=r.readFileSync(t,e);return s=o(s),JSON.parse(s,e.reviver)}catch(e){if(n)throw e.message=`${t}: ${e.message}`,e;return null}},writeFile:n.fromPromise((async function(t,e,r={}){const o=r.fs||s,a=i(e,r);await n.fromCallback(o.writeFile)(t,a,r)})),writeFileSync:function(t,e,r={}){const n=r.fs||s,o=i(e,r);return n.writeFileSync(t,o,r)}};t.exports=a},2208:t=>{t.exports={stringify:function(t,{EOL:e="\n",finalEOL:r=!0,replacer:s=null,spaces:n}={}){const i=r?e:"";return JSON.stringify(t,s,n).replace(/\n/g,e)+i},stripBom:function(t){return Buffer.isBuffer(t)&&(t=t.toString("utf8")),t.replace(/^\uFEFF/,"")}}},4001:(t,e,r)=>{var s={child:r(2081),crypto:r(6113),fs:r(7147),os:r(2037),path:r(1017),process,util:r(3837)};function n(t,e){var r=s.process.platform;return"darwin"===r?function(t,e){var r=s.os.tmpdir();return r?s.process.env.USER?void a(t,(function(n,a){if(n)return e(n);function c(r,n,i){o(s.path.dirname(t.path),(function(t){return r?e(r):t?e(t):void e(void 0,n,i)}))}t.uuid=a,t.path=s.path.join(r,t.uuid,t.options.name+".app"),function(t,e){var r=s.path.dirname(t.path);s.fs.mkdir(r,(function(n){if(n)return e(n);var o=s.path.join(r,"sudo-prompt-applet.zip");s.fs.writeFile(o,l,"base64",(function(r){if(r)return e(r);var n=[];n.push("/usr/bin/unzip"),n.push("-o"),n.push('"'+i(o)+'"'),n.push('-d "'+i(t.path)+'"'),n=n.join(" "),s.child.exec(n,{encoding:"utf-8"},e)}))}))}(t,(function(e,r,n){if(e)return c(e,r,n);!function(t,e){if(!t.options.icns)return e();s.fs.readFile(t.options.icns,(function(r,n){if(r)return e(r);var i=s.path.join(t.path,"Contents","Resources","applet.icns");s.fs.writeFile(i,n,e)}))}(t,(function(e){if(e)return c(e);!function(t,e){var r=i(s.path.join(t.path,"Contents","Info.plist")),n=i("CFBundleName"),o=t.options.name+" Password Prompt";if(/'/.test(o))return e(new Error("Value should not contain single quotes."));var a=[];a.push("/usr/bin/defaults"),a.push("write"),a.push('"'+r+'"'),a.push('"'+n+'"'),a.push("'"+o+"'"),a=a.join(" "),s.child.exec(a,{encoding:"utf-8"},e)}(t,(function(e,r,n){if(e)return c(e,r,n);!function(t,e){var r=s.path.join(t.path,"Contents","MacOS","sudo-prompt-command"),n=[];for(var o in n.push('cd "'+i(s.process.cwd())+'"'),t.options.env){var a=t.options.env[o];n.push("export "+o+'="'+i(a)+'"')}n.push(t.command),n=n.join("\n"),s.fs.writeFile(r,n,"utf-8",e)}(t,(function(e){if(e)return c(e);!function(t,e){var r=s.path.join(t.path,"Contents","MacOS","applet"),n={cwd:s.path.dirname(r),encoding:"utf-8"};s.child.exec("./"+s.path.basename(r),n,e)}(t,(function(e,r,n){if(e)return c(e,r,n);!function(t,e){var r=s.path.join(t.path,"Contents","MacOS");s.fs.readFile(s.path.join(r,"code"),"utf-8",(function(n,i){if(n){if("ENOENT"===n.code)return e(new Error(h));e(n)}else s.fs.readFile(s.path.join(r,"stdout"),"utf-8",(function(n,o){if(n)return e(n);s.fs.readFile(s.path.join(r,"stderr"),"utf-8",(function(r,s){if(r)return e(r);0===(i=parseInt(i.trim(),10))?e(void 0,o,s):((r=new Error("Command failed: "+t.command+"\n"+s)).code=i,e(r,o,s))}))}))}))}(t,c)}))}))}))}))}))})):e(new Error("env['USER'] not defined.")):e(new Error("os.tmpdir() not defined."))}(t,e):"linux"===r?function(t,e){!function(t,e){var r=0,n=["/usr/bin/kdesudo","/usr/bin/pkexec"];!function t(){if(r===n.length)return e(new Error("Unable to find pkexec or kdesudo."));var i=n[r++];s.fs.stat(i,(function(r){if(r){if("ENOTDIR"===r.code)return t();if("ENOENT"===r.code)return t();e(r)}else e(void 0,i)}))}()}(0,(function(r,n){if(r)return e(r);var o=[];for(var a in o.push('cd "'+i(s.process.cwd())+'";'),t.options.env){var c=t.options.env[a];o.push("export "+a+'="'+i(c)+'";')}o.push('"'+i(n)+'"'),/kdesudo/i.test(n)?(o.push("--comment",'"'+t.options.name+' wants to make changes. Enter your password to allow this."'),o.push("-d"),o.push("--")):/pkexec/i.test(n)&&o.push("--disable-internal-agent");var u="SUDOPROMPT\n";o.push('/bin/bash -c "echo '+i(u.trim())+"; "+i(t.command)+'"'),o=o.join(" "),s.child.exec(o,{encoding:"utf-8",maxBuffer:d},(function(t,r,s){var n=r&&r.slice(0,11)===u;n&&(r=r.slice(11)),t&&!n&&(/No authentication agent found/.test(s)?t.message=f:t.message=h),e(t,r,s)}))}))}(t,e):"win32"===r?function(t,e){var r=s.os.tmpdir();if(!r)return e(new Error("os.tmpdir() not defined."));a(t,(function(n,i){return n?e(n):(t.uuid=i,t.path=s.path.join(r,t.uuid),/"/.test(t.path)?e(new Error("instance.path cannot contain double-quotes.")):(t.pathElevate=s.path.join(t.path,"elevate.vbs"),t.pathExecute=s.path.join(t.path,"execute.bat"),t.pathCommand=s.path.join(t.path,"command.bat"),t.pathStdout=s.path.join(t.path,"stdout"),t.pathStderr=s.path.join(t.path,"stderr"),t.pathStatus=s.path.join(t.path,"status"),void s.fs.mkdir(t.path,(function(r){if(r)return e(r);function n(r,s,n){o(t.path,(function(t){return r?e(r):t?e(t):void e(void 0,s,n)}))}!function(t,e){var r=[];r.push("@echo off"),r.push('call "'+t.pathCommand+'" > "'+t.pathStdout+'" 2> "'+t.pathStderr+'"'),r.push('(echo %ERRORLEVEL%) > "'+t.pathStatus+'"'),r=r.join("\r\n"),s.fs.writeFile(t.pathExecute,r,"utf-8",e)}(t,(function(e){if(e)return n(e);!function(t,e){var r=s.process.cwd();if(/"/.test(r))return e(new Error("process.cwd() cannot contain double-quotes."));var n=[];for(var i in n.push("@echo off"),n.push("chcp 65001>nul"),n.push('cd /d "'+r+'"'),t.options.env){var o=t.options.env[i];n.push("set "+i+"="+o.replace(/([<>\\|&^])/g,"^$1"))}n.push(t.command),n=n.join("\r\n"),s.fs.writeFile(t.pathCommand,n,"utf-8",e)}(t,(function(e){if(e)return n(e);!function(t,e){var r=[];r.push("powershell.exe"),r.push("Start-Process"),r.push("-FilePath"),r.push("\"'"+t.pathExecute.replace(/'/g,"`'")+"'\""),r.push("-WindowStyle hidden"),r.push("-Verb runAs"),r=r.join(" ");var n=s.child.exec(r,{encoding:"utf-8"},(function(t,r,s){if(t)return e(new Error(h),r,s);e()}));n.stdin.end()}(t,(function(e,r,i){if(e)return n(e,r,i);u(t,(function(e){if(e)return n(e);!function(t,e){s.fs.readFile(t.pathStatus,"utf-8",(function(r,n){if(r)return e(r);s.fs.readFile(t.pathStdout,"utf-8",(function(r,i){if(r)return e(r);s.fs.readFile(t.pathStderr,"utf-8",(function(r,s){if(r)return e(r);0===(n=parseInt(n.trim(),10))?e(void 0,i,s):((r=new Error("Command failed: "+t.command+"\r\n"+s)).code=n,e(r,i,s))}))}))}))}(t,n)}))}))}))}))}))))}))}(t,e):void e(new Error("Platform not yet supported."))}function i(t){if("string"!=typeof t)throw new Error("Expected a string.");return t.replace(/"/g,'\\"')}function o(t,e){if("string"!=typeof t||!t.trim())return e(new Error("Argument path not defined."));var r=[];if("win32"===s.process.platform){if(/"/.test(t))return e(new Error("Argument path cannot contain double-quotes."));r.push('rmdir /s /q "'+t+'"')}else r.push("/bin/rm"),r.push("-rf"),r.push('"'+i(s.path.normalize(t))+'"');r=r.join(" "),s.child.exec(r,{encoding:"utf-8"},e)}function a(t,e){s.crypto.randomBytes(256,(function(r,n){r&&(n=Date.now()+""+Math.random());var i=s.crypto.createHash("SHA256");i.update("sudo-prompt-3"),i.update(t.options.name),i.update(t.command),i.update(n);var o=i.digest("hex").slice(-32);if(!o||"string"!=typeof o||32!==o.length)return e(new Error("Expected a valid UUID."));e(void 0,o)}))}function c(t){return!(!/^[a-z0-9 ]+$/i.test(t)||0===t.trim().length||t.length>70)}function u(t,e){s.fs.stat(t.pathStatus,(function(r,n){r&&"ENOENT"===r.code||n.size<2?setTimeout((function(){s.fs.stat(t.pathStdout,(function(r){if(r)return e(new Error(h));u(t,e)}))}),1e3):r?e(r):e()}))}t.exports.exec=function(){if(arguments.length<1||arguments.length>3)throw new Error("Wrong number of arguments.");var t=arguments[0],e={},r=function(){};if("string"!=typeof t)throw new Error("Command should be a string.");if(2===arguments.length)if(s.util.isObject(arguments[1]))e=arguments[1];else{if(!s.util.isFunction(arguments[1]))throw new Error("Expected options or callback.");r=arguments[1]}else if(3===arguments.length){if(!s.util.isObject(arguments[1]))throw new Error("Expected options to be an object.");if(e=arguments[1],!s.util.isFunction(arguments[2]))throw new Error("Expected callback to be a function.");r=arguments[2]}if(/^sudo/i.test(t))return r(new Error('Command should not be prefixed with "sudo".'));if(void 0===e.name){var i=s.process.title;if(!c(i))return r(new Error("process.title cannot be used as a valid name."));e.name=i}else if(!c(e.name))return r(new Error("options.name must be alphanumeric only (spaces are allowed) and <= 70 characters."));if(void 0!==e.icns){if("string"!=typeof e.icns)return r(new Error("options.icns must be a string if provided."));if(0===e.icns.trim().length)return r(new Error("options.icns must not be empty if provided."))}if(void 0!==e.env){if("object"!=typeof e.env)return r(new Error("options.env must be an object if provided."));if(0===Object.keys(e.env).length)return r(new Error("options.env must not be empty if provided."));for(var o in e.env){var a=e.env[o];if("string"!=typeof o||"string"!=typeof a)return r(new Error("options.env environment variables must be strings."));if(!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(o))return r(new Error("options.env has an invalid environment variable name: "+JSON.stringify(o)));if(/[\r\n]/.test(a))return r(new Error("options.env has an invalid environment variable value: "+JSON.stringify(a)))}}var u=s.process.platform;if("darwin"!==u&&"linux"!==u&&"win32"!==u)return r(new Error("Platform not yet supported."));n({command:t,options:e,uuid:void 0,path:void 0},r)};var l="UEsDBAoAAAAAAO1YcEcAAAAAAAAAAAAAAAAJABwAQ29udGVudHMvVVQJAAPNnElWLZEQV3V4CwABBPUBAAAEFAAAAFBLAwQUAAAACACgeXBHlHaGqKEBAAC+AwAAEwAcAENvbnRlbnRzL0luZm8ucGxpc3RVVAkAA1zWSVYtkRBXdXgLAAEE9QEAAAQUAAAAfZNRb5swFIWfl1/BeA9OpSmqJkqVBCJFop1VyKQ9Ta59S6wa27NNCfv1M0naJWTsEXO+c8+9vo7v97UI3sBYruRdeBPNwgAkVYzL6i7cluvpbXifTOLP6bdV+QNngRbcugBvl/lmFYRThBZaC0AoLdMA55uiDLwHQtljGIQ75/RXhNq2jUiviqiqe6FF2CgNxnW5N5t6IGKOhb7M0f0ijj9lnLpk8il+hS5ZrZeNZAIWQqj2ge+B5YoSwX8T5xEbo17ktc40gIZQCm8glK5BuieovP5Dbp3xHSeZrHyCXYxO3wM+2wNtHHkWMAQP/bkxbkOVXPMxKuK0Dz6CMh+Wv3AwQ9gPM7INU1NtVK3Ha8sXlfoB+m6J6b4fRzv0mkezMf6R1Fe5MbG2VYYF+L+lMaGvpIKy01cOC4zzMazYKeNOQYuDYkjfjMcteCWJa8w/Zi2ugubFA5e8buqisw7qU81ltzB0xx3QC5/TFh7J/e385/zL+7+/wWbR/LwIOl/dvHiCXw03YFfEPJ9dwsWu5sV2kwnod3QoeLeL0eGdJJM/UEsDBAoAAAAAAHSBjkgAAAAAAAAAAAAAAAAPABwAQ29udGVudHMvTWFjT1MvVVQJAAMbpQ9XLZEQV3V4CwABBPUBAAAEFAAAAFBLAwQUAAAACABVHBdH7Dk4KTIIAADIYQAAFQAcAENvbnRlbnRzL01hY09TL2FwcGxldFVUCQADMiPZVVOlD1d1eAsAAQT1AQAABBQAAADtnG9sHEcVwGfti7M1/rONLNVtXHqpzsipis+pHOSWFOzEm25at3XrJI2ozbK+W/suuds79vaSuCKSpaOIxRy1+NSPRPAhlWj7AVRaQCWpTRz+CEo+RSKCCho4K67kVhUyAeV4b3fWt17fXZqKFgHvp8zO3/dmdmfPmtl5L7+8/uPXGWMNELZCaGRMgmjHIlxaBCibdcoGsewCljGCIAiCIAiCIAiCIP7r+M21d67zjb/zEaAdwr1bGHuWMQH2/2wAgqqODj0kf0F+8nGfoFRbJ8p9U0C5g/KRgwEZqZLGfrfwwJx+LP2kVWkelD9zJ2NfBr1nWt2xrhNisxWZ3Ex6MpNSc1Z+soqOO+5i7JMYt7vj9BC5jiZXBwirCT2V1c0qOgZAxwMYt9cbRyxnmUljusa9mKBjGON2tgG/PlXNGyeSRlxNGlOZKjpeBR0KxsFx+MB7VJy5GB46OOSrCLPKfEjrH3/gFry+4zOpuH8sm+VF5srW6ltVjZQ3HVnL3KRDDLsflMSADpyDyjuR0urp6AAdHRgHdOD9iOs6Ypl0OmPUupeecOW19OsQAmn3tzBy4LFH5OED3jz0MbYouM8D460BOdTXCaEF6tsgLkF8GeJPQBj16Rb4PTf5xl2NH4J8a5Vy1N3F3OcZzefMaCo5GeVTuJ2P4cUf/aH5qbbP73/utpfeevdbLzwfYfy+Q80woGan/1E+ljo/703g77IaOJY479t5rqFLDag9OjaTs/R0dCQ5aWrmTHS/qaX1ExnzWC66L2PqY7p5PBnTc71TXnn0sG7mkhkjFx3a0IL30e/rQxB+EXL68J4BBLe73r298DySk5tlGPtJY1BmOhZTc727PBH2Ke+ZhF35nTyP80oQBEEQBPFRcJTZVwpvrxZWpLmJkN0VKT4q2iORUGFBOPfnBuFX9nhELOG67f1D9pWxpw4XVrrmTklz+ZY5Wfwurm/t3ffi9cE+uM41vYbbj2fP5kNXt9sXiopwVRj6xhPlr160mttfuVi4Fs2vXv2rfc5u7UeZfxQ+y4pPh/JrpyUUBjmrofzmadGXKf0eui7KK/ZwJLQUiuRAe+mLUFQ+tFKUV3npd7AU9ytz8iqIiXYoUnoBsqdxDbXk3CXcRov9lYhoW5EQjBxb4NoSY9iQsvn5+QSuusrduAybL3eHIIIbLqyIS9CHlY3loB8rldVKuLfyOsE1+a6zhUVxYsFp3Amqz8tr7Lz8dza1JF8TmC3/syivYVtcfxcWOycWQDvuLcrdnc61y7mGnWsErgmsXDbK5TKkscnypJvGhsuH3TQ2X37YTaPQ8ucw7W6t1LR2TFfjekqb0SGTiedTOmz0klZSSyWf0U01pqVSufXGmThsjs20OpU3Yrjuxbnu4u+GP8b1LO6PcX2L4Q6+v8Q07u9aQFLy71Ckt54TIfjfNdzfDkMYhTAOIXHXh39vCYIgCIIgCIIgCIL4z3Nm+84/Ci1Nn8b0ryHsgbBX1rbgOXD7LZJzNtrC0/gFqYOn8csQ/GONguQchPXzcvy+9CBzvk84HxkO+tJH3bRz5Fb0pb/nS3/fl/6BL/2aL43faLzz3Wbmju8W5p6pttaoR9THjgyZ0zEeH2eqqmbNzLShpXVIpxOqflKP5S1dTehaXDeZqhvHk2bGYOo+LZXal0lnM4ZuWMPJXFazYgmmPp7VjWF9SsunrPVa1HpMn0lPm2r8hGZO3aea+nQyZ+mmmtNjFp5i4oG0lTChE+eDj2pm8lbSgDFoln4yCRp00zQyEDmZtBZLbGxnanHzgWh092d29e/uv+/f+DIQBEEQBEEQBEEQ/7P81rX/FxoZm/Xs/5UmtP8PO/W3M9fGvKoPAEfYXLQJ1HOpmk+AJx80OOb5m/URGG9z9c378rVs9F15tPXP1dS3wvVtC+Q9/H4DFX21fQcY9zvo9eXrj6++D0Af1zfqy9eyx3f16QnVMayufr+zXN+sL99YRx/O69er+RdIgXkNxJv9DfBTDIxLPa6Zudr6enz5euO6ke9Bj7TRzr0noK+JbczfyA9hgOvr9OX98t57XNFX3ydhlOsL+2T8+oK/ucrvNOCfEHbbXhAqeebLB/0V7oYp7+Pt8PsZWnl1+urRpAn7SUCcYBX/hkth95kd2cFYllX3bxB4+xCrzcCO6v4PbXzo1fwbEM/H4ds/f/nCgZH+8k+j0vNPv7Jlz7qPQ1PFx+FVPoZ76ozj42K87YP9/cT7xuf9UfpSeP0MsJvzp0A8/4g3w+78ef4R+F4QBEEQBPH/w1Gm2FeUwturytwpUSnmJfta4Q3h3J8aFeE9xf7d1ZBSOCcqhftZ/m+YKuG6wV4qaQzdGED0Z2jJ/zpa9ZcegjIF7fkVaIBrt11nJxYOOepXpPPyKjsvvytOLcnvCWxJfh87V+xTa0rx1Kpj0a8UFqWJhXL3fgHt9xXn+rCz7Bop3rkTEkNj5e7bIZ7HNRZb/ku5XE6g58HyZUzdj6mLjh1/Pbt7XMt5dvfvtLl1Fbv7BtbhrtyEPW6V038H1yE88yQTTkqC1LJVnIeaCNe7dr3sEPEe6lCb9LWGfa3efvNG8pe5fF8NeW8g3n7jCI+/xOOEVH19KvF9oudHH2n/YOtYgiAIgiAIgiAIgiA+fm69mx3aO8bYtkHn/xlwDq8nkwaavz9h9swzc+DWwRrm71A5CJVVjeChTtk26Fqwu0fxQjUL+9vqHVV/KC53OUd+bJxVfBkw7/gzCO5pr3dOK/g+WUQDeZlV/A2QRwJ5THjn1/xcd9BfhlT1KbgpVwLn+W2amGr2//8CUEsDBBQAAAAIAAVHj0ga7FYjfQEAAKoCAAAhABwAQ29udGVudHMvTWFjT1Mvc3Vkby1wcm9tcHQtc2NyaXB0VVQJAAOJkBBXipAQV3V4CwABBPUBAAAEFAAAAI1SO08cMRDu91cMHIKGxUB5xSGEUqTlFKWMvPYca+EXnjGXy6/PeNcg0qVay+PvObs5U5OLatI0DxvYIwNVm4BdQGIdMhxSkauJ8K1i7FOjvSdwB2A+/WJnXpEJdEGwjvTk0W6HhTW8WldgzKDedVF2Ug2tLn7svz3DDpTFdxWr93C/u7wbVKWyoDhVM/8XZAOPOXvcm+IyXxGcizeaUca0XJ1D0CfQnlEysE2VwbuII0br4gvdCMF37m9IoC39+oxTO2EpS8oZJdtRS0aIKY5/sCQoyLVEMMki6Ghl0BGN9SeuICkPIctXDHDDSB9oGEQi1yZWUAda8EZnIcR/eIOOVao+9TrbkpYFjLmkkHk0KYSGvdt12/e71cP6Hs2c4OJBemtsYusplVX+GLHQ7DKkQ098/ZF38dLEpRCeNUMlMW90BIseeQkWtuu2qKmIyDHCuqFuo1N11Ud/1Cf6CHb7Sfxld2ATklQoUGEDActfZ5326WU74G/HcDv8BVBLAwQKAAAAAADtWHBHqiAGewgAAAAIAAAAEAAcAENvbnRlbnRzL1BrZ0luZm9VVAkAA82cSVYqkRBXdXgLAAEE9QEAAAQUAAAAQVBQTGFwbHRQSwMECgAAAAAAm3lwRwAAAAAAAAAAAAAAABMAHABDb250ZW50cy9SZXNvdXJjZXMvVVQJAANW1klWLZEQV3V4CwABBPUBAAAEFAAAAFBLAwQUAAAACACAeXBHfrnysfYGAAAf3AAAHgAcAENvbnRlbnRzL1Jlc291cmNlcy9hcHBsZXQuaWNuc1VUCQADH9ZJVnGlD1d1eAsAAQT1AQAABBQAAADt3Xk81Hkcx/Hvb5yVo5bGsVlKbcpRRqFlGZGS5JikRBIdI0OZttMZloqiYwrVjD1UqJaUokTRubG72bZVjqR1VZNjp2XEGo9H+9gt+9h/9tHx8H7N4/fw5MHjYeaPz+P7+P7x/bL9griEPNBm+001J0S+ZbvL/NmKwzWHE0IUHebYuRFCEckjL9v/xSvk2EpCpBXZtrYuDra2Oi4hwSvZgSsIMU9MdPdePcZd1aqQu0p3fDkrcFrs+mPWihMU9y6clp5XEFFdbRrEczCtGtfkL3pWfvBGublJ4ct051kuocYtaaqll/IjdfR+V75vlTdl//AJVZU6elZ5f0S7NO3MaE2xMElhF+TUrHgW2nFYeGTrs/OrhDJN5zMX8ZJVKXrqSUM1Rj03bnf85/pJMXECNdl0D1ctfe/j82imziM2nllSa3t5q8+vP1f38k/k22uN1lmnvfz0b8dGxO+mnh91v7WB2tKdrG3d4vmJaHlTvjGzdMqWcw/9frnCtQpPZK9sMKi/Ey/jzgqIPzBy9/dlf9griI2/u+sjcApozWx6/NXytC+qBTlrhb69fE7J6tgOzpWjFSl8qxihr5dYf/qExoeupY6Ze/j2PfL1azhhZ8fU3eelJY+ylk16UJN6KmOU0M4r+75cZhH/mxNndowNb4wx7TCoN4yvMGu8ySq5l5W5t+xQyYbS/Ome7e0W0sXbC5aktl0LEXNYR9obH7dMT721dbNdT/eFzXNEYSH8GU+bQ5s6YniGcj3fHtgXPbo0Oj4i3d5G1Fjfm/Ng7kgpjQDNxw4RRnu+Vloy5ZE3J6OpwlFBzaxS25He2h3lJuizO70zJPLUYtks14RE5yrD8y2tXa5l5Wqh/NBY06yoiCLF08Nk9A5Ojbs43GmR1Ch/PaZsLf3e6uPRSrIM1ROqGjt80leqfdxYbNn+WV7K7ZKiy/t6r1/3ie46V5432T/Oahs9V7NnVzb9zoq2rFgvPxXrcAMzmvWnGjof/RpdsZThIEpex6DGbd5h6STaOyZXxV/YfW9u4KyllmZ3X15IMHHLSJtVPSOvULCsz2TyPC/WL9kGSme/1L01SSzjfbHnqk+OV7OBmevZeo3DBR7lXT5drT0MkX5PwDd1EQ0ebfkh1zy/L8ydd+VJ4CLuRndNjuwj+vMfU8q2l2l1rGtr8FC2D+fdSGk81eltuTjYSMk++4BMd0DXQo35iXbZndGdcXkGFyeG6b28evF22M2w22HlYSXetGSLW4cfFT00WqvN9bkqCujQ9KzdSt+snr+qmbcme+5Y3cDRn9BDLps+dPVltE9UkPeb6XovineiVUznTznyuZaSn/ZvR8VeRUYLqe3iHFqnU6+7+4LmtfsmaS0MdjIvslFJGG/rn7DPdMGLcx4d6eP2Oz92Y49kWbBUjudU2ijHnc7YIODQxD1aPx8PynVr+cmvJoy2+M5nQa2Kt0dvdPxp73LNU6aTeaktTfHH1L+8Pm/XalZcFcfzYxlhTefuzjRGobLKEqPZh8QKxUXWbU/ERvW78ghvTGTUNd0g9YqbcjUy5h0xVbn3S7SS54SOqKt88UR0qZuxKfxlZfODUm52o2HkGTOLw5dqhevvWjH7ssiqxAhKwA91d1nWG9w/GJIc7GwWbKKe/mAsGRqXBb87P10jH8/0LY6kpGQV1KcuAwAAeCt4LiVFWRJKs4DJ6p9GxGHWfLuTM5dt61/pzCCE7vLmSodGJM/ASqdzU2U3VjpY6WClg5XOICudUaI3VjocuWCsdAAAAAAAAAAAAAAAAD5o1Gmr054TSoqWxPvnfrLxVEIc29/cT5YmkmdgPzlCSz8a+8nYT8Z+MvaTB9lPZpJX+8lRktFyRdDF0m6IdcF2MgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC8ddD8G5oJkUuQnAXwnvxLAAAAADDkEFURRckVE6rIv+Tb1078MiZEetubJ34RHckzcOIXd8uWTpz4hRO/cOIXTvwa5MQvoidZ5S8a9h8nfl1QVhipQ6jyyWeuvTaBGP3D5fwgE4gpeQYmUCZ7XQ0mECYQJhAm0GATyOfVmYOU4sAdNi+cOUpm/9cdNv2Di8kkFN3mYOtrg8sE14xicGFwYXDhmlEAAD5w/Os1o8bTcM0oVjpY6WClg2tGAQAAAAAAAAAAAAAAgL/wb9eMBpow+r817yN/fwnJf33P5g78nWofEZNXD3u95GdSkh3o135/aL2i3vl/gHf/7t59oDlnDSHS8gQhNGQL8uWs6P+iwPYLDuIOzARqyM+E9QOfA3PIfw4IIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhND70J9QSwMEFAAAAAgA7VhwR/dYplZAAAAAagEAAB4AHABDb250ZW50cy9SZXNvdXJjZXMvYXBwbGV0LnJzcmNVVAkAA82cSVZTpQ9XdXgLAAEE9QEAAAQUAAAAY2BgZGBgYFQBEiDsxjDygJQDPlkmEIEaRpJAQg8kLAMML8bi5OIqIFuouKA4A0jLMTD8/w+S5AdrB7PlBIAEAFBLAwQKAAAAAADtWHBHAAAAAAAAAAAAAAAAJAAcAENvbnRlbnRzL1Jlc291cmNlcy9kZXNjcmlwdGlvbi5ydGZkL1VUCQADzZxJVi2REFd1eAsAAQT1AQAABBQAAABQSwMEFAAAAAgA7VhwRzPLNU9TAAAAZgAAACsAHABDb250ZW50cy9SZXNvdXJjZXMvZGVzY3JpcHRpb24ucnRmZC9UWFQucnRmVVQJAAPNnElWU6UPV3V4CwABBPUBAAAEFAAAACWJOw6AIBAFe08DCBVX2QbWhZgQ1vCpCHcXtHkzkzegtCDB5Xp/g0+UyihARnb70kL/UbvffYpjQODcmk9zKXListxCoUsZA7EQ5S0+dVq085gvUEsDBAoAAAAAAIeBjkgAAAAAAAAAAAAAAAAbABwAQ29udGVudHMvUmVzb3VyY2VzL1NjcmlwdHMvVVQJAAM9pQ9XLZEQV3V4CwABBPUBAAAEFAAAAFBLAwQUAAAACAAJgI5ICl5liTUBAADMAQAAJAAcAENvbnRlbnRzL1Jlc291cmNlcy9TY3JpcHRzL21haW4uc2NwdFVUCQADcaIPV1OlD1d1eAsAAQT1AQAABBQAAAB9UMtOAkEQrNldd9dhH3Dz6NGYiPIJHjTxLCZeF9iDcXEJC0RvfoI/4sEfIvoHPEQEhbIHvOok01U16emu7vOkaF2dXu7XqrUTcyMATkxCwYKthCAUbmciAQ8O11yFcGBfbF/4jR24WmCvWjwUeXqfNutn13XyEeYYHkqKam+kghdJGfUCvwIfB6jiGAX6aCHHETroCrYFe6IKNEXfGOXChc0v7HKpBRzdSFrtELvbumKVC80F/FIjzwe9bj91uZRuXJuwAiLjNi7DlsxPaJSUAMrCFOeac3GfpINennQ6d/0sA4z7JxzKiVCCV+YHAs74LuuIONUi//4RIoC63czrIbYQS3PFicWJcTMTv1JHmocmROLJ45gjzfHvXJqjf7ZZ4RT+61uaBbDipGh2ZanBcjh8/gFQSwECHgMKAAAAAADtWHBHAAAAAAAAAAAAAAAACQAYAAAAAAAAABAA7UEAAAAAQ29udGVudHMvVVQFAAPNnElWdXgLAAEE9QEAAAQUAAAAUEsBAh4DFAAAAAgAoHlwR5R2hqihAQAAvgMAABMAGAAAAAAAAQAAAKSBQwAAAENvbnRlbnRzL0luZm8ucGxpc3RVVAUAA1zWSVZ1eAsAAQT1AQAABBQAAABQSwECHgMKAAAAAAB0gY5IAAAAAAAAAAAAAAAADwAYAAAAAAAAABAA7UExAgAAQ29udGVudHMvTWFjT1MvVVQFAAMbpQ9XdXgLAAEE9QEAAAQUAAAAUEsBAh4DFAAAAAgAVRwXR+w5OCkyCAAAyGEAABUAGAAAAAAAAAAAAO2BegIAAENvbnRlbnRzL01hY09TL2FwcGxldFVUBQADMiPZVXV4CwABBPUBAAAEFAAAAFBLAQIeAxQAAAAIAAVHj0ga7FYjfQEAAKoCAAAhABgAAAAAAAEAAADtgfsKAABDb250ZW50cy9NYWNPUy9zdWRvLXByb21wdC1zY3JpcHRVVAUAA4mQEFd1eAsAAQT1AQAABBQAAABQSwECHgMKAAAAAADtWHBHqiAGewgAAAAIAAAAEAAYAAAAAAABAAAApIHTDAAAQ29udGVudHMvUGtnSW5mb1VUBQADzZxJVnV4CwABBPUBAAAEFAAAAFBLAQIeAwoAAAAAAJt5cEcAAAAAAAAAAAAAAAATABgAAAAAAAAAEADtQSUNAABDb250ZW50cy9SZXNvdXJjZXMvVVQFAANW1klWdXgLAAEE9QEAAAQUAAAAUEsBAh4DFAAAAAgAgHlwR3658rH2BgAAH9wAAB4AGAAAAAAAAAAAAKSBcg0AAENvbnRlbnRzL1Jlc291cmNlcy9hcHBsZXQuaWNuc1VUBQADH9ZJVnV4CwABBPUBAAAEFAAAAFBLAQIeAxQAAAAIAO1YcEf3WKZWQAAAAGoBAAAeABgAAAAAAAAAAACkgcAUAABDb250ZW50cy9SZXNvdXJjZXMvYXBwbGV0LnJzcmNVVAUAA82cSVZ1eAsAAQT1AQAABBQAAABQSwECHgMKAAAAAADtWHBHAAAAAAAAAAAAAAAAJAAYAAAAAAAAABAA7UFYFQAAQ29udGVudHMvUmVzb3VyY2VzL2Rlc2NyaXB0aW9uLnJ0ZmQvVVQFAAPNnElWdXgLAAEE9QEAAAQUAAAAUEsBAh4DFAAAAAgA7VhwRzPLNU9TAAAAZgAAACsAGAAAAAAAAQAAAKSBthUAAENvbnRlbnRzL1Jlc291cmNlcy9kZXNjcmlwdGlvbi5ydGZkL1RYVC5ydGZVVAUAA82cSVZ1eAsAAQT1AQAABBQAAABQSwECHgMKAAAAAACHgY5IAAAAAAAAAAAAAAAAGwAYAAAAAAAAABAA7UFuFgAAQ29udGVudHMvUmVzb3VyY2VzL1NjcmlwdHMvVVQFAAM9pQ9XdXgLAAEE9QEAAAQUAAAAUEsBAh4DFAAAAAgACYCOSApeZYk1AQAAzAEAACQAGAAAAAAAAAAAAKSBwxYAAENvbnRlbnRzL1Jlc291cmNlcy9TY3JpcHRzL21haW4uc2NwdFVUBQADcaIPV3V4CwABBPUBAAAEFAAAAFBLBQYAAAAADQANANwEAABWGAAAAAA=",h="User did not grant permission.",f="No polkit authentication agent found.",d=134217728},2140:(t,e)=>{"use strict";e.fromCallback=function(t){return Object.defineProperty((function(...e){if("function"!=typeof e[e.length-1])return new Promise(((r,s)=>{t.call(this,...e,((t,e)=>null!=t?s(t):r(e)))}));t.apply(this,e)}),"name",{value:t.name})},e.fromPromise=function(t){return Object.defineProperty((function(...e){const r=e[e.length-1];if("function"!=typeof r)return t.apply(this,e);t.apply(this,e.slice(0,-1)).then((t=>r(null,t)),r)}),"name",{value:t.name})}},4629:function(t,e){!function(t){"use strict";function e(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length>1){e[0]=e[0].slice(0,-1);for(var s=e.length-1,n=1;n<s;++n)e[n]=e[n].slice(1,-1);return e[s]=e[s].slice(1),e.join("")}return e[0]}function r(t){return"(?:"+t+")"}function s(t){return void 0===t?"undefined":null===t?"null":Object.prototype.toString.call(t).split(" ").pop().split("]").shift().toLowerCase()}function n(t){return t.toUpperCase()}function i(t){var s="[A-Za-z]",n="[0-9]",i=e(n,"[A-Fa-f]"),o=r(r("%[EFef]"+i+"%"+i+i+"%"+i+i)+"|"+r("%[89A-Fa-f]"+i+"%"+i+i)+"|"+r("%"+i+i)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",c=e("[\\:\\/\\?\\#\\[\\]\\@]",a),u=t?"[\\uE000-\\uF8FF]":"[]",l=e(s,n,"[\\-\\.\\_\\~]",t?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),h=r(s+e(s,n,"[\\+\\-\\.]")+"*"),f=r(r(o+"|"+e(l,a,"[\\:]"))+"*"),d=(r(r("25[0-5]")+"|"+r("2[0-4]"+n)+"|"+r("1"+n+n)+"|"+r("[1-9]"+n)+"|"+n),r(r("25[0-5]")+"|"+r("2[0-4]"+n)+"|"+r("1"+n+n)+"|"+r("0?[1-9]"+n)+"|0?0?"+n)),p=r(d+"\\."+d+"\\."+d+"\\."+d),m=r(i+"{1,4}"),g=r(r(m+"\\:"+m)+"|"+p),y=r(r(m+"\\:")+"{6}"+g),v=r("\\:\\:"+r(m+"\\:")+"{5}"+g),w=r(r(m)+"?\\:\\:"+r(m+"\\:")+"{4}"+g),b=r(r(r(m+"\\:")+"{0,1}"+m)+"?\\:\\:"+r(m+"\\:")+"{3}"+g),A=r(r(r(m+"\\:")+"{0,2}"+m)+"?\\:\\:"+r(m+"\\:")+"{2}"+g),S=r(r(r(m+"\\:")+"{0,3}"+m)+"?\\:\\:"+m+"\\:"+g),E=r(r(r(m+"\\:")+"{0,4}"+m)+"?\\:\\:"+g),_=r(r(r(m+"\\:")+"{0,5}"+m)+"?\\:\\:"+m),k=r(r(r(m+"\\:")+"{0,6}"+m)+"?\\:\\:"),x=r([y,v,w,b,A,S,E,_,k].join("|")),P=r(r(l+"|"+o)+"+"),O=(r(x+"\\%25"+P),r(x+r("\\%25|\\%(?!"+i+"{2})")+P)),C=r("[vV]"+i+"+\\."+e(l,a,"[\\:]")+"+"),$=r("\\["+r(O+"|"+x+"|"+C)+"\\]"),j=r(r(o+"|"+e(l,a))+"*"),N=r($+"|"+p+"(?!"+j+")|"+j),F=r(n+"*"),T=r(r(f+"@")+"?"+N+r("\\:"+F)+"?"),R=r(o+"|"+e(l,a,"[\\:\\@]")),M=r(R+"*"),D=r(R+"+"),L=r(r(o+"|"+e(l,a,"[\\@]"))+"+"),I=r(r("\\/"+M)+"*"),z=r("\\/"+r(D+I)+"?"),B=r(L+I),U=r(D+I),V="(?!"+R+")",G=(r(I+"|"+z+"|"+B+"|"+U+"|"+V),r(r(R+"|"+e("[\\/\\?]",u))+"*")),W=r(r(R+"|[\\/\\?]")+"*"),H=r(r("\\/\\/"+T+I)+"|"+z+"|"+U+"|"+V),Q=r(h+"\\:"+H+r("\\?"+G)+"?"+r("\\#"+W)+"?"),q=r(r("\\/\\/"+T+I)+"|"+z+"|"+B+"|"+V),J=r(q+r("\\?"+G)+"?"+r("\\#"+W)+"?");return r(Q+"|"+J),r(h+"\\:"+H+r("\\?"+G)+"?"),r(r("\\/\\/("+r("("+f+")@")+"?("+N+")"+r("\\:("+F+")")+"?)")+"?("+I+"|"+z+"|"+U+"|"+V+")"),r("\\?("+G+")"),r("\\#("+W+")"),r(r("\\/\\/("+r("("+f+")@")+"?("+N+")"+r("\\:("+F+")")+"?)")+"?("+I+"|"+z+"|"+B+"|"+V+")"),r("\\?("+G+")"),r("\\#("+W+")"),r(r("\\/\\/("+r("("+f+")@")+"?("+N+")"+r("\\:("+F+")")+"?)")+"?("+I+"|"+z+"|"+U+"|"+V+")"),r("\\?("+G+")"),r("\\#("+W+")"),r("("+f+")@"),r("\\:("+F+")"),{NOT_SCHEME:new RegExp(e("[^]",s,n,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",l,a),"g"),NOT_HOST:new RegExp(e("[^\\%\\[\\]\\:]",l,a),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",l,a),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",l,a),"g"),NOT_QUERY:new RegExp(e("[^\\%]",l,a,"[\\:\\@\\/\\?]",u),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",l,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",l,a),"g"),UNRESERVED:new RegExp(l,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",l,c),"g"),PCT_ENCODED:new RegExp(o,"g"),IPV4ADDRESS:new RegExp("^("+p+")$"),IPV6ADDRESS:new RegExp("^\\[?("+x+")"+r(r("\\%25|\\%(?!"+i+"{2})")+"("+P+")")+"?\\]?$")}}var o=i(!1),a=i(!0),c=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],s=!0,n=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(s=(o=a.next()).done)&&(r.push(o.value),!e||r.length!==e);s=!0);}catch(t){n=!0,i=t}finally{try{!s&&a.return&&a.return()}finally{if(n)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},u=2147483647,l=36,h=/^xn--/,f=/[^\0-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=Math.floor,g=String.fromCharCode;function y(t){throw new RangeError(p[t])}function v(t,e){var r=t.split("@"),s="";return r.length>1&&(s=r[0]+"@",t=r[1]),s+function(t,e){for(var r=[],s=t.length;s--;)r[s]=e(t[s]);return r}((t=t.replace(d,".")).split("."),e).join(".")}function w(t){for(var e=[],r=0,s=t.length;r<s;){var n=t.charCodeAt(r++);if(n>=55296&&n<=56319&&r<s){var i=t.charCodeAt(r++);56320==(64512&i)?e.push(((1023&n)<<10)+(1023&i)+65536):(e.push(n),r--)}else e.push(n)}return e}var b=function(t,e){return t+22+75*(t<26)-((0!=e)<<5)},A=function(t,e,r){var s=0;for(t=r?m(t/700):t>>1,t+=m(t/e);t>455;s+=l)t=m(t/35);return m(s+36*t/(t+38))},S=function(t){var e,r=[],s=t.length,n=0,i=128,o=72,a=t.lastIndexOf("-");a<0&&(a=0);for(var c=0;c<a;++c)t.charCodeAt(c)>=128&&y("not-basic"),r.push(t.charCodeAt(c));for(var h=a>0?a+1:0;h<s;){for(var f=n,d=1,p=l;;p+=l){h>=s&&y("invalid-input");var g=(e=t.charCodeAt(h++))-48<10?e-22:e-65<26?e-65:e-97<26?e-97:l;(g>=l||g>m((u-n)/d))&&y("overflow"),n+=g*d;var v=p<=o?1:p>=o+26?26:p-o;if(g<v)break;var w=l-v;d>m(u/w)&&y("overflow"),d*=w}var b=r.length+1;o=A(n-f,b,0==f),m(n/b)>u-i&&y("overflow"),i+=m(n/b),n%=b,r.splice(n++,0,i)}return String.fromCodePoint.apply(String,r)},E=function(t){var e=[],r=(t=w(t)).length,s=128,n=0,i=72,o=!0,a=!1,c=void 0;try{for(var h,f=t[Symbol.iterator]();!(o=(h=f.next()).done);o=!0){var d=h.value;d<128&&e.push(g(d))}}catch(t){a=!0,c=t}finally{try{!o&&f.return&&f.return()}finally{if(a)throw c}}var p=e.length,v=p;for(p&&e.push("-");v<r;){var S=u,E=!0,_=!1,k=void 0;try{for(var x,P=t[Symbol.iterator]();!(E=(x=P.next()).done);E=!0){var O=x.value;O>=s&&O<S&&(S=O)}}catch(t){_=!0,k=t}finally{try{!E&&P.return&&P.return()}finally{if(_)throw k}}var C=v+1;S-s>m((u-n)/C)&&y("overflow"),n+=(S-s)*C,s=S;var $=!0,j=!1,N=void 0;try{for(var F,T=t[Symbol.iterator]();!($=(F=T.next()).done);$=!0){var R=F.value;if(R<s&&++n>u&&y("overflow"),R==s){for(var M=n,D=l;;D+=l){var L=D<=i?1:D>=i+26?26:D-i;if(M<L)break;var I=M-L,z=l-L;e.push(g(b(L+I%z,0))),M=m(I/z)}e.push(g(b(M,0))),i=A(n,C,v==p),n=0,++v}}}catch(t){j=!0,N=t}finally{try{!$&&T.return&&T.return()}finally{if(j)throw N}}++n,++s}return e.join("")},_={version:"2.1.0",ucs2:{decode:w,encode:function(t){return String.fromCodePoint.apply(String,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t))}},decode:S,encode:E,toASCII:function(t){return v(t,(function(t){return f.test(t)?"xn--"+E(t):t}))},toUnicode:function(t){return v(t,(function(t){return h.test(t)?S(t.slice(4).toLowerCase()):t}))}},k={};function x(t){var e=t.charCodeAt(0);return e<16?"%0"+e.toString(16).toUpperCase():e<128?"%"+e.toString(16).toUpperCase():e<2048?"%"+(e>>6|192).toString(16).toUpperCase()+"%"+(63&e|128).toString(16).toUpperCase():"%"+(e>>12|224).toString(16).toUpperCase()+"%"+(e>>6&63|128).toString(16).toUpperCase()+"%"+(63&e|128).toString(16).toUpperCase()}function P(t){for(var e="",r=0,s=t.length;r<s;){var n=parseInt(t.substr(r+1,2),16);if(n<128)e+=String.fromCharCode(n),r+=3;else if(n>=194&&n<224){if(s-r>=6){var i=parseInt(t.substr(r+4,2),16);e+=String.fromCharCode((31&n)<<6|63&i)}else e+=t.substr(r,6);r+=6}else if(n>=224){if(s-r>=9){var o=parseInt(t.substr(r+4,2),16),a=parseInt(t.substr(r+7,2),16);e+=String.fromCharCode((15&n)<<12|(63&o)<<6|63&a)}else e+=t.substr(r,9);r+=9}else e+=t.substr(r,3),r+=3}return e}function O(t,e){function r(t){var r=P(t);return r.match(e.UNRESERVED)?r:t}return t.scheme&&(t.scheme=String(t.scheme).replace(e.PCT_ENCODED,r).toLowerCase().replace(e.NOT_SCHEME,"")),void 0!==t.userinfo&&(t.userinfo=String(t.userinfo).replace(e.PCT_ENCODED,r).replace(e.NOT_USERINFO,x).replace(e.PCT_ENCODED,n)),void 0!==t.host&&(t.host=String(t.host).replace(e.PCT_ENCODED,r).toLowerCase().replace(e.NOT_HOST,x).replace(e.PCT_ENCODED,n)),void 0!==t.path&&(t.path=String(t.path).replace(e.PCT_ENCODED,r).replace(t.scheme?e.NOT_PATH:e.NOT_PATH_NOSCHEME,x).replace(e.PCT_ENCODED,n)),void 0!==t.query&&(t.query=String(t.query).replace(e.PCT_ENCODED,r).replace(e.NOT_QUERY,x).replace(e.PCT_ENCODED,n)),void 0!==t.fragment&&(t.fragment=String(t.fragment).replace(e.PCT_ENCODED,r).replace(e.NOT_FRAGMENT,x).replace(e.PCT_ENCODED,n)),t}function C(t){return t.replace(/^0*(.*)/,"$1")||"0"}function $(t,e){var r=t.match(e.IPV4ADDRESS)||[],s=c(r,2)[1];return s?s.split(".").map(C).join("."):t}function j(t,e){var r=t.match(e.IPV6ADDRESS)||[],s=c(r,3),n=s[1],i=s[2];if(n){for(var o=n.toLowerCase().split("::").reverse(),a=c(o,2),u=a[0],l=a[1],h=l?l.split(":").map(C):[],f=u.split(":").map(C),d=e.IPV4ADDRESS.test(f[f.length-1]),p=d?7:8,m=f.length-p,g=Array(p),y=0;y<p;++y)g[y]=h[y]||f[m+y]||"";d&&(g[p-1]=$(g[p-1],e));var v=g.reduce((function(t,e,r){if(!e||"0"===e){var s=t[t.length-1];s&&s.index+s.length===r?s.length++:t.push({index:r,length:1})}return t}),[]).sort((function(t,e){return e.length-t.length}))[0],w=void 0;if(v&&v.length>1){var b=g.slice(0,v.index),A=g.slice(v.index+v.length);w=b.join(":")+"::"+A.join(":")}else w=g.join(":");return i&&(w+="%"+i),w}return t}var N=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,F=void 0==="".match(/(){0}/)[1];function T(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},s=!1!==e.iri?a:o;"suffix"===e.reference&&(t=(e.scheme?e.scheme+":":"")+"//"+t);var n=t.match(N);if(n){F?(r.scheme=n[1],r.userinfo=n[3],r.host=n[4],r.port=parseInt(n[5],10),r.path=n[6]||"",r.query=n[7],r.fragment=n[8],isNaN(r.port)&&(r.port=n[5])):(r.scheme=n[1]||void 0,r.userinfo=-1!==t.indexOf("@")?n[3]:void 0,r.host=-1!==t.indexOf("//")?n[4]:void 0,r.port=parseInt(n[5],10),r.path=n[6]||"",r.query=-1!==t.indexOf("?")?n[7]:void 0,r.fragment=-1!==t.indexOf("#")?n[8]:void 0,isNaN(r.port)&&(r.port=t.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?n[4]:void 0)),r.host&&(r.host=j($(r.host,s),s)),void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?r.reference="relative":void 0===r.fragment?r.reference="absolute":r.reference="uri":r.reference="same-document",e.reference&&"suffix"!==e.reference&&e.reference!==r.reference&&(r.error=r.error||"URI is not a "+e.reference+" reference.");var i=k[(e.scheme||r.scheme||"").toLowerCase()];if(e.unicodeSupport||i&&i.unicodeSupport)O(r,s);else{if(r.host&&(e.domainHost||i&&i.domainHost))try{r.host=_.toASCII(r.host.replace(s.PCT_ENCODED,P).toLowerCase())}catch(t){r.error=r.error||"Host's domain name can not be converted to ASCII via punycode: "+t}O(r,o)}i&&i.parse&&i.parse(r,e)}else r.error=r.error||"URI can not be parsed.";return r}var R=/^\.\.?\//,M=/^\/\.(\/|$)/,D=/^\/\.\.(\/|$)/,L=/^\/?(?:.|\n)*?(?=\/|$)/;function I(t){for(var e=[];t.length;)if(t.match(R))t=t.replace(R,"");else if(t.match(M))t=t.replace(M,"/");else if(t.match(D))t=t.replace(D,"/"),e.pop();else if("."===t||".."===t)t="";else{var r=t.match(L);if(!r)throw new Error("Unexpected dot segment condition");var s=r[0];t=t.slice(s.length),e.push(s)}return e.join("")}function z(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.iri?a:o,s=[],n=k[(e.scheme||t.scheme||"").toLowerCase()];if(n&&n.serialize&&n.serialize(t,e),t.host)if(r.IPV6ADDRESS.test(t.host));else if(e.domainHost||n&&n.domainHost)try{t.host=e.iri?_.toUnicode(t.host):_.toASCII(t.host.replace(r.PCT_ENCODED,P).toLowerCase())}catch(r){t.error=t.error||"Host's domain name can not be converted to "+(e.iri?"Unicode":"ASCII")+" via punycode: "+r}O(t,r),"suffix"!==e.reference&&t.scheme&&(s.push(t.scheme),s.push(":"));var i=function(t,e){var r=!1!==e.iri?a:o,s=[];return void 0!==t.userinfo&&(s.push(t.userinfo),s.push("@")),void 0!==t.host&&s.push(j($(String(t.host),r),r).replace(r.IPV6ADDRESS,(function(t,e,r){return"["+e+(r?"%25"+r:"")+"]"}))),"number"!=typeof t.port&&"string"!=typeof t.port||(s.push(":"),s.push(String(t.port))),s.length?s.join(""):void 0}(t,e);if(void 0!==i&&("suffix"!==e.reference&&s.push("//"),s.push(i),t.path&&"/"!==t.path.charAt(0)&&s.push("/")),void 0!==t.path){var c=t.path;e.absolutePath||n&&n.absolutePath||(c=I(c)),void 0===i&&(c=c.replace(/^\/\//,"/%2F")),s.push(c)}return void 0!==t.query&&(s.push("?"),s.push(t.query)),void 0!==t.fragment&&(s.push("#"),s.push(t.fragment)),s.join("")}function B(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s={};return arguments[3]||(t=T(z(t,r),r),e=T(z(e,r),r)),!(r=r||{}).tolerant&&e.scheme?(s.scheme=e.scheme,s.userinfo=e.userinfo,s.host=e.host,s.port=e.port,s.path=I(e.path||""),s.query=e.query):(void 0!==e.userinfo||void 0!==e.host||void 0!==e.port?(s.userinfo=e.userinfo,s.host=e.host,s.port=e.port,s.path=I(e.path||""),s.query=e.query):(e.path?("/"===e.path.charAt(0)?s.path=I(e.path):(void 0===t.userinfo&&void 0===t.host&&void 0===t.port||t.path?t.path?s.path=t.path.slice(0,t.path.lastIndexOf("/")+1)+e.path:s.path=e.path:s.path="/"+e.path,s.path=I(s.path)),s.query=e.query):(s.path=t.path,void 0!==e.query?s.query=e.query:s.query=t.query),s.userinfo=t.userinfo,s.host=t.host,s.port=t.port),s.scheme=t.scheme),s.fragment=e.fragment,s}function U(t,e){return t&&t.toString().replace(e&&e.iri?a.PCT_ENCODED:o.PCT_ENCODED,P)}var V={scheme:"http",domainHost:!0,parse:function(t,e){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t},serialize:function(t,e){var r="https"===String(t.scheme).toLowerCase();return t.port!==(r?443:80)&&""!==t.port||(t.port=void 0),t.path||(t.path="/"),t}},G={scheme:"https",domainHost:V.domainHost,parse:V.parse,serialize:V.serialize};function W(t){return"boolean"==typeof t.secure?t.secure:"wss"===String(t.scheme).toLowerCase()}var H={scheme:"ws",domainHost:!0,parse:function(t,e){var r=t;return r.secure=W(r),r.resourceName=(r.path||"/")+(r.query?"?"+r.query:""),r.path=void 0,r.query=void 0,r},serialize:function(t,e){if(t.port!==(W(t)?443:80)&&""!==t.port||(t.port=void 0),"boolean"==typeof t.secure&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){var r=t.resourceName.split("?"),s=c(r,2),n=s[0],i=s[1];t.path=n&&"/"!==n?n:void 0,t.query=i,t.resourceName=void 0}return t.fragment=void 0,t}},Q={scheme:"wss",domainHost:H.domainHost,parse:H.parse,serialize:H.serialize},q={},J="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",K="[0-9A-Fa-f]",X=r(r("%[EFef]"+K+"%"+K+K+"%"+K+K)+"|"+r("%[89A-Fa-f]"+K+"%"+K+K)+"|"+r("%"+K+K)),Y=e("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Z=new RegExp(J,"g"),tt=new RegExp(X,"g"),et=new RegExp(e("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',Y),"g"),rt=new RegExp(e("[^]",J,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),st=rt;function nt(t){var e=P(t);return e.match(Z)?e:t}var it={scheme:"mailto",parse:function(t,e){var r=t,s=r.to=r.path?r.path.split(","):[];if(r.path=void 0,r.query){for(var n=!1,i={},o=r.query.split("&"),a=0,c=o.length;a<c;++a){var u=o[a].split("=");switch(u[0]){case"to":for(var l=u[1].split(","),h=0,f=l.length;h<f;++h)s.push(l[h]);break;case"subject":r.subject=U(u[1],e);break;case"body":r.body=U(u[1],e);break;default:n=!0,i[U(u[0],e)]=U(u[1],e)}}n&&(r.headers=i)}r.query=void 0;for(var d=0,p=s.length;d<p;++d){var m=s[d].split("@");if(m[0]=U(m[0]),e.unicodeSupport)m[1]=U(m[1],e).toLowerCase();else try{m[1]=_.toASCII(U(m[1],e).toLowerCase())}catch(t){r.error=r.error||"Email address's domain name can not be converted to ASCII via punycode: "+t}s[d]=m.join("@")}return r},serialize:function(t,e){var r,s=t,i=null!=(r=t.to)?r instanceof Array?r:"number"!=typeof r.length||r.split||r.setInterval||r.call?[r]:Array.prototype.slice.call(r):[];if(i){for(var o=0,a=i.length;o<a;++o){var c=String(i[o]),u=c.lastIndexOf("@"),l=c.slice(0,u).replace(tt,nt).replace(tt,n).replace(et,x),h=c.slice(u+1);try{h=e.iri?_.toUnicode(h):_.toASCII(U(h,e).toLowerCase())}catch(t){s.error=s.error||"Email address's domain name can not be converted to "+(e.iri?"Unicode":"ASCII")+" via punycode: "+t}i[o]=l+"@"+h}s.path=i.join(",")}var f=t.headers=t.headers||{};t.subject&&(f.subject=t.subject),t.body&&(f.body=t.body);var d=[];for(var p in f)f[p]!==q[p]&&d.push(p.replace(tt,nt).replace(tt,n).replace(rt,x)+"="+f[p].replace(tt,nt).replace(tt,n).replace(st,x));return d.length&&(s.query=d.join("&")),s}},ot=/^([^\:]+)\:(.*)/,at={scheme:"urn",parse:function(t,e){var r=t.path&&t.path.match(ot),s=t;if(r){var n=e.scheme||s.scheme||"urn",i=r[1].toLowerCase(),o=r[2],a=n+":"+(e.nid||i),c=k[a];s.nid=i,s.nss=o,s.path=void 0,c&&(s=c.parse(s,e))}else s.error=s.error||"URN can not be parsed.";return s},serialize:function(t,e){var r=e.scheme||t.scheme||"urn",s=t.nid,n=r+":"+(e.nid||s),i=k[n];i&&(t=i.serialize(t,e));var o=t,a=t.nss;return o.path=(s||e.nid)+":"+a,o}},ct=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ut={scheme:"urn:uuid",parse:function(t,e){var r=t;return r.uuid=r.nss,r.nss=void 0,e.tolerant||r.uuid&&r.uuid.match(ct)||(r.error=r.error||"UUID is not valid."),r},serialize:function(t,e){var r=t;return r.nss=(t.uuid||"").toLowerCase(),r}};k[V.scheme]=V,k[G.scheme]=G,k[H.scheme]=H,k[Q.scheme]=Q,k[it.scheme]=it,k[at.scheme]=at,k[ut.scheme]=ut,t.SCHEMES=k,t.pctEncChar=x,t.pctDecChars=P,t.parse=T,t.removeDotSegments=I,t.serialize=z,t.resolveComponents=B,t.resolve=function(t,e,r){var s=function(t,e){var r=t;if(e)for(var s in e)r[s]=e[s];return r}({scheme:"null"},r);return z(B(T(t,s),T(e,s),s,!0),s)},t.normalize=function(t,e){return"string"==typeof t?t=z(T(t,e),e):"object"===s(t)&&(t=T(z(t,e),e)),t},t.equal=function(t,e,r){return"string"==typeof t?t=z(T(t,r),r):"object"===s(t)&&(t=z(t,r)),"string"==typeof e?e=z(T(e,r),r):"object"===s(e)&&(e=z(e,r)),t===e},t.escapeComponent=function(t,e){return t&&t.toString().replace(e&&e.iri?a.ESCAPE:o.ESCAPE,x)},t.unescapeComponent=U,Object.defineProperty(t,"__esModule",{value:!0})}(e)},9443:(t,e,r)=>{"use strict";r.r(e),r.d(e,{NIL:()=>_,parse:()=>v,stringify:()=>f,v1:()=>y,v3:()=>b,v4:()=>S,v5:()=>E,validate:()=>u,version:()=>k});var s=r(6113),n=r.n(s);const i=new Uint8Array(256);let o=i.length;function a(){return o>i.length-16&&(n().randomFillSync(i),o=0),i.slice(o,o+=16)}const c=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,u=function(t){return"string"==typeof t&&c.test(t)},l=[];for(let t=0;t<256;++t)l.push((t+256).toString(16).slice(1));function h(t,e=0){return l[t[e+0]]+l[t[e+1]]+l[t[e+2]]+l[t[e+3]]+"-"+l[t[e+4]]+l[t[e+5]]+"-"+l[t[e+6]]+l[t[e+7]]+"-"+l[t[e+8]]+l[t[e+9]]+"-"+l[t[e+10]]+l[t[e+11]]+l[t[e+12]]+l[t[e+13]]+l[t[e+14]]+l[t[e+15]]}const f=function(t,e=0){const r=h(t,e);if(!u(r))throw TypeError("Stringified UUID is invalid");return r};let d,p,m=0,g=0;const y=function(t,e,r){let s=e&&r||0;const n=e||new Array(16);let i=(t=t||{}).node||d,o=void 0!==t.clockseq?t.clockseq:p;if(null==i||null==o){const e=t.random||(t.rng||a)();null==i&&(i=d=[1|e[0],e[1],e[2],e[3],e[4],e[5]]),null==o&&(o=p=16383&(e[6]<<8|e[7]))}let c=void 0!==t.msecs?t.msecs:Date.now(),u=void 0!==t.nsecs?t.nsecs:g+1;const l=c-m+(u-g)/1e4;if(l<0&&void 0===t.clockseq&&(o=o+1&16383),(l<0||c>m)&&void 0===t.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");m=c,g=u,p=o,c+=122192928e5;const f=(1e4*(268435455&c)+u)%4294967296;n[s++]=f>>>24&255,n[s++]=f>>>16&255,n[s++]=f>>>8&255,n[s++]=255&f;const y=c/4294967296*1e4&268435455;n[s++]=y>>>8&255,n[s++]=255&y,n[s++]=y>>>24&15|16,n[s++]=y>>>16&255,n[s++]=o>>>8|128,n[s++]=255&o;for(let t=0;t<6;++t)n[s+t]=i[t];return e||h(n)},v=function(t){if(!u(t))throw TypeError("Invalid UUID");let e;const r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=255&e,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=255&e,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=255&e,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=255&e,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=255&e,r};function w(t,e,r){function s(t,s,n,i){var o;if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));const e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}(t)),"string"==typeof s&&(s=v(s)),16!==(null===(o=s)||void 0===o?void 0:o.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let a=new Uint8Array(16+t.length);if(a.set(s),a.set(t,s.length),a=r(a),a[6]=15&a[6]|e,a[8]=63&a[8]|128,n){i=i||0;for(let t=0;t<16;++t)n[i+t]=a[t];return n}return h(a)}try{s.name=t}catch(t){}return s.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",s.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",s}const b=w("v3",48,(function(t){return Array.isArray(t)?t=Buffer.from(t):"string"==typeof t&&(t=Buffer.from(t,"utf8")),n().createHash("md5").update(t).digest()})),A={randomUUID:n().randomUUID},S=function(t,e,r){if(A.randomUUID&&!e&&!t)return A.randomUUID();const s=(t=t||{}).random||(t.rng||a)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e){r=r||0;for(let t=0;t<16;++t)e[r+t]=s[t];return e}return h(s)},E=w("v5",80,(function(t){return Array.isArray(t)?t=Buffer.from(t):"string"==typeof t&&(t=Buffer.from(t,"utf8")),n().createHash("sha1").update(t).digest()})),_="00000000-0000-0000-0000-000000000000",k=function(t){if(!u(t))throw TypeError("Invalid UUID");return parseInt(t.slice(14,15),16)}},3316:function(t,e,r){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.bootstrap=void 0;const n=s(r(5829));e.bootstrap=function(){n.default.debug("Hola desde el bootstrap")}},5055:(t,e,r)=>{"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.getUserDataPath=e.paths=e.product=e.extensions=void 0;const n=r(2298),i=r(2037),o=r(1017),a=E();n.app.setPath("userData",a);const c=n.app.getPath("userData"),u=n.app.getPath("music"),l=n.app.getPath("logs"),h=(0,o.join)(c,"Cache"),f=(0,o.join)(n.app.getPath("userData"),"UserData"),d=(0,o.join)(f,"Cache"),p=(0,o.join)(f,"Media"),m=(0,o.join)(f,"Profiles"),g=(0,o.join)(m,"%USERNAME%","Databases"),y=(0,o.join)(c,"settings.global"),v=(0,o.join)(c,"cismu.db"),w=(0,o.join)(m,"%USERNAME%","settings"),b=(0,o.join)(g,"cismu.db"),A=(0,o.join)(c,".firststart"),S=(null===(s=n.app.getPreferredSystemLanguages())||void 0===s?void 0:s[0])||"es-US";function E(){let t;const e=process.env.CISMU_PORTABLE;if(e)return(0,o.join)(e,"user-data");if(t=process.env.CISMU_APPDATA,t)return(0,o.join)(t,n.app.name);const r=process.argv.indexOf("--user-data-dir");if(-1!==r&&process.argv.length>r+1)return process.argv[r+1];switch(process.platform){case"win32":if(t=process.env.APPDATA,!t){const e=process.env.USERPROFILE;if("string"!=typeof e)throw new Error("Windows: Unexpected undefined %USERPROFILE% environment variable");t=(0,o.join)(e,"AppData","Roaming")}break;case"darwin":t=(0,o.join)((0,i.homedir)(),"Library","Application Support");break;case"linux":t=process.env.XDG_CONFIG_HOME||(0,o.join)((0,i.homedir)(),".config");break;default:throw new Error("Platform not supported")}return(0,o.join)(t,n.app.name)}e.extensions=[{name:"Free Lossless Audio Codec",mime:"audio/x-flac",ext:["flac","mflac"],native:!0},{name:"MPEG Audio Layer III",mime:"audio/mp3",ext:"mp3",native:!0},{name:"Ogg",mime:"audio/ogg",ext:["opus","ogg"],native:!0},{name:"Waveform Audio File Format",mime:"audio/wav",ext:["wav","wave1"],native:!0},{name:"Audio Interchange File Format",mime:"audio/aiff",ext:"aiff",native:!1},{name:"Au",mime:"audio/basic",ext:["au","sdn"],native:!1},{name:"Windows Media Audio",mime:"audio/x-ms-wma",ext:"wma",native:!1}],e.product={version:"1.0.0",name:"Cismu",long_name:"Cismu Player",machine_name:"cismu-player",short_machine_name:"cismu",description:"Cismu: The customizable and versatile music player.",uuids:{namespace:"52340235-645f-4661-902b-b175fc399644",seed:"Cismu Player Desktop",uuid:"0d46bbc9-c453-5f6f-a6e9-dd49380bef3f",SHA512:"27b2d837372f539b21069190d59a3536526a4187916f072956b3a5c842b400a5"}},e.paths={folders:{root:c,logs:l,rootCache:h,userData:f,cache:d,media:p,profiles:m,databases:g,music:u},files:{globalSettings:y,globalDatabase:v,settings:w,database:b,firstStart:A},osLocale:S},e.default={paths:e.paths},e.getUserDataPath=E},5495:function(t,e,r){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.createHash=void 0;const n=s(r(6113));e.createHash=function(t,e="sha256"){return n.default.createHash(e).update(t).digest("hex")}},7092:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Warnings=e.CismuInvalidConfig=e.CismuOperatingSystemNotSupported=e.CismuAccessError=e.CismuMissingFiles=e.CismuPermissionNotGrantedError=e.CismuUnknownError=e.CismuPermissionError=e.CismuSetupError=e.CismuStartupError=e.CismuRepairError=e.CismuError=void 0;class r extends Error{}e.CismuError=r,e.CismuRepairError=class extends r{constructor(t="CISMU_EUNKNOWN"){super("An error occurred during repair"),this.description="    The error may be due to lack of permissions on the Cismu folder.\n    Verify that you have permissions.",this.name=t}},e.CismuStartupError=class extends r{constructor(t="CISMU_EUNKNOWN"){super("Error during start-up"),this.description="    An error occurred while loading the program, probably a component could not be loaded.\n    There is not much to do, contact support to solve your problem.",this.name=t}},e.CismuSetupError=class extends r{constructor(t="CISMU_ESETUP",e){super("Application configuration error"),this.description="    An error occurred when setting up the application, this may be due to external manipulation of the application files,\n    which creates undefined behaviors. A possible solution is to run the application with the --restore-all-data flag.",e&&(this.description=e),this.name=t}},e.CismuPermissionError=class extends r{constructor(t){super("Permission error"),this.description=`    A permissions error occurred during the execution of the operation. \n    This may be because you do not have the proper permissions to perform this action on the file system.\n    To resolve this problem, try the following actions:\n    - Verify that you have the necessary permissions to access and modify the files or directories involved.\n    - Run the application with elevated privileges (as administrator) if necessary.\n    - Make sure that the files or directories involved are not write-protected or modified.\n    If the problem persists, contact technical support for further assistance.\n    \n    Path: ${t.path}\n    syscall: ${t.syscall}`,this.name=t.name}},e.CismuUnknownError=class extends r{constructor(t="Unknown Error",e="Unknown Error",r){super("Unknown Error"),this.description=e,this.name=t}},e.CismuPermissionNotGrantedError=class extends r{constructor(t="CISMU_EPERM"){super("User did not grant permission"),this.description="    It is necessary to grant elevated permissions to perform some tasks, such as repairing, installing and uninstalling the application.\n    For the correct functioning of the application, you should grant these permissions.\n    \n    Don't worry, we will make good use of them.\n    ",this.name=t}},e.CismuMissingFiles=class extends r{constructor(t="CISMU_EMISS"){super("Missing files"),this.description="    Some files are missing in the application if you try to repair it may fix the problem or run as administrator.",this.name=t}},e.CismuAccessError=class extends r{constructor(t="CISMU_EACCS"){super("Access Error"),this.description="    This error is due to the system detecting that it does not have access to a resource.\n    To fix it try to repair the program with the --repair-restart flag or run as administrator",this.name=t}},e.CismuOperatingSystemNotSupported=class extends r{constructor(t="CISMU_OSNS"){super("Operating system not supported"),this.description="    The application is not supported by the current operating system, the one that is running is rare,\n    which indicates that it possibly is, so contact the developer in order to resolve this issue.",this.name=t}},e.CismuInvalidConfig=class extends r{constructor(t="CISMU_IN/COCfGF"){super("Invalid/corrupted configuration file"),this.description="    An invalid configuration file was detected, the default configuration will be used,\n    if this keeps occurring it is a very serious bug and must be fixed, please notify the developer.",this.name=t}},e.Warnings={HWAccDisabled:"Hardware acceleration has been disabled, for more information check https://support.cismu.org/hardware-acceleration"}},1764:function(t,e,r){"use strict";var s=this&&this.__awaiter||function(t,e,r,s){return new(r||(r=Promise))((function(n,i){function o(t){try{c(s.next(t))}catch(t){i(t)}}function a(t){try{c(s.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}c((s=s.apply(t,e||[])).next())}))},n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(r(2081)),o=n(r(4584)),a=n(r(3837)),c=r(3201),u=n(r(5829));e.default=Object.assign(Object.assign({},o.default),{mkdirsSyncArray:function(t){for(let e=0;e<t.length;e++)try{o.default.mkdirsSync(t[e])}catch(t){u.default.error(t)}},getPermissions:function(t){return s(this,void 0,void 0,(function*(){try{const e=a.default.promisify(i.default.exec),{stdout:r,stderr:s}=yield e(`icacls "${t}"`);if(s)throw u.default.error(`Error en stderr de icacls: ${s}`),new Error(s);const n=r.split("\n"),o={};for(const t of n){const e=t.match(/^\s*([^:]+):\s*(.*)$/);if(e){const t=e[1].trim(),r=e[2].trim();o[t]||(o[t]=[]),o[t]=o[t].concat(r.split(/\s+/).filter(Boolean))}}const c=process.env.USERDOMAIN+"\\"+process.env.USERNAME,l=o[c]||[];return{user:c,permission:{read:l.some((t=>/(R|RX|M|F)/.test(t))),write:l.some((t=>/(W|M|F)/.test(t))),execute:l.some((t=>/(X|M|F)/.test(t))),modify:l.some((t=>/(M|F)/.test(t)))}}}catch(t){throw u.default.error(`Error obtaining permissions: ${t.message}`),t}}))},isPrimitive:function(t){return"object"!=typeof t&&"function"!=typeof t||null===t},atomicWriteSync:function(t,e,r=511,n="utf-8"){return s(this,void 0,void 0,(function*(){const s=(0,c.getTempPath)(),i=o.default.openSync(s,"w",r);if(ArrayBuffer.isView(e)||Buffer.isBuffer(e))o.default.writeSync(i,e,0,e.byteLength,0);else{if(!this.isPrimitive(e))throw new Error("The data provided is not supported. Only ArrayBufferView and primitive data are supported.");o.default.writeSync(i,String(e),null,n)}o.default.closeSync(i),o.default.renameSync(s,t)}))}})},9322:function(t,e,r){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=r(2298),i=r(2037),o=s(r(4005)),a=r(3316),c=r(7092),u=s(r(5829));r(7906)&&n.app.quit(),n.app.requestSingleInstanceLock()||(n.app.quit(),process.exit(0));const l="win32"===process.platform;l&&n.app.setAppUserModelId(n.app.getName());const h=!process.argv.includes("--disable-hardware-acceleration");process.argv.includes("--repair-restart");((0,i.release)().startsWith("6.1")&&l||!h)&&(n.app.disableHardwareAcceleration(),u.default.warn(c.Warnings.HWAccDisabled)),o.default.getInstance().run(),(0,a.bootstrap)()},5829:function(t,e,r){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=s(r(8493)),i=r(7092),o={DEBUG:0,INFO:10,WARN:20,ERROR:30,CRITICAL:40,OFF:50};e.default=new class{constructor(t="WARN"){this.timestamp=(new Date).getTime(),this.scale=t,process.on("unhandledRejection",(t=>this.crit(`Unhandled Rejection at Promise ${t}`))),process.on("uncaughtException",((t,e)=>this.crit(`Uncaught Exception thrown: ${t.message}\n${e}`)))}logMessage(t,e){t instanceof i.CismuError?(console.log(n.default.magenta(`[${this.time}] | CRITICAL |  [${t.name}]`)),console.log(n.default.magenta(t.message)),console.log(n.default.magenta(t.description)),console.log(n.default.magenta(t.stack))):t instanceof Error?(console.error(e(`[${this.time}] | ERROR | [${t.name}]`)),console.error(e(t.message)),console.error(e(t.stack))):console.log(e(`[${this.time}] | LOG | [${t}]`))}debug(t){o[this.scale]<=o.DEBUG&&this.logMessage(t,n.default.blue)}info(t){o[this.scale]<=o.INFO&&this.logMessage(t,n.default.white)}warn(t){o[this.scale]<=o.WARN&&this.logMessage(t,n.default.yellow)}error(t){o[this.scale]<=o.ERROR&&this.logMessage(t,n.default.red)}crit(t){o[this.scale]<=o.CRITICAL&&this.logMessage(t,n.default.magenta)}setScale(t){this.scale=t}get time(){return((new Date).getTime()-this.timestamp)/1e3}}},8761:function(t,e,r){"use strict";var s=this&&this.__awaiter||function(t,e,r,s){return new(r||(r=Promise))((function(n,i){function o(t){try{c(s.next(t))}catch(t){i(t)}}function a(t){try{c(s.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}c((s=s.apply(t,e||[])).next())}))},n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=r(2298),o=n(r(3539)),a=r(5055),c=r(3201),u=r(9203),l=n(r(5829)),h=n(r(1764)),f=r(7092),d={properties:{version:{type:"string"},theme:{type:"string"},desktop_notifications:{type:"boolean"},keyboard_shortcuts:{elements:{properties:{accelerator:{type:"string"},action:{type:"string"}}}},hardware_acceleration:{type:"boolean"},language:{type:"string"},developer_mode:{type:"boolean"},bounds:{properties:{x:{type:"int32"},y:{type:"int32"},width:{type:"int32"},height:{type:"int32"}},additionalProperties:!1},startup:{properties:{auto_startup:{type:"boolean"},start_minimized:{type:"boolean"},minimize_in_tray:{type:"boolean"}},additionalProperties:!1}},additionalProperties:!1};e.default=class{constructor(){l.default.debug("Instantiating Config module"),this.jtd=new o.default;const t=function(){switch(process.platform){case"win32":case"linux":case"darwin":return d;default:l.default.error("The current operating system does not support the config module"),(0,u.abort)(new f.CismuOperatingSystemNotSupported)}}();this.parserSchema=this.jtd.compileParser(t),this.serializeSchema=this.jtd.compileSerializer(t),this.defaultCfg={version:"1.0.0",theme:"dark",desktop_notifications:!0,keyboard_shortcuts:[{accelerator:"CTRL+Z",action:"1"}],hardware_acceleration:!0,language:i.app.getPreferredSystemLanguages()[0],developer_mode:!1,bounds:{x:0,y:0,width:1024,height:768},startup:{auto_startup:!0,start_minimized:!0,minimize_in_tray:!0}},this.cfg=(0,c.cloneDeep)(this.defaultCfg),this.cfgPath=a.paths.files.globalSettings}validate(){i.app.isReady()?this._validate():i.app.once("ready",(()=>{l.default.debug("Event Ready from: Config Module"),this._validate()}))}init(){return s(this,void 0,void 0,(function*(){l.default.debug("Initialization of the Config module has been successfully completed"),this.lastModified=this._getLastModified();try{const t=(yield new Promise(((t,e)=>{h.default.readFile(a.paths.files.globalSettings,((r,s)=>{r&&e(r),t(s)}))}))).toString("utf-8");try{const e=this.parserSchema(t);if(!e)throw new f.CismuInvalidConfig;this.cfg=e}catch(t){l.default.error(t),this.cfg=(0,c.cloneDeep)(this.defaultCfg),this.save()}this.save()}catch(t){l.default.error(t),this.cfg=(0,c.cloneDeep)(this.defaultCfg)}}))}save(){return s(this,void 0,void 0,(function*(){try{if(this.lastModified&&this.lastModified!==this._getLastModified())return void l.default.warn("Not saving settings, it has been externally modified.");const t=this.serializeSchema(this.cfg);h.default.atomicWriteSync(this.cfgPath,t,511),this.lastModified=this._getLastModified()}catch(t){l.default.error("An error occurred while saving the configuration")}}))}get(t,e){return t in this.cfg?this.cfg[t]:e}set(t,e){if(e)if("object"==typeof t){const e=t;for(const[t,r]of Object.entries(e))this.cfg[t]=r}else this.cfg[t]=e}reset(t){this.cfg[t]=this.defaultCfg[t],this.save()}get config(){return Object.assign({},this.cfg)}checkBounds(t){try{void 0===t&&(t=(0,c.cloneDeep)(this.defaultCfg.bounds));const e=i.screen.getDisplayNearestPoint({x:Math.round(t.x),y:Math.round(t.y)}).workArea;return t.x>=e.x&&t.x+t.width<=e.x+e.width&&t.y>=e.y&&t.y+t.height<=e.y+e.height?t:{width:this.defaultCfg.bounds.width,height:this.defaultCfg.bounds.height,x:e.width/2-this.defaultCfg.bounds.width/2,y:e.height/2-this.defaultCfg.bounds.height/2}}catch(t){l.default.error(t)}}_validate(){try{this.cfg.bounds=this.checkBounds(this.cfg.bounds),this.save()}catch(t){l.default.error(t),this.cfg=(0,c.cloneDeep)(this.defaultCfg)}}_getLastModified(){try{return h.default.statSync(a.paths.files.globalSettings).mtime.getTime()}catch(t){return 0}}}},9479:function(t,e,r){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=s(r(1206)),i=r(5055),o=r(1017),a=r(2298);e.default=class{constructor(){let t=(0,o.resolve)((0,o.join)(__dirname,"./native_modules/build/Release/better_sqlite3"));a.app.isPackaged&&(t=(0,o.resolve)((0,o.join)(__dirname,"../../../app.asar.unpacked/.webpack/main/native_modules/build/Release/better_sqlite3"))),this.globalDB=new n.default(i.paths.files.globalDatabase),this.createTables()}fetchAllSongs(){const t=this.globalDB.prepare("SELECT * FROM songs;").all(),e=[];return t.map((t=>{t.format=JSON.stringify(t.format),t.id3=JSON.stringify(t.id3),e.push()})),e}createTables(){this.globalDB.exec('\n      CREATE TABLE IF NOT EXISTS "songs" (\n        "id" TEXT NOT NULL,\n        "path" TEXT NOT NULL CHECK(length("path") != 0),\n        "hash" TEXT NOT NULL CHECK(length("path") != 0),\n        "size" INTEGER NOT NULL,\n        "timestamp" INTEGER NOT NULL CHECK("timestamp" != 0),\n        "id3" TEXT,\n        "format" TEXT,\n        PRIMARY KEY("id")\n      );\n    ')}}},786:function(t,e,r){"use strict";var s=this&&this.__awaiter||function(t,e,r,s){return new(r||(r=Promise))((function(n,i){function o(t){try{c(s.next(t))}catch(t){i(t)}}function a(t){try{c(s.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}c((s=s.apply(t,e||[])).next())}))},n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(r(9923)),o=r(1017),a=r(2037),c=r(2298),u=r(3201),l=r(5055),h=n(r(5829));e.default=class{constructor(t){let e=(0,o.resolve)((0,o.join)(__dirname,`../../bins/${(0,a.platform)()}/${(0,a.arch)()}/ffmpeg`)),r=(0,o.resolve)((0,o.join)(__dirname,`../../bins/${(0,a.platform)()}/${(0,a.arch)()}/ffprobe`));c.app.isPackaged&&(e=(0,o.resolve)((0,o.join)(__dirname,"../../../app.asar.unpacked/.webpack/bins/ffmpeg")),r=(0,o.resolve)((0,o.join)(__dirname,"../../../app.asar.unpacked/.webpack/bins/ffprobe"))),i.default.setFfmpegPath(e),i.default.setFfprobePath(r),this.ffmpeg=i.default,this.storage=t}getMetadata(t){var e,r,n,i,o,a;return s(this,void 0,void 0,(function*(){try{const s=yield new Promise(((e,r)=>{this.ffmpeg.ffprobe(t,((t,s)=>{t&&r(t),e(s)}))})),{streams:c,format:u}=s,{tags:l}=u,f=c[0],d={title:String(l&&(null!==(e=l.title)&&void 0!==e?e:l.TITLE))||null,album:String(l&&(null!==(r=l.album)&&void 0!==r?r:l.ALBUM))||null,artist:String(l&&(null!==(n=l.artist)&&void 0!==n?n:l.ARTIST))||null,track_num:Number(l&&(null!==(i=l.track)&&void 0!==i?i:l.TRACK))||null,genre:String(l&&(null!==(o=l.genre)&&void 0!==o?o:l.GENRE))||null,date:String(l&&(null!==(a=l.date)&&void 0!==a?a:l.DATE))||null,picture:null};d.artist.toString().split(",").length>1?d.artist=d.artist.toString().split(","):d.artist.toString().split(";").length>1&&(d.artist=d.artist.toString().split(";"));const p={id3:d,format:{filename:String(u.filename),format_name:String(u.format_name),format_long_name:String(u.format_long_name),nb_streams:Number(u.nb_streams),duration:Number(u.duration),start_time:Number(u.start_time),bit_rate:Number(u.bit_rate),channels:Number(f.channels),channel_layout:String(f.channel_layout),codec_type:String(f.codec_type),sample_rate:Number(f.sample_rate),probe_score:Number(u.probe_score)}};if(c.length>1&&c.find((t=>"video"===t.codec_type)))try{p.id3.picture=yield this.extractCover(t)}catch(t){h.default.error(t),p.id3.picture=null}return p}catch(t){h.default.error(t)}}))}convertFile(t){return s(this,void 0,void 0,(function*(){return new Promise(((e,r)=>{const s=(0,u.getTempPath)()+".flac",n=this.ffmpeg();n.input(t),n.format("flac"),n.output(s),n.run(),n.on("end",(()=>{try{e(this.storage.saveFile(s,l.paths.folders.media))}catch(t){r(t)}})),n.on("error",(t=>{r(t)}))}))}))}extractCover(t){return s(this,void 0,void 0,(function*(){return new Promise(((e,r)=>{const s=(0,u.getTempPath)()+".png",n=this.ffmpeg();n.input(t),n.outputOptions("-an"),n.output(s),n.run(),n.on("end",(()=>{try{e(this.storage.saveFile(s))}catch(t){r(t)}})),n.on("error",(t=>{r(t)}))}))}))}}},2035:function(t,e,r){"use strict";var s=this&&this.__awaiter||function(t,e,r,s){return new(r||(r=Promise))((function(n,i){function o(t){try{c(s.next(t))}catch(t){i(t)}}function a(t){try{c(s.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}c((s=s.apply(t,e||[])).next())}))},n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=r(2298),o=n(r(5829)),a=n(r(8493)),c=r(3201);e.default=class{constructor(t,e){o.default.debug("Instantiating IpcMain module"),this.ffmpeg=t,this.config=e,this.events=[{name:"Get Config",channel:"cismu:main:get->config",handled:!1,once:!1,action:(t,...r)=>{t.sender.send("cismu:renderer:get->config",e.config)}},{name:"Find Songs",channel:"cismu:main:find->songs",handled:!1,once:!1,action:(t,...e)=>s(this,void 0,void 0,(function*(){const e=(0,c.scanMusic)(),r=[];for(let t=0;t<e.length;t++){const s=yield this.ffmpeg.convertFile(e[t]),n=yield this.ffmpeg.getMetadata(s);r.push(n)}t.sender.send("cismu:renderer:find->songs",r)}))}]}init(){return s(this,void 0,void 0,(function*(){o.default.debug("Registering Events...");const t=(new Date).getTime();for(let t=0;t<this.events.length;t++){const e=this.events[t];e.handled?e.once?i.ipcMain.handleOnce(e.channel,e.action):i.ipcMain.handle(e.channel,e.action):e.once?i.ipcMain.once(e.channel,e.action):i.ipcMain.on(e.channel,e.action),o.default.debug(`${a.default.blue(e.name)} successfully registered`)}const e=((new Date).getTime()-t)/1e3;o.default.debug(`The initialization of the IpcMain module has been successfully completed in ${e}ms`)}))}}},4005:function(t,e,r){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=s(r(9479)),i=s(r(2035)),o=s(r(6487)),a=s(r(786)),c=s(r(8761));class u{constructor(){this.modules=new Map}register(t,e){this.modules.set(t,e)}resolve(t){return this.modules.get(t)}run(){const t=new c.default;this.register("config",t);const e=new n.default;this.register("database",e);const r=new o.default(e);this.register("storage",r);const s=new a.default(r);this.register("ffmpeg",s);const u=new i.default(s,t);this.register("ipcmain",u)}static getInstance(){return this.instance||(this.instance=new u),this.instance}}e.default=u},6487:function(t,e,r){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=r(5495),i=r(5055),o=r(1017),a=s(r(1764));e.default=class{constructor(t){this.db=t}saveFile(t,e=i.paths.folders.cache){try{const r=a.default.readFileSync(t),s=(0,n.createHash)(r),i=(0,o.join)(e,s[0],s.substring(0,2));return a.default.mkdirSync(i,{recursive:!0}),a.default.moveSync(t,(0,o.join)(i,s),{overwrite:!0}),(0,o.join)(i,s)}catch(t){throw t}}init(){const t=this.db.fetchAllSongs();console.log("Storage fetchAllSongs: ",t)}}},9203:function(t,e,r){"use strict";var s=this&&this.__awaiter||function(t,e,r,s){return new(r||(r=Promise))((function(n,i){function o(t){try{c(s.next(t))}catch(t){i(t)}}function a(t){try{c(s.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}c((s=s.apply(t,e||[])).next())}))},n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.close=e.abort=e.reboot=e.repair=e.testing=e.setup=e.isFirstStart=void 0;const i=r(2298),o=r(9443),a=n(r(4001)),c=n(r(1017)),u=n(r(1764)),l=n(r(2037)),h=r(5055),f=n(r(5829)),d=r(7092);function p(){return!u.default.existsSync(h.paths.files.firstStart)}function m(){return s(this,void 0,void 0,(function*(){if(!p())throw new d.CismuSetupError;try{const{folders:t,files:e}=h.paths,r=Buffer.from("Default").toString("base64");u.default.mkdirsSyncArray(Object.values(t).map((t=>t.replace("%USERNAME%",r))));const s=e.database.replace("%USERNAME%",r);u.default.writeFileSync(s,"\0");const n=e.settings.replace("%USERNAME%",r);u.default.writeFileSync(n,"{}"),u.default.writeFileSync(e.globalSettings,"{}"),u.default.writeFileSync(h.paths.files.firstStart,"true")}catch(t){if("EPERM"===t.code)throw new d.CismuPermissionError(t);throw new d.CismuSetupError(null,"Unknown error during configuration, try to run as administrator")}}))}function g(){return s(this,void 0,void 0,(function*(){const t=i.BrowserWindow.getAllWindows();yield Promise.all(t.map((t=>s(this,void 0,void 0,(function*(){if(t&&!t.isDestroyed()){let e;e=t.webContents&&!t.webContents.isDestroyed()?new Promise((e=>t.once("closed",e))):Promise.resolve(),t.destroy(),yield e}}))))),i.app.exit(0)}))}e.isFirstStart=p,e.setup=m,e.testing=function(){return s(this,void 0,void 0,(function*(){try{f.default.debug("Initiating start-up tests...");const t=[h.paths.folders.root,h.paths.folders.userData,h.paths.folders.profiles,h.paths.folders.media,h.paths.folders.cache,h.paths.folders.logs],e=[h.paths.files.firstStart,h.paths.files.globalSettings],r=[...t,...e];let s=!0;for(let e=0;e<t.length;e++)s=s&&u.default.existsSync(t[e]);let n=!0;for(let t=0;t<e.length;t++)n=n&&u.default.existsSync(e[t]);if(!s||!n)throw new d.CismuMissingFiles;try{const t=u.default.constants.F_OK|u.default.constants.X_OK|u.default.constants.W_OK|u.default.constants.R_OK;for(let e=0;e<r.length;e++)u.default.accessSync(r[e],t)}catch(t){throw new d.CismuAccessError}if("win32"===process.platform)for(let t=0;t<r.length;t++){const{permission:e}=yield u.default.getPermissions(r[t]);if(!(e.modify||e.execute&&e.read&&e.write))throw new d.CismuAccessError}return!0}catch(t){throw t}}))},e.repair=function(){return s(this,void 0,void 0,(function*(){try{function t(t){return s(this,void 0,void 0,(function*(){return yield new Promise(((e,r)=>{a.default.exec(t,{name:i.app.getName()},(function(t,s,n){(t||n)&&r(null!=t?t:n),e(s)}))}))}))}if(f.default.debug("Initiating repair..."),"win32"===l.default.platform()){const r=h.paths.folders.root,n=`icacls ${r} /inheritance:d && icacls ${r} /inheritance:e && icacls ${r} /reset /t /c`;yield t(n)}else if("linux"===l.default.platform()||"darwin"===l.default.platform()){const p=`chmod -R u+rwx "${h.paths.folders.root}`;yield t(p)}let e=c.default.join(h.paths.folders.rootCache,(0,o.v4)());return u.default.existsSync(h.paths.folders.userData)&&u.default.moveSync(h.paths.folders.userData,e),u.default.existsSync(h.paths.files.firstStart)&&u.default.unlinkSync(h.paths.files.firstStart),yield m(),u.default.existsSync(e)&&u.default.moveSync(e,c.default.join(h.paths.folders.cache,(0,o.v4)())),f.default.debug("Repair completed"),!0}catch(g){if("User did not grant permission."===g.message)throw new d.CismuPermissionNotGrantedError;if("EPERM"===g.code)throw new d.CismuPermissionError(g);return f.default.error(g),!1}}))},e.reboot=function(t){return s(this,void 0,void 0,(function*(){const e=process.argv.slice(1);if((null==t?void 0:t.addArgs)&&e.push(...t.addArgs),null==t?void 0:t.removeArgs)for(const r of t.removeArgs){const t=e.indexOf(r);t>=0&&e.splice(t,1)}i.app.once("quit",(()=>{i.app.relaunch({args:e})})),i.app.quit()}))},e.abort=function(t){return s(this,void 0,void 0,(function*(){yield i.app.whenReady();let e=t.message||t.stack,r="Unknown error at startup",s="A critical error occurred and the application needs to abort";t instanceof d.CismuError&&(s=t.name,r=t.message,e=t.description);try{yield i.dialog.showMessageBox(null,{type:"error",message:r,detail:e,buttons:["Close"],title:s}),g()}catch(t){f.default.error(t),g()}}))},e.close=g},3201:function(t,e,r){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.scanMusic=e.getTempPath=e.cloneDeep=void 0;const n=r(9443),i=r(5253),o=r(5055),a=s(r(5829)),c=s(r(1017)),u=s(r(1764));e.cloneDeep=function t(e){try{if(u.default.isPrimitive(e))return e;if(Array.isArray(e))return e.map((e=>t(e)));if("object"==typeof e){const r={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=t(e[s]));return r}}catch(t){a.default.error("cloneDeep: Unhandled value type"),a.default.error(t)}},e.getTempPath=function(){return c.default.join(o.paths.folders.rootCache,(0,n.v4)())},e.scanMusic=function(){let t="";return o.extensions.map((e=>{t=Array.isArray(e.ext)?`${t},${e.ext.join(",")}`:`${t},${e.ext}`})),(0,i.globSync)(`**/*.{${t}}`,{cwd:o.paths.folders.music,nodir:!0,absolute:!0})}},1206:t=>{"use strict";t.exports=require("better-sqlite3")},9491:t=>{"use strict";t.exports=require("assert")},2081:t=>{"use strict";t.exports=require("child_process")},2057:t=>{"use strict";t.exports=require("constants")},6113:t=>{"use strict";t.exports=require("crypto")},2298:t=>{"use strict";t.exports=require("electron")},2361:t=>{"use strict";t.exports=require("events")},7147:t=>{"use strict";t.exports=require("fs")},3292:t=>{"use strict";t.exports=require("fs/promises")},1808:t=>{"use strict";t.exports=require("net")},2037:t=>{"use strict";t.exports=require("os")},1017:t=>{"use strict";t.exports=require("path")},2781:t=>{"use strict";t.exports=require("stream")},1576:t=>{"use strict";t.exports=require("string_decoder")},6224:t=>{"use strict";t.exports=require("tty")},7310:t=>{"use strict";t.exports=require("url")},3837:t=>{"use strict";t.exports=require("util")},5394:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Glob=void 0;const s=r(9631),n=r(2740),i=r(7310),o=r(8978),a=r(4662),c="object"==typeof process&&process&&"string"==typeof process.platform?process.platform:"linux";class u{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;opts;patterns;constructor(t,e){if(!e)throw new TypeError("glob options required");if(this.withFileTypes=!!e.withFileTypes,this.signal=e.signal,this.follow=!!e.follow,this.dot=!!e.dot,this.dotRelative=!!e.dotRelative,this.nodir=!!e.nodir,this.mark=!!e.mark,e.cwd?(e.cwd instanceof URL||e.cwd.startsWith("file://"))&&(e.cwd=(0,i.fileURLToPath)(e.cwd)):this.cwd="",this.cwd=e.cwd||"",this.root=e.root,this.magicalBraces=!!e.magicalBraces,this.nobrace=!!e.nobrace,this.noext=!!e.noext,this.realpath=!!e.realpath,this.absolute=e.absolute,this.noglobstar=!!e.noglobstar,this.matchBase=!!e.matchBase,this.maxDepth="number"==typeof e.maxDepth?e.maxDepth:1/0,this.stat=!!e.stat,this.ignore=e.ignore,this.withFileTypes&&void 0!==this.absolute)throw new Error("cannot set absolute and withFileTypes:true");if("string"==typeof t&&(t=[t]),this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||!1===e.allowWindowsEscape,this.windowsPathsNoEscape&&(t=t.map((t=>t.replace(/\\/g,"/")))),this.matchBase){if(e.noglobstar)throw new TypeError("base matching requires globstar");t=t.map((t=>t.includes("/")?t:`./**/${t}`))}if(this.pattern=t,this.platform=e.platform||c,this.opts={...e,platform:this.platform},e.scurry){if(this.scurry=e.scurry,void 0!==e.nocase&&e.nocase!==e.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{const t="win32"===e.platform?n.PathScurryWin32:"darwin"===e.platform?n.PathScurryDarwin:e.platform?n.PathScurryPosix:n.PathScurry;this.scurry=new t(this.cwd,{nocase:e.nocase,fs:e.fs})}this.nocase=this.scurry.nocase;const r="darwin"===this.platform||"win32"===this.platform,a={...e,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:r,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},u=this.pattern.map((t=>new s.Minimatch(t,a))),[l,h]=u.reduce(((t,e)=>(t[0].push(...e.set),t[1].push(...e.globParts),t)),[[],[]]);this.patterns=l.map(((t,e)=>{const r=h[e];if(!r)throw new Error("invalid pattern object");return new o.Pattern(t,r,0,this.platform)}))}async walk(){return[...await new a.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walk()]}walkSync(){return[...new a.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walkSync()]}stream(){return new a.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).stream()}streamSync(){return new a.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}e.Glob=u},2018:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasMagic=void 0;const s=r(9631);e.hasMagic=(t,e={})=>{Array.isArray(t)||(t=[t]);for(const r of t)if(new s.Minimatch(r,e).hasMagic())return!0;return!1}},7240:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ignore=void 0;const s=r(9631),n=r(8978),i="object"==typeof process&&process&&"string"==typeof process.platform?process.platform:"linux";e.Ignore=class{relative;relativeChildren;absolute;absoluteChildren;constructor(t,{nobrace:e,nocase:r,noext:o,noglobstar:a,platform:c=i}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[];const u={dot:!0,nobrace:e,nocase:r,noext:o,noglobstar:a,optimizationLevel:2,platform:c,nocomment:!0,nonegate:!0};for(const e of t){const t=new s.Minimatch(e,u);for(let e=0;e<t.set.length;e++){const r=t.set[e],i=t.globParts[e];if(!r||!i)throw new Error("invalid pattern object");const o=new n.Pattern(r,i,0,c),a=new s.Minimatch(o.globString(),u),l="**"===i[i.length-1],h=o.isAbsolute();h?this.absolute.push(a):this.relative.push(a),l&&(h?this.absoluteChildren.push(a):this.relativeChildren.push(a))}}}ignored(t){const e=t.fullpath(),r=`${e}/`,s=t.relative()||".",n=`${s}/`;for(const t of this.relative)if(t.match(s)||t.match(n))return!0;for(const t of this.absolute)if(t.match(e)||t.match(r))return!0;return!1}childrenIgnored(t){const e=t.fullpath()+"/",r=(t.relative()||".")+"/";for(const t of this.relativeChildren)if(t.match(r))return!0;for(const t of this.absoluteChildren)if(t.match(e))return!0;return!1}}},5253:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.glob=e.hasMagic=e.Glob=e.unescape=e.escape=e.sync=e.iterate=e.iterateSync=e.stream=e.streamSync=e.globIterate=e.globIterateSync=e.globSync=e.globStream=e.globStreamSync=void 0;const s=r(9631),n=r(5394),i=r(2018);function o(t,e={}){return new n.Glob(t,e).streamSync()}function a(t,e={}){return new n.Glob(t,e).stream()}function c(t,e={}){return new n.Glob(t,e).walkSync()}async function u(t,e={}){return new n.Glob(t,e).walk()}function l(t,e={}){return new n.Glob(t,e).iterateSync()}function h(t,e={}){return new n.Glob(t,e).iterate()}e.globStreamSync=o,e.globStream=a,e.globSync=c,e.globIterateSync=l,e.globIterate=h,e.streamSync=o,e.stream=Object.assign(a,{sync:o}),e.iterateSync=l,e.iterate=Object.assign(h,{sync:l}),e.sync=Object.assign(c,{stream:o,iterate:l});var f=r(9631);Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return f.escape}}),Object.defineProperty(e,"unescape",{enumerable:!0,get:function(){return f.unescape}});var d=r(5394);Object.defineProperty(e,"Glob",{enumerable:!0,get:function(){return d.Glob}});var p=r(2018);Object.defineProperty(e,"hasMagic",{enumerable:!0,get:function(){return p.hasMagic}}),e.glob=Object.assign(u,{glob:u,globSync:c,sync:e.sync,globStream:a,stream:e.stream,globStreamSync:o,streamSync:e.streamSync,globIterate:h,iterate:e.iterate,globIterateSync:l,iterateSync:e.iterateSync,Glob:n.Glob,hasMagic:i.hasMagic,escape:s.escape,unescape:s.unescape}),e.glob.glob=e.glob},8978:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Pattern=void 0;const s=r(9631);class n{#t;#e;#r;length;#s;#n;#i;#o;#a;#c;#u=!0;constructor(t,e,r,s){if(!(t.length>=1))throw new TypeError("empty pattern list");if(!(e.length>=1))throw new TypeError("empty glob list");if(e.length!==t.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=t.length,r<0||r>=this.length)throw new TypeError("index out of range");if(this.#t=t,this.#e=e,this.#r=r,this.#s=s,0===this.#r)if(this.isUNC()){const[t,e,r,s,...n]=this.#t,[i,o,a,c,...u]=this.#e;""===n[0]&&(n.shift(),u.shift());const l=[t,e,r,s,""].join("/"),h=[i,o,a,c,""].join("/");this.#t=[l,...n],this.#e=[h,...u],this.length=this.#t.length}else if(this.isDrive()||this.isAbsolute()){const[t,...e]=this.#t,[r,...s]=this.#e;""===e[0]&&(e.shift(),s.shift());const n=t+"/",i=r+"/";this.#t=[n,...e],this.#e=[i,...s],this.length=this.#t.length}}pattern(){return this.#t[this.#r]}isString(){return"string"==typeof this.#t[this.#r]}isGlobstar(){return this.#t[this.#r]===s.GLOBSTAR}isRegExp(){return this.#t[this.#r]instanceof RegExp}globString(){return this.#i=this.#i||(0===this.#r?this.isAbsolute()?this.#e[0]+this.#e.slice(1).join("/"):this.#e.join("/"):this.#e.slice(this.#r).join("/"))}hasMore(){return this.length>this.#r+1}rest(){return void 0!==this.#n?this.#n:this.hasMore()?(this.#n=new n(this.#t,this.#e,this.#r+1,this.#s),this.#n.#c=this.#c,this.#n.#a=this.#a,this.#n.#o=this.#o,this.#n):this.#n=null}isUNC(){const t=this.#t;return void 0!==this.#a?this.#a:this.#a="win32"===this.#s&&0===this.#r&&""===t[0]&&""===t[1]&&"string"==typeof t[2]&&!!t[2]&&"string"==typeof t[3]&&!!t[3]}isDrive(){const t=this.#t;return void 0!==this.#o?this.#o:this.#o="win32"===this.#s&&0===this.#r&&this.length>1&&"string"==typeof t[0]&&/^[a-z]:$/i.test(t[0])}isAbsolute(){const t=this.#t;return void 0!==this.#c?this.#c:this.#c=""===t[0]&&t.length>1||this.isDrive()||this.isUNC()}root(){const t=this.#t[0];return"string"==typeof t&&this.isAbsolute()&&0===this.#r?t:""}checkFollowGlobstar(){return!(0===this.#r||!this.isGlobstar()||!this.#u)}markFollowGlobstar(){return!(0===this.#r||!this.isGlobstar()||!this.#u||(this.#u=!1,0))}}e.Pattern=n},4425:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Processor=e.SubWalks=e.MatchRecord=e.HasWalkedCache=void 0;const s=r(9631);class n{store;constructor(t=new Map){this.store=t}copy(){return new n(new Map(this.store))}hasWalked(t,e){return this.store.get(t.fullpath())?.has(e.globString())}storeWalked(t,e){const r=t.fullpath(),s=this.store.get(r);s?s.add(e.globString()):this.store.set(r,new Set([e.globString()]))}}e.HasWalkedCache=n;class i{store=new Map;add(t,e,r){const s=(e?2:0)|(r?1:0),n=this.store.get(t);this.store.set(t,void 0===n?s:s&n)}entries(){return[...this.store.entries()].map((([t,e])=>[t,!!(2&e),!!(1&e)]))}}e.MatchRecord=i;class o{store=new Map;add(t,e){if(!t.canReaddir())return;const r=this.store.get(t);r?r.find((t=>t.globString()===e.globString()))||r.push(e):this.store.set(t,[e])}get(t){const e=this.store.get(t);if(!e)throw new Error("attempting to walk unknown path");return e}entries(){return this.keys().map((t=>[t,this.store.get(t)]))}keys(){return[...this.store.keys()].filter((t=>t.canReaddir()))}}e.SubWalks=o;class a{hasWalkedCache;matches=new i;subwalks=new o;patterns;follow;dot;opts;constructor(t,e){this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=e?e.copy():new n}processPatterns(t,e){this.patterns=e;const r=e.map((e=>[t,e]));for(let[t,e]of r){this.hasWalkedCache.storeWalked(t,e);const r=e.root(),n=e.isAbsolute()&&!1!==this.opts.absolute;if(r){t=t.resolve("/"===r&&void 0!==this.opts.root?this.opts.root:r);const s=e.rest();if(!s){this.matches.add(t,!0,!1);continue}e=s}if(t.isENOENT())continue;let i,o,a=!1;for(;"string"==typeof(i=e.pattern())&&(o=e.rest());){const r=t.resolve(i);t=r,e=o,a=!0}if(i=e.pattern(),o=e.rest(),a){if(this.hasWalkedCache.hasWalked(t,e))continue;this.hasWalkedCache.storeWalked(t,e)}if("string"!=typeof i)if(i===s.GLOBSTAR){(!t.isSymbolicLink()||this.follow||e.checkFollowGlobstar())&&this.subwalks.add(t,e);const r=o?.pattern(),s=o?.rest();if(o&&(""!==r&&"."!==r||s)){if(".."===r){const e=t.parent||t;s?this.hasWalkedCache.hasWalked(e,s)||this.subwalks.add(e,s):this.matches.add(e,n,!0)}}else this.matches.add(t,n,""===r||"."===r)}else i instanceof RegExp&&this.subwalks.add(t,e);else{const e=".."===i||""===i||"."===i;this.matches.add(t.resolve(i),n,e)}}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new a(this.opts,this.hasWalkedCache)}filterEntries(t,e){const r=this.subwalks.get(t),n=this.child();for(const t of e)for(const e of r){const r=e.isAbsolute(),i=e.pattern(),o=e.rest();i===s.GLOBSTAR?n.testGlobstar(t,e,o,r):i instanceof RegExp?n.testRegExp(t,i,o,r):n.testString(t,i,o,r)}return n}testGlobstar(t,e,r,s){if(!this.dot&&t.name.startsWith(".")||(e.hasMore()||this.matches.add(t,s,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,e):t.isSymbolicLink()&&(r&&e.checkFollowGlobstar()?this.subwalks.add(t,r):e.markFollowGlobstar()&&this.subwalks.add(t,e)))),r){const e=r.pattern();if("string"==typeof e&&".."!==e&&""!==e&&"."!==e)this.testString(t,e,r.rest(),s);else if(".."===e){const e=t.parent||t;this.subwalks.add(e,r)}else e instanceof RegExp&&this.testRegExp(t,e,r.rest(),s)}}testRegExp(t,e,r,s){e.test(t.name)&&(r?this.subwalks.add(t,r):this.matches.add(t,s,!1))}testString(t,e,r,s){t.isNamed(e)&&(r?this.subwalks.add(t,r):this.matches.add(t,s,!1))}}e.Processor=a},4662:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobStream=e.GlobWalker=e.GlobUtil=void 0;const s=r(3447),n=r(7240),i=r(4425);class o{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#l=[];#h;#f;signal;maxDepth;constructor(t,e,r){this.patterns=t,this.path=e,this.opts=r,this.#f=r.posix||"win32"!==r.platform?"/":"\\",r.ignore&&(this.#h=((t,e)=>"string"==typeof t?new n.Ignore([t],e):Array.isArray(t)?new n.Ignore(t,e):t)(r.ignore,r)),this.maxDepth=r.maxDepth||1/0,r.signal&&(this.signal=r.signal,this.signal.addEventListener("abort",(()=>{this.#l.length=0})))}#d(t){return this.seen.has(t)||!!this.#h?.ignored?.(t)}#p(t){return!!this.#h?.childrenIgnored?.(t)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;let t;for(this.paused=!1;!this.paused&&(t=this.#l.shift());)t()}onResume(t){this.signal?.aborted||(this.paused?this.#l.push(t):t())}async matchCheck(t,e){if(e&&this.opts.nodir)return;let r;if(this.opts.realpath){if(r=t.realpathCached()||await t.realpath(),!r)return;t=r}const s=t.isUnknown()||this.opts.stat;return this.matchCheckTest(s?await t.lstat():t,e)}matchCheckTest(t,e){return!t||!(this.maxDepth===1/0||t.depth()<=this.maxDepth)||e&&!t.canReaddir()||this.opts.nodir&&t.isDirectory()||this.#d(t)?void 0:t}matchCheckSync(t,e){if(e&&this.opts.nodir)return;let r;if(this.opts.realpath){if(r=t.realpathCached()||t.realpathSync(),!r)return;t=r}const s=t.isUnknown()||this.opts.stat;return this.matchCheckTest(s?t.lstatSync():t,e)}matchFinish(t,e){if(this.#d(t))return;const r=void 0===this.opts.absolute?e:this.opts.absolute;this.seen.add(t);const s=this.opts.mark&&t.isDirectory()?this.#f:"";if(this.opts.withFileTypes)this.matchEmit(t);else if(r){const e=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(e+s)}else{const e=this.opts.posix?t.relativePosix():t.relative(),r=this.opts.dotRelative&&!e.startsWith(".."+this.#f)?"."+this.#f:"";this.matchEmit(e?r+e+s:"."+s)}}async match(t,e,r){const s=await this.matchCheck(t,r);s&&this.matchFinish(s,e)}matchSync(t,e,r){const s=this.matchCheckSync(t,r);s&&this.matchFinish(s,e)}walkCB(t,e,r){this.signal?.aborted&&r(),this.walkCB2(t,e,new i.Processor(this.opts),r)}walkCB2(t,e,r,s){if(this.#p(t))return s();if(this.signal?.aborted&&s(),this.paused)return void this.onResume((()=>this.walkCB2(t,e,r,s)));r.processPatterns(t,e);let n=1;const i=()=>{0==--n&&s()};for(const[t,e,s]of r.matches.entries())this.#d(t)||(n++,this.match(t,e,s).then((()=>i())));for(const t of r.subwalkTargets()){if(this.maxDepth!==1/0&&t.depth()>=this.maxDepth)continue;n++;const e=t.readdirCached();t.calledReaddir()?this.walkCB3(t,e,r,i):t.readdirCB(((e,s)=>this.walkCB3(t,s,r,i)),!0)}i()}walkCB3(t,e,r,s){r=r.filterEntries(t,e);let n=1;const i=()=>{0==--n&&s()};for(const[t,e,s]of r.matches.entries())this.#d(t)||(n++,this.match(t,e,s).then((()=>i())));for(const[t,e]of r.subwalks.entries())n++,this.walkCB2(t,e,r.child(),i);i()}walkCBSync(t,e,r){this.signal?.aborted&&r(),this.walkCB2Sync(t,e,new i.Processor(this.opts),r)}walkCB2Sync(t,e,r,s){if(this.#p(t))return s();if(this.signal?.aborted&&s(),this.paused)return void this.onResume((()=>this.walkCB2Sync(t,e,r,s)));r.processPatterns(t,e);let n=1;const i=()=>{0==--n&&s()};for(const[t,e,s]of r.matches.entries())this.#d(t)||this.matchSync(t,e,s);for(const t of r.subwalkTargets()){if(this.maxDepth!==1/0&&t.depth()>=this.maxDepth)continue;n++;const e=t.readdirSync();this.walkCB3Sync(t,e,r,i)}i()}walkCB3Sync(t,e,r,s){r=r.filterEntries(t,e);let n=1;const i=()=>{0==--n&&s()};for(const[t,e,s]of r.matches.entries())this.#d(t)||this.matchSync(t,e,s);for(const[t,e]of r.subwalks.entries())n++,this.walkCB2Sync(t,e,r.child(),i);i()}}e.GlobUtil=o,e.GlobWalker=class extends o{matches;constructor(t,e,r){super(t,e,r),this.matches=new Set}matchEmit(t){this.matches.add(t)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise(((t,e)=>{this.walkCB(this.path,this.patterns,(()=>{this.signal?.aborted?e(this.signal.reason):t(this.matches)}))})),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,(()=>{if(this.signal?.aborted)throw this.signal.reason})),this.matches}},e.GlobStream=class extends o{results;constructor(t,e,r){super(t,e,r),this.results=new s.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",(()=>this.resume())),this.results.on("resume",(()=>this.resume()))}matchEmit(t){this.results.write(t),this.results.flowing||this.pause()}stream(){const t=this.path;return t.isUnknown()?t.lstat().then((()=>{this.walkCB(t,this.patterns,(()=>this.results.end()))})):this.walkCB(t,this.patterns,(()=>this.results.end())),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,(()=>this.results.end())),this.results}}},3994:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertValidPattern=void 0,e.assertValidPattern=t=>{if("string"!=typeof t)throw new TypeError("invalid pattern");if(t.length>65536)throw new TypeError("pattern is too long")}},2742:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AST=void 0;const s=r(2150),n=r(1267),i=new Set(["!","?","+","*","@"]),o=t=>i.has(t),a="(?!\\.)",c=new Set(["[","."]),u=new Set(["..","."]),l=new Set("().*{}+?[]^$\\!"),h="[^/]",f=h+"*?",d=h+"+?";class p{type;#m;#g;#y=!1;#v=[];#w;#b;#A;#S=!1;#E;#_;#k=!1;constructor(t,e,r={}){this.type=t,t&&(this.#g=!0),this.#w=e,this.#m=this.#w?this.#w.#m:this,this.#E=this.#m===this?r:this.#m.#E,this.#A=this.#m===this?[]:this.#m.#A,"!"!==t||this.#m.#S||this.#A.push(this),this.#b=this.#w?this.#w.#v.length:0}get hasMagic(){if(void 0!==this.#g)return this.#g;for(const t of this.#v)if("string"!=typeof t&&(t.type||t.hasMagic))return this.#g=!0;return this.#g}toString(){return void 0!==this.#_?this.#_:this.type?this.#_=this.type+"("+this.#v.map((t=>String(t))).join("|")+")":this.#_=this.#v.map((t=>String(t))).join("")}#x(){if(this!==this.#m)throw new Error("should only call on root");if(this.#S)return this;let t;for(this.toString(),this.#S=!0;t=this.#A.pop();){if("!"!==t.type)continue;let e=t,r=e.#w;for(;r;){for(let s=e.#b+1;!r.type&&s<r.#v.length;s++)for(const e of t.#v){if("string"==typeof e)throw new Error("string part in extglob AST??");e.copyIn(r.#v[s])}e=r,r=e.#w}}return this}push(...t){for(const e of t)if(""!==e){if("string"!=typeof e&&!(e instanceof p&&e.#w===this))throw new Error("invalid part: "+e);this.#v.push(e)}}toJSON(){const t=null===this.type?this.#v.slice().map((t=>"string"==typeof t?t:t.toJSON())):[this.type,...this.#v.map((t=>t.toJSON()))];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#m||this.#m.#S&&"!"===this.#w?.type)&&t.push({}),t}isStart(){if(this.#m===this)return!0;if(!this.#w?.isStart())return!1;if(0===this.#b)return!0;const t=this.#w;for(let e=0;e<this.#b;e++){const r=t.#v[e];if(!(r instanceof p&&"!"===r.type))return!1}return!0}isEnd(){if(this.#m===this)return!0;if("!"===this.#w?.type)return!0;if(!this.#w?.isEnd())return!1;if(!this.type)return this.#w?.isEnd();const t=this.#w?this.#w.#v.length:0;return this.#b===t-1}copyIn(t){"string"==typeof t?this.push(t):this.push(t.clone(this))}clone(t){const e=new p(this.type,t);for(const t of this.#v)e.copyIn(t);return e}static#P(t,e,r,s){let n=!1,i=!1,a=-1,c=!1;if(null===e.type){let u=r,l="";for(;u<t.length;){const r=t.charAt(u++);if(n||"\\"===r)n=!n,l+=r;else if(i)u===a+1?"^"!==r&&"!"!==r||(c=!0):"]"!==r||u===a+2&&c||(i=!1),l+=r;else if("["!==r)if(s.noext||!o(r)||"("!==t.charAt(u))l+=r;else{e.push(l),l="";const n=new p(r,e);u=p.#P(t,n,u,s),e.push(n)}else i=!0,a=u,c=!1,l+=r}return e.push(l),u}let u=r+1,l=new p(null,e);const h=[];let f="";for(;u<t.length;){const r=t.charAt(u++);if(n||"\\"===r)n=!n,f+=r;else if(i)u===a+1?"^"!==r&&"!"!==r||(c=!0):"]"!==r||u===a+2&&c||(i=!1),f+=r;else if("["!==r)if(o(r)&&"("===t.charAt(u)){l.push(f),f="";const e=new p(r,l);l.push(e),u=p.#P(t,e,u,s)}else if("|"!==r){if(")"===r)return""===f&&0===e.#v.length&&(e.#k=!0),l.push(f),f="",e.push(...h,l),u;f+=r}else l.push(f),f="",h.push(l),l=new p(null,e);else i=!0,a=u,c=!1,f+=r}return e.type=null,e.#g=void 0,e.#v=[t.substring(r-1)],u}static fromGlob(t,e={}){const r=new p(null,void 0,e);return p.#P(t,r,0,e),r}toMMPattern(){if(this!==this.#m)return this.#m.toMMPattern();const t=this.toString(),[e,r,s,n]=this.toRegExpSource();if(!(s||this.#g||this.#E.nocase&&!this.#E.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return r;const i=(this.#E.nocase?"i":"")+(n?"u":"");return Object.assign(new RegExp(`^${e}$`,i),{_src:e,_glob:t})}toRegExpSource(t){const e=t??!!this.#E.dot;if(this.#m===this&&this.#x(),!this.type){const r=this.isStart()&&this.isEnd(),s=this.#v.map((e=>{const[s,n,i,o]="string"==typeof e?p.#O(e,this.#g,r):e.toRegExpSource(t);return this.#g=this.#g||i,this.#y=this.#y||o,s})).join("");let i="";if(this.isStart()&&"string"==typeof this.#v[0]&&(1!==this.#v.length||!u.has(this.#v[0]))){const r=c,n=e&&r.has(s.charAt(0))||s.startsWith("\\.")&&r.has(s.charAt(2))||s.startsWith("\\.\\.")&&r.has(s.charAt(4)),o=!e&&!t&&r.has(s.charAt(0));i=n?"(?!(?:^|/)\\.\\.?(?:$|/))":o?a:""}let o="";return this.isEnd()&&this.#m.#S&&"!"===this.#w?.type&&(o="(?:$|\\/)"),[i+s+o,(0,n.unescape)(s),this.#g=!!this.#g,this.#y]}const r="*"===this.type||"+"===this.type,s="!"===this.type?"(?:(?!(?:":"(?:";let i=this.#C(e);if(this.isStart()&&this.isEnd()&&!i&&"!"!==this.type){const t=this.toString();return this.#v=[t],this.type=null,this.#g=void 0,[t,(0,n.unescape)(this.toString()),!1,!1]}let o=!r||t||e?"":this.#C(!0);o===i&&(o=""),o&&(i=`(?:${i})(?:${o})*?`);let l="";return l="!"===this.type&&this.#k?(this.isStart()&&!e?a:"")+d:s+i+("!"===this.type?"))"+(!this.isStart()||e||t?"":a)+f+")":"@"===this.type?")":"?"===this.type?")?":"+"===this.type&&o?")":"*"===this.type&&o?")?":`)${this.type}`),[l,(0,n.unescape)(i),this.#g=!!this.#g,this.#y]}#C(t){return this.#v.map((e=>{if("string"==typeof e)throw new Error("string type in extglob ast??");const[r,s,n,i]=e.toRegExpSource(t);return this.#y=this.#y||i,r})).filter((t=>!(this.isStart()&&this.isEnd()&&!t))).join("|")}static#O(t,e,r=!1){let i=!1,o="",a=!1;for(let n=0;n<t.length;n++){const c=t.charAt(n);if(i)i=!1,o+=(l.has(c)?"\\":"")+c;else if("\\"!==c){if("["===c){const[r,i,c,u]=(0,s.parseClass)(t,n);if(c){o+=r,a=a||i,n+=c-1,e=e||u;continue}}"*"!==c?"?"!==c?o+=c.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):(o+=h,e=!0):(o+=r&&"*"===t?d:f,e=!0)}else n===t.length-1?o+="\\\\":i=!0}return[o,(0,n.unescape)(t),!!e,a]}}e.AST=p},2150:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseClass=void 0;const r={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},s=t=>t.replace(/[[\]\\-]/g,"\\$&"),n=t=>t.join("");e.parseClass=(t,e)=>{const i=e;if("["!==t.charAt(i))throw new Error("not in a brace expression");const o=[],a=[];let c=i+1,u=!1,l=!1,h=!1,f=!1,d=i,p="";t:for(;c<t.length;){const e=t.charAt(c);if("!"!==e&&"^"!==e||c!==i+1){if("]"===e&&u&&!h){d=c+1;break}if(u=!0,"\\"!==e||h){if("["===e&&!h)for(const[e,[s,n,u]]of Object.entries(r))if(t.startsWith(e,c)){if(p)return["$.",!1,t.length-i,!0];c+=e.length,u?a.push(s):o.push(s),l=l||n;continue t}h=!1,p?(e>p?o.push(s(p)+"-"+s(e)):e===p&&o.push(s(e)),p="",c++):t.startsWith("-]",c+1)?(o.push(s(e+"-")),c+=2):t.startsWith("-",c+1)?(p=e,c+=2):(o.push(s(e)),c++)}else h=!0,c++}else f=!0,c++}if(d<c)return["",!1,0,!1];if(!o.length&&!a.length)return["$.",!1,t.length-i,!0];if(0===a.length&&1===o.length&&/^\\?.$/.test(o[0])&&!f){return[(m=2===o[0].length?o[0].slice(-1):o[0],m.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),!1,d-i,!1]}var m;const g="["+(f?"^":"")+n(o)+"]",y="["+(f?"":"^")+n(a)+"]";return[o.length&&a.length?"("+g+"|"+y+")":o.length?g:y,l,d-i,!0]}},5314:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.escape=void 0,e.escape=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/[?*()[\]]/g,"[$&]"):t.replace(/[?*()[\]\\]/g,"\\$&")},9631:function(t,e,r){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.unescape=e.escape=e.AST=e.Minimatch=e.match=e.makeRe=e.braceExpand=e.defaults=e.filter=e.GLOBSTAR=e.sep=e.minimatch=void 0;const n=s(r(1276)),i=r(3994),o=r(2742),a=r(5314),c=r(1267);e.minimatch=(t,e,r={})=>((0,i.assertValidPattern)(e),!(!r.nocomment&&"#"===e.charAt(0))&&new N(e,r).match(t));const u=/^\*+([^+@!?\*\[\(]*)$/,l=t=>e=>!e.startsWith(".")&&e.endsWith(t),h=t=>e=>e.endsWith(t),f=t=>(t=t.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(t)),d=t=>(t=t.toLowerCase(),e=>e.toLowerCase().endsWith(t)),p=/^\*+\.\*+$/,m=t=>!t.startsWith(".")&&t.includes("."),g=t=>"."!==t&&".."!==t&&t.includes("."),y=/^\.\*+$/,v=t=>"."!==t&&".."!==t&&t.startsWith("."),w=/^\*+$/,b=t=>0!==t.length&&!t.startsWith("."),A=t=>0!==t.length&&"."!==t&&".."!==t,S=/^\?+([^+@!?\*\[\(]*)?$/,E=([t,e=""])=>{const r=P([t]);return e?(e=e.toLowerCase(),t=>r(t)&&t.toLowerCase().endsWith(e)):r},_=([t,e=""])=>{const r=O([t]);return e?(e=e.toLowerCase(),t=>r(t)&&t.toLowerCase().endsWith(e)):r},k=([t,e=""])=>{const r=O([t]);return e?t=>r(t)&&t.endsWith(e):r},x=([t,e=""])=>{const r=P([t]);return e?t=>r(t)&&t.endsWith(e):r},P=([t])=>{const e=t.length;return t=>t.length===e&&!t.startsWith(".")},O=([t])=>{const e=t.length;return t=>t.length===e&&"."!==t&&".."!==t},C="object"==typeof process&&process?"object"==typeof process.env&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix";e.sep="win32"===C?"\\":"/",e.minimatch.sep=e.sep,e.GLOBSTAR=Symbol("globstar **"),e.minimatch.GLOBSTAR=e.GLOBSTAR,e.filter=(t,r={})=>s=>(0,e.minimatch)(s,t,r),e.minimatch.filter=e.filter;const $=(t,e={})=>Object.assign({},t,e);e.defaults=t=>{if(!t||"object"!=typeof t||!Object.keys(t).length)return e.minimatch;const r=e.minimatch;return Object.assign(((e,s,n={})=>r(e,s,$(t,n))),{Minimatch:class extends r.Minimatch{constructor(e,r={}){super(e,$(t,r))}static defaults(e){return r.defaults($(t,e)).Minimatch}},AST:class extends r.AST{constructor(e,r,s={}){super(e,r,$(t,s))}static fromGlob(e,s={}){return r.AST.fromGlob(e,$(t,s))}},unescape:(e,s={})=>r.unescape(e,$(t,s)),escape:(e,s={})=>r.escape(e,$(t,s)),filter:(e,s={})=>r.filter(e,$(t,s)),defaults:e=>r.defaults($(t,e)),makeRe:(e,s={})=>r.makeRe(e,$(t,s)),braceExpand:(e,s={})=>r.braceExpand(e,$(t,s)),match:(e,s,n={})=>r.match(e,s,$(t,n)),sep:r.sep,GLOBSTAR:e.GLOBSTAR})},e.minimatch.defaults=e.defaults,e.braceExpand=(t,e={})=>((0,i.assertValidPattern)(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:(0,n.default)(t)),e.minimatch.braceExpand=e.braceExpand,e.makeRe=(t,e={})=>new N(t,e).makeRe(),e.minimatch.makeRe=e.makeRe,e.match=(t,e,r={})=>{const s=new N(e,r);return t=t.filter((t=>s.match(t))),s.options.nonull&&!t.length&&t.push(e),t},e.minimatch.match=e.match;const j=/[?*]|[+@!]\(.*?\)|\[|\]/;class N{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t,e={}){(0,i.assertValidPattern)(t),e=e||{},this.options=e,this.pattern=t,this.platform=e.platform||C,this.isWindows="win32"===this.platform,this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||!1===e.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!e.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!e.nonegate,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=void 0!==e.windowsNoMagicRoot?e.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const t of this.set)for(const e of t)if("string"!=typeof e)return!0;return!1}debug(...t){}make(){const t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],e.debug&&(this.debug=(...t)=>console.error(...t)),this.debug(this.pattern,this.globSet);const r=this.globSet.map((t=>this.slashSplit(t)));this.globParts=this.preprocess(r),this.debug(this.pattern,this.globParts);let s=this.globParts.map(((t,e,r)=>{if(this.isWindows&&this.windowsNoMagicRoot){const e=!(""!==t[0]||""!==t[1]||"?"!==t[2]&&j.test(t[2])||j.test(t[3])),r=/^[a-z]:/i.test(t[0]);if(e)return[...t.slice(0,4),...t.slice(4).map((t=>this.parse(t)))];if(r)return[t[0],...t.slice(1).map((t=>this.parse(t)))]}return t.map((t=>this.parse(t)))}));if(this.debug(this.pattern,s),this.set=s.filter((t=>-1===t.indexOf(!1))),this.isWindows)for(let t=0;t<this.set.length;t++){const e=this.set[t];""===e[0]&&""===e[1]&&"?"===this.globParts[t][2]&&"string"==typeof e[3]&&/^[a-z]:$/i.test(e[3])&&(e[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let e=0;e<t.length;e++)for(let r=0;r<t[e].length;r++)"**"===t[e][r]&&(t[e][r]="*");const{optimizationLevel:e=1}=this.options;return e>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):t=e>=1?this.levelOneOptimize(t):this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map((t=>{let e=-1;for(;-1!==(e=t.indexOf("**",e+1));){let r=e;for(;"**"===t[r+1];)r++;r!==e&&t.splice(e,r-e)}return t}))}levelOneOptimize(t){return t.map((t=>0===(t=t.reduce(((t,e)=>{const r=t[t.length-1];return"**"===e&&"**"===r?t:".."===e&&r&&".."!==r&&"."!==r&&"**"!==r?(t.pop(),t):(t.push(e),t)}),[])).length?[""]:t))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let e=!1;do{if(e=!1,!this.preserveMultipleSlashes){for(let r=1;r<t.length-1;r++){const s=t[r];1===r&&""===s&&""===t[0]||"."!==s&&""!==s||(e=!0,t.splice(r,1),r--)}"."!==t[0]||2!==t.length||"."!==t[1]&&""!==t[1]||(e=!0,t.pop())}let r=0;for(;-1!==(r=t.indexOf("..",r+1));){const s=t[r-1];s&&"."!==s&&".."!==s&&"**"!==s&&(e=!0,t.splice(r-1,2),r-=2)}}while(e);return 0===t.length?[""]:t}firstPhasePreProcess(t){let e=!1;do{e=!1;for(let r of t){let s=-1;for(;-1!==(s=r.indexOf("**",s+1));){let n=s;for(;"**"===r[n+1];)n++;n>s&&r.splice(s+1,n-s);let i=r[s+1];const o=r[s+2],a=r[s+3];if(".."!==i)continue;if(!o||"."===o||".."===o||!a||"."===a||".."===a)continue;e=!0,r.splice(s,1);const c=r.slice(0);c[s]="**",t.push(c),s--}if(!this.preserveMultipleSlashes){for(let t=1;t<r.length-1;t++){const s=r[t];1===t&&""===s&&""===r[0]||"."!==s&&""!==s||(e=!0,r.splice(t,1),t--)}"."!==r[0]||2!==r.length||"."!==r[1]&&""!==r[1]||(e=!0,r.pop())}let n=0;for(;-1!==(n=r.indexOf("..",n+1));){const t=r[n-1];if(t&&"."!==t&&".."!==t&&"**"!==t){e=!0;const t=1===n&&"**"===r[n+1]?["."]:[];r.splice(n-1,2,...t),0===r.length&&r.push(""),n-=2}}}}while(e);return t}secondPhasePreProcess(t){for(let e=0;e<t.length-1;e++)for(let r=e+1;r<t.length;r++){const s=this.partsMatch(t[e],t[r],!this.preserveMultipleSlashes);s&&(t[e]=s,t[r]=[])}return t.filter((t=>t.length))}partsMatch(t,e,r=!1){let s=0,n=0,i=[],o="";for(;s<t.length&&n<e.length;)if(t[s]===e[n])i.push("b"===o?e[n]:t[s]),s++,n++;else if(r&&"**"===t[s]&&e[n]===t[s+1])i.push(t[s]),s++;else if(r&&"**"===e[n]&&t[s]===e[n+1])i.push(e[n]),n++;else if("*"!==t[s]||!e[n]||!this.options.dot&&e[n].startsWith(".")||"**"===e[n]){if("*"!==e[n]||!t[s]||!this.options.dot&&t[s].startsWith(".")||"**"===t[s])return!1;if("a"===o)return!1;o="b",i.push(e[n]),s++,n++}else{if("b"===o)return!1;o="a",i.push(t[s]),s++,n++}return t.length===e.length&&i}parseNegate(){if(this.nonegate)return;const t=this.pattern;let e=!1,r=0;for(let s=0;s<t.length&&"!"===t.charAt(s);s++)e=!e,r++;r&&(this.pattern=t.slice(r)),this.negate=e}matchOne(t,r,s=!1){const n=this.options;if(this.isWindows){const e="string"==typeof t[0]&&/^[a-z]:$/i.test(t[0]),s=!e&&""===t[0]&&""===t[1]&&"?"===t[2]&&/^[a-z]:$/i.test(t[3]),n="string"==typeof r[0]&&/^[a-z]:$/i.test(r[0]),i=s?3:e?0:void 0,o=!n&&""===r[0]&&""===r[1]&&"?"===r[2]&&"string"==typeof r[3]&&/^[a-z]:$/i.test(r[3])?3:n?0:void 0;if("number"==typeof i&&"number"==typeof o){const[e,s]=[t[i],r[o]];e.toLowerCase()===s.toLowerCase()&&(r[o]=e,o>i?r=r.slice(o):i>o&&(t=t.slice(i)))}}const{optimizationLevel:i=1}=this.options;i>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:r}),this.debug("matchOne",t.length,r.length);for(var o=0,a=0,c=t.length,u=r.length;o<c&&a<u;o++,a++){this.debug("matchOne loop");var l=r[a],h=t[o];if(this.debug(r,l,h),!1===l)return!1;if(l===e.GLOBSTAR){this.debug("GLOBSTAR",[r,l,h]);var f=o,d=a+1;if(d===u){for(this.debug("** at the end");o<c;o++)if("."===t[o]||".."===t[o]||!n.dot&&"."===t[o].charAt(0))return!1;return!0}for(;f<c;){var p=t[f];if(this.debug("\nglobstar while",t,f,r,d,p),this.matchOne(t.slice(f),r.slice(d),s))return this.debug("globstar found match!",f,c,p),!0;if("."===p||".."===p||!n.dot&&"."===p.charAt(0)){this.debug("dot detected!",t,f,r,d);break}this.debug("globstar swallow a segment, and continue"),f++}return!(!s||(this.debug("\n>>> no match, partial?",t,f,r,d),f!==c))}let i;if("string"==typeof l?(i=h===l,this.debug("string match",l,h,i)):(i=l.test(h),this.debug("pattern match",l,h,i)),!i)return!1}if(o===c&&a===u)return!0;if(o===c)return s;if(a===u)return o===c-1&&""===t[o];throw new Error("wtf?")}braceExpand(){return(0,e.braceExpand)(this.pattern,this.options)}parse(t){(0,i.assertValidPattern)(t);const r=this.options;if("**"===t)return e.GLOBSTAR;if(""===t)return"";let s,n=null;(s=t.match(w))?n=r.dot?A:b:(s=t.match(u))?n=(r.nocase?r.dot?d:f:r.dot?h:l)(s[1]):(s=t.match(S))?n=(r.nocase?r.dot?_:E:r.dot?k:x)(s):(s=t.match(p))?n=r.dot?g:m:(s=t.match(y))&&(n=v);const a=o.AST.fromGlob(t,this.options).toMMPattern();return n?Object.assign(a,{test:n}):a}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const t=this.set;if(!t.length)return this.regexp=!1,this.regexp;const r=this.options,s=r.noglobstar?"[^/]*?":r.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",n=new Set(r.nocase?["i"]:[]);let i=t.map((t=>{const r=t.map((t=>{if(t instanceof RegExp)for(const e of t.flags.split(""))n.add(e);return"string"==typeof t?t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):t===e.GLOBSTAR?e.GLOBSTAR:t._src}));return r.forEach(((t,n)=>{const i=r[n+1],o=r[n-1];t===e.GLOBSTAR&&o!==e.GLOBSTAR&&(void 0===o?void 0!==i&&i!==e.GLOBSTAR?r[n+1]="(?:\\/|"+s+"\\/)?"+i:r[n]=s:void 0===i?r[n-1]=o+"(?:\\/|"+s+")?":i!==e.GLOBSTAR&&(r[n-1]=o+"(?:\\/|\\/"+s+"\\/)"+i,r[n+1]=e.GLOBSTAR))})),r.filter((t=>t!==e.GLOBSTAR)).join("/")})).join("|");const[o,a]=t.length>1?["(?:",")"]:["",""];i="^"+o+i+a+"$",this.negate&&(i="^(?!"+i+").+$");try{this.regexp=new RegExp(i,[...n].join(""))}catch(t){this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,e=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;const r=this.options;this.isWindows&&(t=t.split("\\").join("/"));const s=this.slashSplit(t);this.debug(this.pattern,"split",s);const n=this.set;this.debug(this.pattern,"set",n);let i=s[s.length-1];if(!i)for(let t=s.length-2;!i&&t>=0;t--)i=s[t];for(let t=0;t<n.length;t++){const o=n[t];let a=s;if(r.matchBase&&1===o.length&&(a=[i]),this.matchOne(a,o,e))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate}static defaults(t){return e.minimatch.defaults(t).Minimatch}}e.Minimatch=N;var F=r(2742);Object.defineProperty(e,"AST",{enumerable:!0,get:function(){return F.AST}});var T=r(5314);Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return T.escape}});var R=r(1267);Object.defineProperty(e,"unescape",{enumerable:!0,get:function(){return R.unescape}}),e.minimatch.AST=o.AST,e.minimatch.Minimatch=N,e.minimatch.escape=a.escape,e.minimatch.unescape=c.unescape},1267:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unescape=void 0,e.unescape=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/\[([^\/\\])\]/g,"$1"):t.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1")},3447:function(t,e,r){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Minipass=e.isWritable=e.isReadable=e.isStream=void 0;const n="object"==typeof process&&process?process:{stdout:null,stderr:null},i=r(2361),o=s(r(2781)),a=r(1576);e.isStream=t=>!!t&&"object"==typeof t&&(t instanceof V||t instanceof o.default||(0,e.isReadable)(t)||(0,e.isWritable)(t)),e.isReadable=t=>!!t&&"object"==typeof t&&t instanceof i.EventEmitter&&"function"==typeof t.pipe&&t.pipe!==o.default.Writable.prototype.pipe,e.isWritable=t=>!!t&&"object"==typeof t&&t instanceof i.EventEmitter&&"function"==typeof t.write&&"function"==typeof t.end;const c=Symbol("EOF"),u=Symbol("maybeEmitEnd"),l=Symbol("emittedEnd"),h=Symbol("emittingEnd"),f=Symbol("emittedError"),d=Symbol("closed"),p=Symbol("read"),m=Symbol("flush"),g=Symbol("flushChunk"),y=Symbol("encoding"),v=Symbol("decoder"),w=Symbol("flowing"),b=Symbol("paused"),A=Symbol("resume"),S=Symbol("buffer"),E=Symbol("pipes"),_=Symbol("bufferLength"),k=Symbol("bufferPush"),x=Symbol("bufferShift"),P=Symbol("objectMode"),O=Symbol("destroyed"),C=Symbol("error"),$=Symbol("emitData"),j=Symbol("emitEnd"),N=Symbol("emitEnd2"),F=Symbol("async"),T=Symbol("abort"),R=Symbol("aborted"),M=Symbol("signal"),D=Symbol("dataListeners"),L=Symbol("discarded"),I=t=>Promise.resolve().then(t),z=t=>t();class B{src;dest;opts;ondrain;constructor(t,e,r){this.src=t,this.dest=e,this.opts=r,this.ondrain=()=>t[A](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(t){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class U extends B{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,r){super(t,e,r),this.proxyErrors=t=>e.emit("error",t),t.on("error",this.proxyErrors)}}class V extends i.EventEmitter{[w]=!1;[b]=!1;[E]=[];[S]=[];[P];[y];[F];[v];[c]=!1;[l]=!1;[h]=!1;[d]=!1;[f]=null;[_]=0;[O]=!1;[M];[R]=!1;[D]=0;[L]=!1;writable=!0;readable=!0;constructor(...t){const e=t[0]||{};if(super(),e.objectMode&&"string"==typeof e.encoding)throw new TypeError("Encoding and objectMode may not be used together");var r;e.objectMode?(this[P]=!0,this[y]=null):!(r=e).objectMode&&r.encoding&&"buffer"!==r.encoding?(this[y]=e.encoding,this[P]=!1):(this[P]=!1,this[y]=null),this[F]=!!e.async,this[v]=this[y]?new a.StringDecoder(this[y]):null,e&&!0===e.debugExposeBuffer&&Object.defineProperty(this,"buffer",{get:()=>this[S]}),e&&!0===e.debugExposePipes&&Object.defineProperty(this,"pipes",{get:()=>this[E]});const{signal:s}=e;s&&(this[M]=s,s.aborted?this[T]():s.addEventListener("abort",(()=>this[T]())))}get bufferLength(){return this[_]}get encoding(){return this[y]}set encoding(t){throw new Error("Encoding must be set at instantiation time")}setEncoding(t){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[P]}set objectMode(t){throw new Error("objectMode must be set at instantiation time")}get async(){return this[F]}set async(t){this[F]=this[F]||!!t}[T](){this[R]=!0,this.emit("abort",this[M]?.reason),this.destroy(this[M]?.reason)}get aborted(){return this[R]}set aborted(t){}write(t,e,r){if(this[R])return!1;if(this[c])throw new Error("write after end");if(this[O])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;"function"==typeof e&&(r=e,e="utf8"),e||(e="utf8");const s=this[F]?I:z;if(!this[P]&&!Buffer.isBuffer(t))if(n=t,!Buffer.isBuffer(n)&&ArrayBuffer.isView(n))t=Buffer.from(t.buffer,t.byteOffset,t.byteLength);else if((t=>t instanceof ArrayBuffer||!!t&&"object"==typeof t&&t.constructor&&"ArrayBuffer"===t.constructor.name&&t.byteLength>=0)(t))t=Buffer.from(t);else if("string"!=typeof t)throw new Error("Non-contiguous data written to non-objectMode stream");var n;return this[P]?(this[w]&&0!==this[_]&&this[m](!0),this[w]?this.emit("data",t):this[k](t),0!==this[_]&&this.emit("readable"),r&&s(r),this[w]):t.length?("string"!=typeof t||e===this[y]&&!this[v]?.lastNeed||(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[y]&&(t=this[v].write(t)),this[w]&&0!==this[_]&&this[m](!0),this[w]?this.emit("data",t):this[k](t),0!==this[_]&&this.emit("readable"),r&&s(r),this[w]):(0!==this[_]&&this.emit("readable"),r&&s(r),this[w])}read(t){if(this[O])return null;if(this[L]=!1,0===this[_]||0===t||t&&t>this[_])return this[u](),null;this[P]&&(t=null),this[S].length>1&&!this[P]&&(this[S]=[this[y]?this[S].join(""):Buffer.concat(this[S],this[_])]);const e=this[p](t||null,this[S][0]);return this[u](),e}[p](t,e){if(this[P])this[x]();else{const r=e;t===r.length||null===t?this[x]():"string"==typeof r?(this[S][0]=r.slice(t),e=r.slice(0,t),this[_]-=t):(this[S][0]=r.subarray(t),e=r.subarray(0,t),this[_]-=t)}return this.emit("data",e),this[S].length||this[c]||this.emit("drain"),e}end(t,e,r){return"function"==typeof t&&(r=t,t=void 0),"function"==typeof e&&(r=e,e="utf8"),void 0!==t&&this.write(t,e),r&&this.once("end",r),this[c]=!0,this.writable=!1,!this[w]&&this[b]||this[u](),this}[A](){this[O]||(this[D]||this[E].length||(this[L]=!0),this[b]=!1,this[w]=!0,this.emit("resume"),this[S].length?this[m]():this[c]?this[u]():this.emit("drain"))}resume(){return this[A]()}pause(){this[w]=!1,this[b]=!0,this[L]=!1}get destroyed(){return this[O]}get flowing(){return this[w]}get paused(){return this[b]}[k](t){this[P]?this[_]+=1:this[_]+=t.length,this[S].push(t)}[x](){return this[P]?this[_]-=1:this[_]-=this[S][0].length,this[S].shift()}[m](t=!1){do{}while(this[g](this[x]())&&this[S].length);t||this[S].length||this[c]||this.emit("drain")}[g](t){return this.emit("data",t),this[w]}pipe(t,e){if(this[O])return t;this[L]=!1;const r=this[l];return e=e||{},t===n.stdout||t===n.stderr?e.end=!1:e.end=!1!==e.end,e.proxyErrors=!!e.proxyErrors,r?e.end&&t.end():(this[E].push(e.proxyErrors?new U(this,t,e):new B(this,t,e)),this[F]?I((()=>this[A]())):this[A]()),t}unpipe(t){const e=this[E].find((e=>e.dest===t));e&&(1===this[E].length?(this[w]&&0===this[D]&&(this[w]=!1),this[E]=[]):this[E].splice(this[E].indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){const r=super.on(t,e);if("data"===t)this[L]=!1,this[D]++,this[E].length||this[w]||this[A]();else if("readable"===t&&0!==this[_])super.emit("readable");else if((t=>"end"===t||"finish"===t||"prefinish"===t)(t)&&this[l])super.emit(t),this.removeAllListeners(t);else if("error"===t&&this[f]){const t=e;this[F]?I((()=>t.call(this,this[f]))):t.call(this,this[f])}return r}removeListener(t,e){return this.off(t,e)}off(t,e){const r=super.off(t,e);return"data"===t&&(this[D]=this.listeners("data").length,0!==this[D]||this[L]||this[E].length||(this[w]=!1)),r}removeAllListeners(t){const e=super.removeAllListeners(t);return"data"!==t&&void 0!==t||(this[D]=0,this[L]||this[E].length||(this[w]=!1)),e}get emittedEnd(){return this[l]}[u](){this[h]||this[l]||this[O]||0!==this[S].length||!this[c]||(this[h]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[d]&&this.emit("close"),this[h]=!1)}emit(t,...e){const r=e[0];if("error"!==t&&"close"!==t&&t!==O&&this[O])return!1;if("data"===t)return!(!this[P]&&!r)&&(this[F]?(I((()=>this[$](r))),!0):this[$](r));if("end"===t)return this[j]();if("close"===t){if(this[d]=!0,!this[l]&&!this[O])return!1;const t=super.emit("close");return this.removeAllListeners("close"),t}if("error"===t){this[f]=r,super.emit(C,r);const t=!(this[M]&&!this.listeners("error").length)&&super.emit("error",r);return this[u](),t}if("resume"===t){const t=super.emit("resume");return this[u](),t}if("finish"===t||"prefinish"===t){const e=super.emit(t);return this.removeAllListeners(t),e}const s=super.emit(t,...e);return this[u](),s}[$](t){for(const e of this[E])!1===e.dest.write(t)&&this.pause();const e=!this[L]&&super.emit("data",t);return this[u](),e}[j](){return!this[l]&&(this[l]=!0,this.readable=!1,this[F]?(I((()=>this[N]())),!0):this[N]())}[N](){if(this[v]){const t=this[v].end();if(t){for(const e of this[E])e.dest.write(t);this[L]||super.emit("data",t)}}for(const t of this[E])t.end();const t=super.emit("end");return this.removeAllListeners("end"),t}async collect(){const t=Object.assign([],{dataLength:0});this[P]||(t.dataLength=0);const e=this.promise();return this.on("data",(e=>{t.push(e),this[P]||(t.dataLength+=e.length)})),await e,t}async concat(){if(this[P])throw new Error("cannot concat in objectMode");const t=await this.collect();return this[y]?t.join(""):Buffer.concat(t,t.dataLength)}async promise(){return new Promise(((t,e)=>{this.on(O,(()=>e(new Error("stream destroyed")))),this.on("error",(t=>e(t))),this.on("end",(()=>t()))}))}[Symbol.asyncIterator](){this[L]=!1;let t=!1;const e=async()=>(this.pause(),t=!0,{value:void 0,done:!0});return{next:()=>{if(t)return e();const r=this.read();if(null!==r)return Promise.resolve({done:!1,value:r});if(this[c])return e();let s,n;const i=t=>{this.off("data",o),this.off("end",a),this.off(O,u),e(),n(t)},o=t=>{this.off("error",i),this.off("end",a),this.off(O,u),this.pause(),s({value:t,done:!!this[c]})},a=()=>{this.off("error",i),this.off("data",o),this.off(O,u),e(),s({done:!0,value:void 0})},u=()=>i(new Error("stream destroyed"));return new Promise(((t,e)=>{n=e,s=t,this.once(O,u),this.once("error",i),this.once("end",a),this.once("data",o)}))},throw:e,return:e,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[L]=!1;let t=!1;const e=()=>(this.pause(),this.off(C,e),this.off(O,e),this.off("end",e),t=!0,{done:!0,value:void 0});return this.once("end",e),this.once(C,e),this.once(O,e),{next:()=>{if(t)return e();const r=this.read();return null===r?e():{done:!1,value:r}},throw:e,return:e,[Symbol.iterator](){return this}}}destroy(t){return this[O]?(t?this.emit("error",t):this.emit(O),this):(this[O]=!0,this[L]=!0,this[S].length=0,this[_]=0,"function"!=typeof this.close||this[d]||this.close(),t?this.emit("error",t):this.emit(O),this)}static get isStream(){return e.isStream}}e.Minipass=V},2740:function(t,e,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,r,s){void 0===s&&(s=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,s,n)}:function(t,e,r,s){void 0===s&&(s=r),t[s]=e[r]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&s(e,t,r);return n(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.PathScurry=e.Path=e.PathScurryDarwin=e.PathScurryPosix=e.PathScurryWin32=e.PathScurryBase=e.PathPosix=e.PathWin32=e.PathBase=e.ChildrenCache=e.ResolveCache=void 0;const o=r(5705),a=r(1017),c=r(7310),u=i(r(7147)),l=r(7147),h=l.realpathSync.native,f=r(3292),d=r(4963),p={lstatSync:l.lstatSync,readdir:l.readdir,readdirSync:l.readdirSync,readlinkSync:l.readlinkSync,realpathSync:h,promises:{lstat:f.lstat,readdir:f.readdir,readlink:f.readlink,realpath:f.realpath}},m=t=>t&&t!==p&&t!==u?{...p,...t,promises:{...p.promises,...t.promises||{}}}:p,g=/^\\\\\?\\([a-z]:)\\?$/i,y=/[\\\/]/,v=10,w=15,b=-16,A=128,S=t=>t.isFile()?8:t.isDirectory()?4:t.isSymbolicLink()?v:t.isCharacterDevice()?2:t.isBlockDevice()?6:t.isSocket()?12:t.isFIFO()?1:0,E=new Map,_=t=>{const e=E.get(t);if(e)return e;const r=t.normalize("NFKD");return E.set(t,r),r},k=new Map,x=t=>{const e=k.get(t);if(e)return e;const r=_(t.toLowerCase());return k.set(t,r),r};class P extends o.LRUCache{constructor(){super({max:256})}}e.ResolveCache=P;class O extends o.LRUCache{constructor(t=16384){super({maxSize:t,sizeCalculation:t=>t.length+1})}}e.ChildrenCache=O;const C=Symbol("PathScurry setAsCwd");class ${name;root;roots;parent;nocase;#$;#j;get dev(){return this.#j}#N;get mode(){return this.#N}#F;get nlink(){return this.#F}#T;get uid(){return this.#T}#R;get gid(){return this.#R}#M;get rdev(){return this.#M}#D;get blksize(){return this.#D}#L;get ino(){return this.#L}#I;get size(){return this.#I}#z;get blocks(){return this.#z}#B;get atimeMs(){return this.#B}#U;get mtimeMs(){return this.#U}#V;get ctimeMs(){return this.#V}#G;get birthtimeMs(){return this.#G}#W;get atime(){return this.#W}#H;get mtime(){return this.#H}#Q;get ctime(){return this.#Q}#q;get birthtime(){return this.#q}#J;#K;#X;#Y;#Z;#tt;#et;#rt;#st;#nt;get path(){return(this.parent||this).fullpath()}constructor(t,e=0,r,s,n,i,o){this.name=t,this.#J=n?x(t):_(t),this.#et=1023&e,this.nocase=n,this.roots=s,this.root=r||this,this.#rt=i,this.#X=o.fullpath,this.#Z=o.relative,this.#tt=o.relativePosix,this.parent=o.parent,this.parent?this.#$=this.parent.#$:this.#$=m(o.fs)}depth(){return void 0!==this.#K?this.#K:this.parent?this.#K=this.parent.depth()+1:this.#K=0}childrenCache(){return this.#rt}resolve(t){if(!t)return this;const e=this.getRootString(t),r=t.substring(e.length).split(this.splitSep);return e?this.getRoot(e).#it(r):this.#it(r)}#it(t){let e=this;for(const r of t)e=e.child(r);return e}children(){const t=this.#rt.get(this);if(t)return t;const e=Object.assign([],{provisional:0});return this.#rt.set(this,e),this.#et&=-17,e}child(t,e){if(""===t||"."===t)return this;if(".."===t)return this.parent||this;const r=this.children(),s=this.nocase?x(t):_(t);for(const t of r)if(t.#J===s)return t;const n=this.parent?this.sep:"",i=this.#X?this.#X+n+t:void 0,o=this.newChild(t,0,{...e,parent:this,fullpath:i});return this.canReaddir()||(o.#et|=A),r.push(o),o}relative(){if(void 0!==this.#Z)return this.#Z;const t=this.name,e=this.parent;if(!e)return this.#Z=this.name;const r=e.relative();return r+(r&&e.parent?this.sep:"")+t}relativePosix(){if("/"===this.sep)return this.relative();if(void 0!==this.#tt)return this.#tt;const t=this.name,e=this.parent;if(!e)return this.#tt=this.fullpathPosix();const r=e.relativePosix();return r+(r&&e.parent?"/":"")+t}fullpath(){if(void 0!==this.#X)return this.#X;const t=this.name,e=this.parent;if(!e)return this.#X=this.name;const r=e.fullpath()+(e.parent?this.sep:"")+t;return this.#X=r}fullpathPosix(){if(void 0!==this.#Y)return this.#Y;if("/"===this.sep)return this.#Y=this.fullpath();if(!this.parent){const t=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(t)?this.#Y=`//?/${t}`:this.#Y=t}const t=this.parent,e=t.fullpathPosix(),r=e+(e&&t.parent?"/":"")+this.name;return this.#Y=r}isUnknown(){return 0==(this.#et&w)}isType(t){return this[`is${t}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return 8==(this.#et&w)}isDirectory(){return 4==(this.#et&w)}isCharacterDevice(){return 2==(this.#et&w)}isBlockDevice(){return 6==(this.#et&w)}isFIFO(){return 1==(this.#et&w)}isSocket(){return 12==(this.#et&w)}isSymbolicLink(){return(this.#et&v)===v}lstatCached(){return 32&this.#et?this:void 0}readlinkCached(){return this.#st}realpathCached(){return this.#nt}readdirCached(){const t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(this.#st)return!0;if(!this.parent)return!1;const t=this.#et&w;return!(0!==t&&t!==v||256&this.#et||this.#et&A)}calledReaddir(){return!!(16&this.#et)}isENOENT(){return!!(this.#et&A)}isNamed(t){return this.nocase?this.#J===x(t):this.#J===_(t)}async readlink(){const t=this.#st;if(t)return t;if(this.canReadlink()&&this.parent)try{const t=await this.#$.promises.readlink(this.fullpath()),e=this.parent.resolve(t);if(e)return this.#st=e}catch(t){return void this.#ot(t.code)}}readlinkSync(){const t=this.#st;if(t)return t;if(this.canReadlink()&&this.parent)try{const t=this.#$.readlinkSync(this.fullpath()),e=this.parent.resolve(t);if(e)return this.#st=e}catch(t){return void this.#ot(t.code)}}#at(t){this.#et|=16;for(let e=t.provisional;e<t.length;e++)t[e].#ct()}#ct(){this.#et&A||(this.#et=(this.#et|A)&b,this.#ut())}#ut(){const t=this.children();t.provisional=0;for(const e of t)e.#ct()}#lt(){this.#et|=512,this.#ht()}#ht(){if(64&this.#et)return;let t=this.#et;4==(t&w)&&(t&=b),this.#et=64|t,this.#ut()}#ft(t=""){"ENOTDIR"===t||"EPERM"===t?this.#ht():"ENOENT"===t?this.#ct():this.children().provisional=0}#dt(t=""){"ENOTDIR"===t?this.parent.#ht():"ENOENT"===t&&this.#ct()}#ot(t=""){let e=this.#et;e|=256,"ENOENT"===t&&(e|=A),"EINVAL"!==t&&"UNKNOWN"!==t||(e&=b),this.#et=e,"ENOTDIR"===t&&this.parent&&this.parent.#ht()}#pt(t,e){return this.#mt(t,e)||this.#gt(t,e)}#gt(t,e){const r=S(t),s=this.newChild(t.name,r,{parent:this}),n=s.#et&w;return 4!==n&&n!==v&&0!==n&&(s.#et|=64),e.unshift(s),e.provisional++,s}#mt(t,e){for(let r=e.provisional;r<e.length;r++){const s=e[r];if((this.nocase?x(t.name):_(t.name))===s.#J)return this.#yt(t,s,r,e)}}#yt(t,e,r,s){const n=e.name;return e.#et=e.#et&b|S(t),n!==t.name&&(e.name=t.name),r!==s.provisional&&(r===s.length-1?s.pop():s.splice(r,1),s.unshift(e)),s.provisional++,e}async lstat(){if(0==(this.#et&A))try{return this.#vt(await this.#$.promises.lstat(this.fullpath())),this}catch(t){this.#dt(t.code)}}lstatSync(){if(0==(this.#et&A))try{return this.#vt(this.#$.lstatSync(this.fullpath())),this}catch(t){this.#dt(t.code)}}#vt(t){const{atime:e,atimeMs:r,birthtime:s,birthtimeMs:n,blksize:i,blocks:o,ctime:a,ctimeMs:c,dev:u,gid:l,ino:h,mode:f,mtime:d,mtimeMs:p,nlink:m,rdev:g,size:y,uid:w}=t;this.#W=e,this.#B=r,this.#q=s,this.#G=n,this.#D=i,this.#z=o,this.#Q=a,this.#V=c,this.#j=u,this.#R=l,this.#L=h,this.#N=f,this.#H=d,this.#U=p,this.#F=m,this.#M=g,this.#I=y,this.#T=w;const A=S(t);this.#et=this.#et&b|A|32,0!==A&&4!==A&&A!==v&&(this.#et|=64)}#wt=[];#bt=!1;#At(t){this.#bt=!1;const e=this.#wt.slice();this.#wt.length=0,e.forEach((e=>e(null,t)))}readdirCB(t,e=!1){if(!this.canReaddir())return void(e?t(null,[]):queueMicrotask((()=>t(null,[]))));const r=this.children();if(this.calledReaddir()){const s=r.slice(0,r.provisional);return void(e?t(null,s):queueMicrotask((()=>t(null,s))))}if(this.#wt.push(t),this.#bt)return;this.#bt=!0;const s=this.fullpath();this.#$.readdir(s,{withFileTypes:!0},((t,e)=>{if(t)this.#ft(t.code),r.provisional=0;else{for(const t of e)this.#pt(t,r);this.#at(r)}this.#At(r.slice(0,r.provisional))}))}#St;async readdir(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();if(this.#St)await this.#St;else{let r=()=>{};this.#St=new Promise((t=>r=t));try{for(const r of await this.#$.promises.readdir(e,{withFileTypes:!0}))this.#pt(r,t);this.#at(t)}catch(e){this.#ft(e.code),t.provisional=0}this.#St=void 0,r()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();try{for(const r of this.#$.readdirSync(e,{withFileTypes:!0}))this.#pt(r,t);this.#at(t)}catch(e){this.#ft(e.code),t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(704&this.#et)return!1;const t=w&this.#et;return 0===t||4===t||t===v}shouldWalk(t,e){return 4==(4&this.#et)&&!(704&this.#et)&&!t.has(this)&&(!e||e(this))}async realpath(){if(this.#nt)return this.#nt;if(!(896&this.#et))try{const t=await this.#$.promises.realpath(this.fullpath());return this.#nt=this.resolve(t)}catch(t){this.#lt()}}realpathSync(){if(this.#nt)return this.#nt;if(!(896&this.#et))try{const t=this.#$.realpathSync(this.fullpath());return this.#nt=this.resolve(t)}catch(t){this.#lt()}}[C](t){if(t===this)return;const e=new Set([]);let r=[],s=this;for(;s&&s.parent;)e.add(s),s.#Z=r.join(this.sep),s.#tt=r.join("/"),s=s.parent,r.push("..");for(s=t;s&&s.parent&&!e.has(s);)s.#Z=void 0,s.#tt=void 0,s=s.parent}}e.PathBase=$;class j extends ${sep="\\";splitSep=y;constructor(t,e=0,r,s,n,i,o){super(t,e,r,s,n,i,o)}newChild(t,e=0,r={}){return new j(t,e,this.root,this.roots,this.nocase,this.childrenCache(),r)}getRootString(t){return a.win32.parse(t).root}getRoot(t){if((t=(t=>t.replace(/\//g,"\\").replace(g,"$1\\"))(t.toUpperCase()))===this.root.name)return this.root;for(const[e,r]of Object.entries(this.roots))if(this.sameRoot(t,e))return this.roots[t]=r;return this.roots[t]=new T(t,this).root}sameRoot(t,e=this.root.name){return(t=t.toUpperCase().replace(/\//g,"\\").replace(g,"$1\\"))===e}}e.PathWin32=j;class N extends ${splitSep="/";sep="/";constructor(t,e=0,r,s,n,i,o){super(t,e,r,s,n,i,o)}getRootString(t){return t.startsWith("/")?"/":""}getRoot(t){return this.root}newChild(t,e=0,r={}){return new N(t,e,this.root,this.roots,this.nocase,this.childrenCache(),r)}}e.PathPosix=N;class F{root;rootPath;roots;cwd;#Et;#_t;#rt;nocase;#$;constructor(t=process.cwd(),e,r,{nocase:s,childrenCacheSize:n=16384,fs:i=p}={}){this.#$=m(i),(t instanceof URL||t.startsWith("file://"))&&(t=(0,c.fileURLToPath)(t));const o=e.resolve(t);this.roots=Object.create(null),this.rootPath=this.parseRootPath(o),this.#Et=new P,this.#_t=new P,this.#rt=new O(n);const a=o.substring(this.rootPath.length).split(r);if(1!==a.length||a[0]||a.pop(),void 0===s)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=s,this.root=this.newRoot(this.#$),this.roots[this.rootPath]=this.root;let u=this.root,l=a.length-1;const h=e.sep;let f=this.rootPath,d=!1;for(const t of a){const e=l--;u=u.child(t,{relative:new Array(e).fill("..").join(h),relativePosix:new Array(e).fill("..").join("/"),fullpath:f+=(d?"":h)+t}),d=!0}this.cwd=u}depth(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.depth()}childrenCache(){return this.#rt}resolve(...t){let e="";for(let r=t.length-1;r>=0;r--){const s=t[r];if(s&&"."!==s&&(e=e?`${s}/${e}`:s,this.isAbsolute(s)))break}const r=this.#Et.get(e);if(void 0!==r)return r;const s=this.cwd.resolve(e).fullpath();return this.#Et.set(e,s),s}resolvePosix(...t){let e="";for(let r=t.length-1;r>=0;r--){const s=t[r];if(s&&"."!==s&&(e=e?`${s}/${e}`:s,this.isAbsolute(s)))break}const r=this.#_t.get(e);if(void 0!==r)return r;const s=this.cwd.resolve(e).fullpathPosix();return this.#_t.set(e,s),s}relative(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.relative()}relativePosix(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.relativePosix()}basename(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.name}dirname(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),(t.parent||t).fullpath()}async readdir(t=this.cwd,e={withFileTypes:!0}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof $||(e=t,t=this.cwd);const{withFileTypes:r}=e;if(t.canReaddir()){const e=await t.readdir();return r?e:e.map((t=>t.name))}return[]}readdirSync(t=this.cwd,e={withFileTypes:!0}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof $||(e=t,t=this.cwd);const{withFileTypes:r=!0}=e;return t.canReaddir()?r?t.readdirSync():t.readdirSync().map((t=>t.name)):[]}async lstat(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.lstat()}lstatSync(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof $||(e=t.withFileTypes,t=this.cwd);const r=await t.readlink();return e?r:r?.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof $||(e=t.withFileTypes,t=this.cwd);const r=t.readlinkSync();return e?r:r?.fullpath()}async realpath(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof $||(e=t.withFileTypes,t=this.cwd);const r=await t.realpath();return e?r:r?.fullpath()}realpathSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof $||(e=t.withFileTypes,t=this.cwd);const r=t.realpathSync();return e?r:r?.fullpath()}async walk(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof $||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:s=!1,filter:n,walkFilter:i}=e,o=[];n&&!n(t)||o.push(r?t:t.fullpath());const a=new Set,c=(t,e)=>{a.add(t),t.readdirCB(((t,u)=>{if(t)return e(t);let l=u.length;if(!l)return e();const h=()=>{0==--l&&e()};for(const t of u)n&&!n(t)||o.push(r?t:t.fullpath()),s&&t.isSymbolicLink()?t.realpath().then((t=>t?.isUnknown()?t.lstat():t)).then((t=>t?.shouldWalk(a,i)?c(t,h):h())):t.shouldWalk(a,i)?c(t,h):h()}),!0)},u=t;return new Promise(((t,e)=>{c(u,(r=>{if(r)return e(r);t(o)}))}))}walkSync(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof $||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:s=!1,filter:n,walkFilter:i}=e,o=[];n&&!n(t)||o.push(r?t:t.fullpath());const a=new Set([t]);for(const t of a){const e=t.readdirSync();for(const t of e){n&&!n(t)||o.push(r?t:t.fullpath());let e=t;if(t.isSymbolicLink()){if(!s||!(e=t.realpathSync()))continue;e.isUnknown()&&e.lstatSync()}e.shouldWalk(a,i)&&a.add(e)}}return o}[Symbol.asyncIterator](){return this.iterate()}iterate(t=this.cwd,e={}){return"string"==typeof t?t=this.cwd.resolve(t):t instanceof $||(e=t,t=this.cwd),this.stream(t,e)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof $||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:s=!1,filter:n,walkFilter:i}=e;n&&!n(t)||(yield r?t:t.fullpath());const o=new Set([t]);for(const t of o){const e=t.readdirSync();for(const t of e){n&&!n(t)||(yield r?t:t.fullpath());let e=t;if(t.isSymbolicLink()){if(!s||!(e=t.realpathSync()))continue;e.isUnknown()&&e.lstatSync()}e.shouldWalk(o,i)&&o.add(e)}}}stream(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof $||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:s=!1,filter:n,walkFilter:i}=e,o=new d.Minipass({objectMode:!0});n&&!n(t)||o.write(r?t:t.fullpath());const a=new Set,c=[t];let u=0;const l=()=>{let t=!1;for(;!t;){const e=c.shift();if(!e)return void(0===u&&o.end());u++,a.add(e);const h=(e,d,p=!1)=>{if(e)return o.emit("error",e);if(s&&!p){const t=[];for(const e of d)e.isSymbolicLink()&&t.push(e.realpath().then((t=>t?.isUnknown()?t.lstat():t)));if(t.length)return void Promise.all(t).then((()=>h(null,d,!0)))}for(const e of d)!e||n&&!n(e)||o.write(r?e:e.fullpath())||(t=!0);u--;for(const t of d){const e=t.realpathCached()||t;e.shouldWalk(a,i)&&c.push(e)}t&&!o.flowing?o.once("drain",l):f||l()};let f=!0;e.readdirCB(h,!0),f=!1}};return l(),o}streamSync(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof $||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:s=!1,filter:n,walkFilter:i}=e,o=new d.Minipass({objectMode:!0}),a=new Set;n&&!n(t)||o.write(r?t:t.fullpath());const c=[t];let u=0;const l=()=>{let t=!1;for(;!t;){const e=c.shift();if(!e)return void(0===u&&o.end());u++,a.add(e);const l=e.readdirSync();for(const e of l)n&&!n(e)||o.write(r?e:e.fullpath())||(t=!0);u--;for(const t of l){let e=t;if(t.isSymbolicLink()){if(!s||!(e=t.realpathSync()))continue;e.isUnknown()&&e.lstatSync()}e.shouldWalk(a,i)&&c.push(e)}}t&&!o.flowing&&o.once("drain",l)};return l(),o}chdir(t=this.cwd){const e=this.cwd;this.cwd="string"==typeof t?this.cwd.resolve(t):t,this.cwd[C](e)}}e.PathScurryBase=F;class T extends F{sep="\\";constructor(t=process.cwd(),e={}){const{nocase:r=!0}=e;super(t,a.win32,"\\",{...e,nocase:r}),this.nocase=r;for(let t=this.cwd;t;t=t.parent)t.nocase=this.nocase}parseRootPath(t){return a.win32.parse(t).root.toUpperCase()}newRoot(t){return new j(this.rootPath,4,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")||t.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(t)}}e.PathScurryWin32=T;class R extends F{sep="/";constructor(t=process.cwd(),e={}){const{nocase:r=!1}=e;super(t,a.posix,"/",{...e,nocase:r}),this.nocase=r}parseRootPath(t){return"/"}newRoot(t){return new N(this.rootPath,4,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")}}e.PathScurryPosix=R;class M extends R{constructor(t=process.cwd(),e={}){const{nocase:r=!0}=e;super(t,{...e,nocase:r})}}e.PathScurryDarwin=M,e.Path="win32"===process.platform?j:N,e.PathScurry="win32"===process.platform?T:"darwin"===process.platform?M:R},5705:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=void 0;const r="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,s=new Set,n="object"==typeof process&&process?process:{},i=(t,e,r,s)=>{"function"==typeof n.emitWarning?n.emitWarning(t,e,r,s):console.error(`[${r}] ${e}: ${t}`)};let o=globalThis.AbortController,a=globalThis.AbortSignal;if(void 0===o){a=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(t,e){this._onabort.push(e)}},o=class{constructor(){e()}signal=new a;abort(t){if(!this.signal.aborted){this.signal.reason=t,this.signal.aborted=!0;for(const e of this.signal._onabort)e(t);this.signal.onabort?.(t)}}};let t="1"!==n.env?.LRU_CACHE_IGNORE_AC_WARNING;const e=()=>{t&&(t=!1,i("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}Symbol("type");const c=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),u=t=>c(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?l:null:null;class l extends Array{constructor(t){super(t),this.fill(0)}}class h{heap;length;static#kt=!1;static create(t){const e=u(t);if(!e)return[];h.#kt=!0;const r=new h(t,e);return h.#kt=!1,r}constructor(t,e){if(!h.#kt)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class f{#xt;#Pt;#Ot;#Ct;#$t;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#I;#jt;#Nt;#Ft;#Tt;#Rt;#Mt;#Dt;#Lt;#It;#zt;#Bt;#Ut;#Vt;#Gt;#Wt;#Ht;static unsafeExposeInternals(t){return{starts:t.#Ut,ttls:t.#Vt,sizes:t.#Bt,keyMap:t.#Nt,keyList:t.#Ft,valList:t.#Tt,next:t.#Rt,prev:t.#Mt,get head(){return t.#Dt},get tail(){return t.#Lt},free:t.#It,isBackgroundFetch:e=>t.#Qt(e),backgroundFetch:(e,r,s,n)=>t.#qt(e,r,s,n),moveToTail:e=>t.#Jt(e),indexes:e=>t.#Kt(e),rindexes:e=>t.#Xt(e),isStale:e=>t.#Yt(e)}}get max(){return this.#xt}get maxSize(){return this.#Pt}get calculatedSize(){return this.#jt}get size(){return this.#I}get fetchMethod(){return this.#$t}get dispose(){return this.#Ot}get disposeAfter(){return this.#Ct}constructor(t){const{max:e=0,ttl:r,ttlResolution:n=1,ttlAutopurge:o,updateAgeOnGet:a,updateAgeOnHas:l,allowStale:d,dispose:p,disposeAfter:m,noDisposeOnSet:g,noUpdateTTL:y,maxSize:v=0,maxEntrySize:w=0,sizeCalculation:b,fetchMethod:A,noDeleteOnFetchRejection:S,noDeleteOnStaleGet:E,allowStaleOnFetchRejection:_,allowStaleOnFetchAbort:k,ignoreFetchAbort:x}=t;if(0!==e&&!c(e))throw new TypeError("max option must be a nonnegative integer");const P=e?u(e):Array;if(!P)throw new Error("invalid max value: "+e);if(this.#xt=e,this.#Pt=v,this.maxEntrySize=w||this.#Pt,this.sizeCalculation=b,this.sizeCalculation){if(!this.#Pt&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==A&&"function"!=typeof A)throw new TypeError("fetchMethod must be a function if specified");if(this.#$t=A,this.#Wt=!!A,this.#Nt=new Map,this.#Ft=new Array(e).fill(void 0),this.#Tt=new Array(e).fill(void 0),this.#Rt=new P(e),this.#Mt=new P(e),this.#Dt=0,this.#Lt=0,this.#It=h.create(e),this.#I=0,this.#jt=0,"function"==typeof p&&(this.#Ot=p),"function"==typeof m?(this.#Ct=m,this.#zt=[]):(this.#Ct=void 0,this.#zt=void 0),this.#Gt=!!this.#Ot,this.#Ht=!!this.#Ct,this.noDisposeOnSet=!!g,this.noUpdateTTL=!!y,this.noDeleteOnFetchRejection=!!S,this.allowStaleOnFetchRejection=!!_,this.allowStaleOnFetchAbort=!!k,this.ignoreFetchAbort=!!x,0!==this.maxEntrySize){if(0!==this.#Pt&&!c(this.#Pt))throw new TypeError("maxSize must be a positive integer if specified");if(!c(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#Zt()}if(this.allowStale=!!d,this.noDeleteOnStaleGet=!!E,this.updateAgeOnGet=!!a,this.updateAgeOnHas=!!l,this.ttlResolution=c(n)||0===n?n:1,this.ttlAutopurge=!!o,this.ttl=r||0,this.ttl){if(!c(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#te()}if(0===this.#xt&&0===this.ttl&&0===this.#Pt)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#xt&&!this.#Pt){const t="LRU_CACHE_UNBOUNDED";(t=>!s.has(t))(t)&&(s.add(t),i("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",t,f))}}getRemainingTTL(t){return this.#Nt.has(t)?1/0:0}#te(){const t=new l(this.#xt),e=new l(this.#xt);this.#Vt=t,this.#Ut=e,this.#ee=(s,n,i=r.now())=>{if(e[s]=0!==n?i:0,t[s]=n,0!==n&&this.ttlAutopurge){const t=setTimeout((()=>{this.#Yt(s)&&this.delete(this.#Ft[s])}),n+1);t.unref&&t.unref()}},this.#re=s=>{e[s]=0!==t[s]?r.now():0},this.#se=(r,i)=>{if(t[i]){const o=t[i],a=e[i];r.ttl=o,r.start=a,r.now=s||n();const c=r.now-a;r.remainingTTL=o-c}};let s=0;const n=()=>{const t=r.now();if(this.ttlResolution>0){s=t;const e=setTimeout((()=>s=0),this.ttlResolution);e.unref&&e.unref()}return t};this.getRemainingTTL=r=>{const i=this.#Nt.get(r);if(void 0===i)return 0;const o=t[i],a=e[i];return 0===o||0===a?1/0:o-((s||n())-a)},this.#Yt=r=>0!==t[r]&&0!==e[r]&&(s||n())-e[r]>t[r]}#re=()=>{};#se=()=>{};#ee=()=>{};#Yt=()=>!1;#Zt(){const t=new l(this.#xt);this.#jt=0,this.#Bt=t,this.#ne=e=>{this.#jt-=t[e],t[e]=0},this.#ie=(t,e,r,s)=>{if(this.#Qt(e))return 0;if(!c(r)){if(!s)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof s)throw new TypeError("sizeCalculation must be a function");if(r=s(e,t),!c(r))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return r},this.#oe=(e,r,s)=>{if(t[e]=r,this.#Pt){const r=this.#Pt-t[e];for(;this.#jt>r;)this.#ae(!0)}this.#jt+=t[e],s&&(s.entrySize=r,s.totalCalculatedSize=this.#jt)}}#ne=t=>{};#oe=(t,e,r)=>{};#ie=(t,e,r,s)=>{if(r||s)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#Kt({allowStale:t=this.allowStale}={}){if(this.#I)for(let e=this.#Lt;this.#ce(e)&&(!t&&this.#Yt(e)||(yield e),e!==this.#Dt);)e=this.#Mt[e]}*#Xt({allowStale:t=this.allowStale}={}){if(this.#I)for(let e=this.#Dt;this.#ce(e)&&(!t&&this.#Yt(e)||(yield e),e!==this.#Lt);)e=this.#Rt[e]}#ce(t){return void 0!==t&&this.#Nt.get(this.#Ft[t])===t}*entries(){for(const t of this.#Kt())void 0===this.#Tt[t]||void 0===this.#Ft[t]||this.#Qt(this.#Tt[t])||(yield[this.#Ft[t],this.#Tt[t]])}*rentries(){for(const t of this.#Xt())void 0===this.#Tt[t]||void 0===this.#Ft[t]||this.#Qt(this.#Tt[t])||(yield[this.#Ft[t],this.#Tt[t]])}*keys(){for(const t of this.#Kt()){const e=this.#Ft[t];void 0===e||this.#Qt(this.#Tt[t])||(yield e)}}*rkeys(){for(const t of this.#Xt()){const e=this.#Ft[t];void 0===e||this.#Qt(this.#Tt[t])||(yield e)}}*values(){for(const t of this.#Kt())void 0===this.#Tt[t]||this.#Qt(this.#Tt[t])||(yield this.#Tt[t])}*rvalues(){for(const t of this.#Xt())void 0===this.#Tt[t]||this.#Qt(this.#Tt[t])||(yield this.#Tt[t])}[Symbol.iterator](){return this.entries()}find(t,e={}){for(const r of this.#Kt()){const s=this.#Tt[r],n=this.#Qt(s)?s.__staleWhileFetching:s;if(void 0!==n&&t(n,this.#Ft[r],this))return this.get(this.#Ft[r],e)}}forEach(t,e=this){for(const r of this.#Kt()){const s=this.#Tt[r],n=this.#Qt(s)?s.__staleWhileFetching:s;void 0!==n&&t.call(e,n,this.#Ft[r],this)}}rforEach(t,e=this){for(const r of this.#Xt()){const s=this.#Tt[r],n=this.#Qt(s)?s.__staleWhileFetching:s;void 0!==n&&t.call(e,n,this.#Ft[r],this)}}purgeStale(){let t=!1;for(const e of this.#Xt({allowStale:!0}))this.#Yt(e)&&(this.delete(this.#Ft[e]),t=!0);return t}dump(){const t=[];for(const e of this.#Kt({allowStale:!0})){const s=this.#Ft[e],n=this.#Tt[e],i=this.#Qt(n)?n.__staleWhileFetching:n;if(void 0===i||void 0===s)continue;const o={value:i};if(this.#Vt&&this.#Ut){o.ttl=this.#Vt[e];const t=r.now()-this.#Ut[e];o.start=Math.floor(Date.now()-t)}this.#Bt&&(o.size=this.#Bt[e]),t.unshift([s,o])}return t}load(t){this.clear();for(const[e,s]of t){if(s.start){const t=Date.now()-s.start;s.start=r.now()-t}this.set(e,s.value,s)}}set(t,e,r={}){if(void 0===e)return this.delete(t),this;const{ttl:s=this.ttl,start:n,noDisposeOnSet:i=this.noDisposeOnSet,sizeCalculation:o=this.sizeCalculation,status:a}=r;let{noUpdateTTL:c=this.noUpdateTTL}=r;const u=this.#ie(t,e,r.size||0,o);if(this.maxEntrySize&&u>this.maxEntrySize)return a&&(a.set="miss",a.maxEntrySizeExceeded=!0),this.delete(t),this;let l=0===this.#I?void 0:this.#Nt.get(t);if(void 0===l)l=0===this.#I?this.#Lt:0!==this.#It.length?this.#It.pop():this.#I===this.#xt?this.#ae(!1):this.#I,this.#Ft[l]=t,this.#Tt[l]=e,this.#Nt.set(t,l),this.#Rt[this.#Lt]=l,this.#Mt[l]=this.#Lt,this.#Lt=l,this.#I++,this.#oe(l,u,a),a&&(a.set="add"),c=!1;else{this.#Jt(l);const r=this.#Tt[l];if(e!==r){if(this.#Wt&&this.#Qt(r)){r.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:e}=r;void 0===e||i||(this.#Gt&&this.#Ot?.(e,t,"set"),this.#Ht&&this.#zt?.push([e,t,"set"]))}else i||(this.#Gt&&this.#Ot?.(r,t,"set"),this.#Ht&&this.#zt?.push([r,t,"set"]));if(this.#ne(l),this.#oe(l,u,a),this.#Tt[l]=e,a){a.set="replace";const t=r&&this.#Qt(r)?r.__staleWhileFetching:r;void 0!==t&&(a.oldValue=t)}}else a&&(a.set="update")}if(0===s||this.#Vt||this.#te(),this.#Vt&&(c||this.#ee(l,s,n),a&&this.#se(a,l)),!i&&this.#Ht&&this.#zt){const t=this.#zt;let e;for(;e=t?.shift();)this.#Ct?.(...e)}return this}pop(){try{for(;this.#I;){const t=this.#Tt[this.#Dt];if(this.#ae(!0),this.#Qt(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(void 0!==t)return t}}finally{if(this.#Ht&&this.#zt){const t=this.#zt;let e;for(;e=t?.shift();)this.#Ct?.(...e)}}}#ae(t){const e=this.#Dt,r=this.#Ft[e],s=this.#Tt[e];return this.#Wt&&this.#Qt(s)?s.__abortController.abort(new Error("evicted")):(this.#Gt||this.#Ht)&&(this.#Gt&&this.#Ot?.(s,r,"evict"),this.#Ht&&this.#zt?.push([s,r,"evict"])),this.#ne(e),t&&(this.#Ft[e]=void 0,this.#Tt[e]=void 0,this.#It.push(e)),1===this.#I?(this.#Dt=this.#Lt=0,this.#It.length=0):this.#Dt=this.#Rt[e],this.#Nt.delete(r),this.#I--,e}has(t,e={}){const{updateAgeOnHas:r=this.updateAgeOnHas,status:s}=e,n=this.#Nt.get(t);if(void 0!==n){const t=this.#Tt[n];if(this.#Qt(t)&&void 0===t.__staleWhileFetching)return!1;if(!this.#Yt(n))return r&&this.#re(n),s&&(s.has="hit",this.#se(s,n)),!0;s&&(s.has="stale",this.#se(s,n))}else s&&(s.has="miss");return!1}peek(t,e={}){const{allowStale:r=this.allowStale}=e,s=this.#Nt.get(t);if(void 0!==s&&(r||!this.#Yt(s))){const t=this.#Tt[s];return this.#Qt(t)?t.__staleWhileFetching:t}}#qt(t,e,r,s){const n=void 0===e?void 0:this.#Tt[e];if(this.#Qt(n))return n;const i=new o,{signal:a}=r;a?.addEventListener("abort",(()=>i.abort(a.reason)),{signal:i.signal});const c={signal:i.signal,options:r,context:s},u=(s,n=!1)=>{const{aborted:o}=i.signal,a=r.ignoreFetchAbort&&void 0!==s;if(r.status&&(o&&!n?(r.status.fetchAborted=!0,r.status.fetchError=i.signal.reason,a&&(r.status.fetchAbortIgnored=!0)):r.status.fetchResolved=!0),o&&!a&&!n)return l(i.signal.reason);const u=h;return this.#Tt[e]===h&&(void 0===s?u.__staleWhileFetching?this.#Tt[e]=u.__staleWhileFetching:this.delete(t):(r.status&&(r.status.fetchUpdated=!0),this.set(t,s,c.options))),s},l=s=>{const{aborted:n}=i.signal,o=n&&r.allowStaleOnFetchAbort,a=o||r.allowStaleOnFetchRejection,c=a||r.noDeleteOnFetchRejection,u=h;if(this.#Tt[e]===h&&(c&&void 0!==u.__staleWhileFetching?o||(this.#Tt[e]=u.__staleWhileFetching):this.delete(t)),a)return r.status&&void 0!==u.__staleWhileFetching&&(r.status.returnedStale=!0),u.__staleWhileFetching;if(u.__returned===u)throw s};r.status&&(r.status.fetchDispatched=!0);const h=new Promise(((e,s)=>{const o=this.#$t?.(t,n,c);o&&o instanceof Promise&&o.then((t=>e(void 0===t?void 0:t)),s),i.signal.addEventListener("abort",(()=>{r.ignoreFetchAbort&&!r.allowStaleOnFetchAbort||(e(void 0),r.allowStaleOnFetchAbort&&(e=t=>u(t,!0)))}))})).then(u,(t=>(r.status&&(r.status.fetchRejected=!0,r.status.fetchError=t),l(t)))),f=Object.assign(h,{__abortController:i,__staleWhileFetching:n,__returned:void 0});return void 0===e?(this.set(t,f,{...c.options,status:void 0}),e=this.#Nt.get(t)):this.#Tt[e]=f,f}#Qt(t){if(!this.#Wt)return!1;const e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof o}async fetch(t,e={}){const{allowStale:r=this.allowStale,updateAgeOnGet:s=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,ttl:i=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:a=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:l=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:h=this.allowStaleOnFetchRejection,ignoreFetchAbort:f=this.ignoreFetchAbort,allowStaleOnFetchAbort:d=this.allowStaleOnFetchAbort,context:p,forceRefresh:m=!1,status:g,signal:y}=e;if(!this.#Wt)return g&&(g.fetch="get"),this.get(t,{allowStale:r,updateAgeOnGet:s,noDeleteOnStaleGet:n,status:g});const v={allowStale:r,updateAgeOnGet:s,noDeleteOnStaleGet:n,ttl:i,noDisposeOnSet:o,size:a,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:l,allowStaleOnFetchRejection:h,allowStaleOnFetchAbort:d,ignoreFetchAbort:f,status:g,signal:y};let w=this.#Nt.get(t);if(void 0===w){g&&(g.fetch="miss");const e=this.#qt(t,w,v,p);return e.__returned=e}{const e=this.#Tt[w];if(this.#Qt(e)){const t=r&&void 0!==e.__staleWhileFetching;return g&&(g.fetch="inflight",t&&(g.returnedStale=!0)),t?e.__staleWhileFetching:e.__returned=e}const n=this.#Yt(w);if(!m&&!n)return g&&(g.fetch="hit"),this.#Jt(w),s&&this.#re(w),g&&this.#se(g,w),e;const i=this.#qt(t,w,v,p),o=void 0!==i.__staleWhileFetching&&r;return g&&(g.fetch=n?"stale":"refresh",o&&n&&(g.returnedStale=!0)),o?i.__staleWhileFetching:i.__returned=i}}get(t,e={}){const{allowStale:r=this.allowStale,updateAgeOnGet:s=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,status:i}=e,o=this.#Nt.get(t);if(void 0!==o){const e=this.#Tt[o],a=this.#Qt(e);return i&&this.#se(i,o),this.#Yt(o)?(i&&(i.get="stale"),a?(i&&r&&void 0!==e.__staleWhileFetching&&(i.returnedStale=!0),r?e.__staleWhileFetching:void 0):(n||this.delete(t),i&&r&&(i.returnedStale=!0),r?e:void 0)):(i&&(i.get="hit"),a?e.__staleWhileFetching:(this.#Jt(o),s&&this.#re(o),e))}i&&(i.get="miss")}#ue(t,e){this.#Mt[e]=t,this.#Rt[t]=e}#Jt(t){t!==this.#Lt&&(t===this.#Dt?this.#Dt=this.#Rt[t]:this.#ue(this.#Mt[t],this.#Rt[t]),this.#ue(this.#Lt,t),this.#Lt=t)}delete(t){let e=!1;if(0!==this.#I){const r=this.#Nt.get(t);if(void 0!==r)if(e=!0,1===this.#I)this.clear();else{this.#ne(r);const e=this.#Tt[r];this.#Qt(e)?e.__abortController.abort(new Error("deleted")):(this.#Gt||this.#Ht)&&(this.#Gt&&this.#Ot?.(e,t,"delete"),this.#Ht&&this.#zt?.push([e,t,"delete"])),this.#Nt.delete(t),this.#Ft[r]=void 0,this.#Tt[r]=void 0,r===this.#Lt?this.#Lt=this.#Mt[r]:r===this.#Dt?this.#Dt=this.#Rt[r]:(this.#Rt[this.#Mt[r]]=this.#Rt[r],this.#Mt[this.#Rt[r]]=this.#Mt[r]),this.#I--,this.#It.push(r)}}if(this.#Ht&&this.#zt?.length){const t=this.#zt;let e;for(;e=t?.shift();)this.#Ct?.(...e)}return e}clear(){for(const t of this.#Xt({allowStale:!0})){const e=this.#Tt[t];if(this.#Qt(e))e.__abortController.abort(new Error("deleted"));else{const r=this.#Ft[t];this.#Gt&&this.#Ot?.(e,r,"delete"),this.#Ht&&this.#zt?.push([e,r,"delete"])}}if(this.#Nt.clear(),this.#Tt.fill(void 0),this.#Ft.fill(void 0),this.#Vt&&this.#Ut&&(this.#Vt.fill(0),this.#Ut.fill(0)),this.#Bt&&this.#Bt.fill(0),this.#Dt=0,this.#Lt=0,this.#It.length=0,this.#jt=0,this.#I=0,this.#Ht&&this.#zt){const t=this.#zt;let e;for(;e=t?.shift();)this.#Ct?.(...e)}}}e.LRUCache=f},4963:function(t,e,r){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Minipass=e.isWritable=e.isReadable=e.isStream=void 0;const n="object"==typeof process&&process?process:{stdout:null,stderr:null},i=r(2361),o=s(r(2781)),a=r(1576);e.isStream=t=>!!t&&"object"==typeof t&&(t instanceof V||t instanceof o.default||(0,e.isReadable)(t)||(0,e.isWritable)(t)),e.isReadable=t=>!!t&&"object"==typeof t&&t instanceof i.EventEmitter&&"function"==typeof t.pipe&&t.pipe!==o.default.Writable.prototype.pipe,e.isWritable=t=>!!t&&"object"==typeof t&&t instanceof i.EventEmitter&&"function"==typeof t.write&&"function"==typeof t.end;const c=Symbol("EOF"),u=Symbol("maybeEmitEnd"),l=Symbol("emittedEnd"),h=Symbol("emittingEnd"),f=Symbol("emittedError"),d=Symbol("closed"),p=Symbol("read"),m=Symbol("flush"),g=Symbol("flushChunk"),y=Symbol("encoding"),v=Symbol("decoder"),w=Symbol("flowing"),b=Symbol("paused"),A=Symbol("resume"),S=Symbol("buffer"),E=Symbol("pipes"),_=Symbol("bufferLength"),k=Symbol("bufferPush"),x=Symbol("bufferShift"),P=Symbol("objectMode"),O=Symbol("destroyed"),C=Symbol("error"),$=Symbol("emitData"),j=Symbol("emitEnd"),N=Symbol("emitEnd2"),F=Symbol("async"),T=Symbol("abort"),R=Symbol("aborted"),M=Symbol("signal"),D=Symbol("dataListeners"),L=Symbol("discarded"),I=t=>Promise.resolve().then(t),z=t=>t();class B{src;dest;opts;ondrain;constructor(t,e,r){this.src=t,this.dest=e,this.opts=r,this.ondrain=()=>t[A](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(t){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class U extends B{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,r){super(t,e,r),this.proxyErrors=t=>e.emit("error",t),t.on("error",this.proxyErrors)}}class V extends i.EventEmitter{[w]=!1;[b]=!1;[E]=[];[S]=[];[P];[y];[F];[v];[c]=!1;[l]=!1;[h]=!1;[d]=!1;[f]=null;[_]=0;[O]=!1;[M];[R]=!1;[D]=0;[L]=!1;writable=!0;readable=!0;constructor(...t){const e=t[0]||{};if(super(),e.objectMode&&"string"==typeof e.encoding)throw new TypeError("Encoding and objectMode may not be used together");var r;e.objectMode?(this[P]=!0,this[y]=null):!(r=e).objectMode&&r.encoding&&"buffer"!==r.encoding?(this[y]=e.encoding,this[P]=!1):(this[P]=!1,this[y]=null),this[F]=!!e.async,this[v]=this[y]?new a.StringDecoder(this[y]):null,e&&!0===e.debugExposeBuffer&&Object.defineProperty(this,"buffer",{get:()=>this[S]}),e&&!0===e.debugExposePipes&&Object.defineProperty(this,"pipes",{get:()=>this[E]});const{signal:s}=e;s&&(this[M]=s,s.aborted?this[T]():s.addEventListener("abort",(()=>this[T]())))}get bufferLength(){return this[_]}get encoding(){return this[y]}set encoding(t){throw new Error("Encoding must be set at instantiation time")}setEncoding(t){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[P]}set objectMode(t){throw new Error("objectMode must be set at instantiation time")}get async(){return this[F]}set async(t){this[F]=this[F]||!!t}[T](){this[R]=!0,this.emit("abort",this[M]?.reason),this.destroy(this[M]?.reason)}get aborted(){return this[R]}set aborted(t){}write(t,e,r){if(this[R])return!1;if(this[c])throw new Error("write after end");if(this[O])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;"function"==typeof e&&(r=e,e="utf8"),e||(e="utf8");const s=this[F]?I:z;if(!this[P]&&!Buffer.isBuffer(t))if(n=t,!Buffer.isBuffer(n)&&ArrayBuffer.isView(n))t=Buffer.from(t.buffer,t.byteOffset,t.byteLength);else if((t=>t instanceof ArrayBuffer||!!t&&"object"==typeof t&&t.constructor&&"ArrayBuffer"===t.constructor.name&&t.byteLength>=0)(t))t=Buffer.from(t);else if("string"!=typeof t)throw new Error("Non-contiguous data written to non-objectMode stream");var n;return this[P]?(this[w]&&0!==this[_]&&this[m](!0),this[w]?this.emit("data",t):this[k](t),0!==this[_]&&this.emit("readable"),r&&s(r),this[w]):t.length?("string"!=typeof t||e===this[y]&&!this[v]?.lastNeed||(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[y]&&(t=this[v].write(t)),this[w]&&0!==this[_]&&this[m](!0),this[w]?this.emit("data",t):this[k](t),0!==this[_]&&this.emit("readable"),r&&s(r),this[w]):(0!==this[_]&&this.emit("readable"),r&&s(r),this[w])}read(t){if(this[O])return null;if(this[L]=!1,0===this[_]||0===t||t&&t>this[_])return this[u](),null;this[P]&&(t=null),this[S].length>1&&!this[P]&&(this[S]=[this[y]?this[S].join(""):Buffer.concat(this[S],this[_])]);const e=this[p](t||null,this[S][0]);return this[u](),e}[p](t,e){if(this[P])this[x]();else{const r=e;t===r.length||null===t?this[x]():"string"==typeof r?(this[S][0]=r.slice(t),e=r.slice(0,t),this[_]-=t):(this[S][0]=r.subarray(t),e=r.subarray(0,t),this[_]-=t)}return this.emit("data",e),this[S].length||this[c]||this.emit("drain"),e}end(t,e,r){return"function"==typeof t&&(r=t,t=void 0),"function"==typeof e&&(r=e,e="utf8"),void 0!==t&&this.write(t,e),r&&this.once("end",r),this[c]=!0,this.writable=!1,!this[w]&&this[b]||this[u](),this}[A](){this[O]||(this[D]||this[E].length||(this[L]=!0),this[b]=!1,this[w]=!0,this.emit("resume"),this[S].length?this[m]():this[c]?this[u]():this.emit("drain"))}resume(){return this[A]()}pause(){this[w]=!1,this[b]=!0,this[L]=!1}get destroyed(){return this[O]}get flowing(){return this[w]}get paused(){return this[b]}[k](t){this[P]?this[_]+=1:this[_]+=t.length,this[S].push(t)}[x](){return this[P]?this[_]-=1:this[_]-=this[S][0].length,this[S].shift()}[m](t=!1){do{}while(this[g](this[x]())&&this[S].length);t||this[S].length||this[c]||this.emit("drain")}[g](t){return this.emit("data",t),this[w]}pipe(t,e){if(this[O])return t;this[L]=!1;const r=this[l];return e=e||{},t===n.stdout||t===n.stderr?e.end=!1:e.end=!1!==e.end,e.proxyErrors=!!e.proxyErrors,r?e.end&&t.end():(this[E].push(e.proxyErrors?new U(this,t,e):new B(this,t,e)),this[F]?I((()=>this[A]())):this[A]()),t}unpipe(t){const e=this[E].find((e=>e.dest===t));e&&(1===this[E].length?(this[w]&&0===this[D]&&(this[w]=!1),this[E]=[]):this[E].splice(this[E].indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){const r=super.on(t,e);if("data"===t)this[L]=!1,this[D]++,this[E].length||this[w]||this[A]();else if("readable"===t&&0!==this[_])super.emit("readable");else if((t=>"end"===t||"finish"===t||"prefinish"===t)(t)&&this[l])super.emit(t),this.removeAllListeners(t);else if("error"===t&&this[f]){const t=e;this[F]?I((()=>t.call(this,this[f]))):t.call(this,this[f])}return r}removeListener(t,e){return this.off(t,e)}off(t,e){const r=super.off(t,e);return"data"===t&&(this[D]=this.listeners("data").length,0!==this[D]||this[L]||this[E].length||(this[w]=!1)),r}removeAllListeners(t){const e=super.removeAllListeners(t);return"data"!==t&&void 0!==t||(this[D]=0,this[L]||this[E].length||(this[w]=!1)),e}get emittedEnd(){return this[l]}[u](){this[h]||this[l]||this[O]||0!==this[S].length||!this[c]||(this[h]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[d]&&this.emit("close"),this[h]=!1)}emit(t,...e){const r=e[0];if("error"!==t&&"close"!==t&&t!==O&&this[O])return!1;if("data"===t)return!(!this[P]&&!r)&&(this[F]?(I((()=>this[$](r))),!0):this[$](r));if("end"===t)return this[j]();if("close"===t){if(this[d]=!0,!this[l]&&!this[O])return!1;const t=super.emit("close");return this.removeAllListeners("close"),t}if("error"===t){this[f]=r,super.emit(C,r);const t=!(this[M]&&!this.listeners("error").length)&&super.emit("error",r);return this[u](),t}if("resume"===t){const t=super.emit("resume");return this[u](),t}if("finish"===t||"prefinish"===t){const e=super.emit(t);return this.removeAllListeners(t),e}const s=super.emit(t,...e);return this[u](),s}[$](t){for(const e of this[E])!1===e.dest.write(t)&&this.pause();const e=!this[L]&&super.emit("data",t);return this[u](),e}[j](){return!this[l]&&(this[l]=!0,this.readable=!1,this[F]?(I((()=>this[N]())),!0):this[N]())}[N](){if(this[v]){const t=this[v].end();if(t){for(const e of this[E])e.dest.write(t);this[L]||super.emit("data",t)}}for(const t of this[E])t.end();const t=super.emit("end");return this.removeAllListeners("end"),t}async collect(){const t=Object.assign([],{dataLength:0});this[P]||(t.dataLength=0);const e=this.promise();return this.on("data",(e=>{t.push(e),this[P]||(t.dataLength+=e.length)})),await e,t}async concat(){if(this[P])throw new Error("cannot concat in objectMode");const t=await this.collect();return this[y]?t.join(""):Buffer.concat(t,t.dataLength)}async promise(){return new Promise(((t,e)=>{this.on(O,(()=>e(new Error("stream destroyed")))),this.on("error",(t=>e(t))),this.on("end",(()=>t()))}))}[Symbol.asyncIterator](){this[L]=!1;let t=!1;const e=async()=>(this.pause(),t=!0,{value:void 0,done:!0});return{next:()=>{if(t)return e();const r=this.read();if(null!==r)return Promise.resolve({done:!1,value:r});if(this[c])return e();let s,n;const i=t=>{this.off("data",o),this.off("end",a),this.off(O,u),e(),n(t)},o=t=>{this.off("error",i),this.off("end",a),this.off(O,u),this.pause(),s({value:t,done:!!this[c]})},a=()=>{this.off("error",i),this.off("data",o),this.off(O,u),e(),s({done:!0,value:void 0})},u=()=>i(new Error("stream destroyed"));return new Promise(((t,e)=>{n=e,s=t,this.once(O,u),this.once("error",i),this.once("end",a),this.once("data",o)}))},throw:e,return:e,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[L]=!1;let t=!1;const e=()=>(this.pause(),this.off(C,e),this.off(O,e),this.off("end",e),t=!0,{done:!0,value:void 0});return this.once("end",e),this.once(C,e),this.once(O,e),{next:()=>{if(t)return e();const r=this.read();return null===r?e():{done:!1,value:r}},throw:e,return:e,[Symbol.iterator](){return this}}}destroy(t){return this[O]?(t?this.emit("error",t):this.emit(O),this):(this[O]=!0,this[L]=!0,this[S].length=0,this[_]=0,"function"!=typeof this.close||this[d]||this.close(),t?this.emit("error",t):this.emit(O),this)}static get isStream(){return e.isStream}}e.Minipass=V},916:(t,e,r)=>{"use strict";function s(t,...e){return(...r)=>t(...e,...r)}function n(t){return function(...e){var r=e.pop();return t.call(this,e,r)}}r.r(e),r.d(e,{all:()=>pt,allLimit:()=>mt,allSeries:()=>gt,any:()=>ee,anyLimit:()=>re,anySeries:()=>se,apply:()=>s,applyEach:()=>$,applyEachSeries:()=>F,asyncify:()=>h,auto:()=>M,autoInject:()=>B,cargo:()=>W,cargoQueue:()=>H,compose:()=>J,concat:()=>Y,concatLimit:()=>X,concatSeries:()=>Z,constant:()=>tt,default:()=>me,detect:()=>rt,detectLimit:()=>st,detectSeries:()=>nt,dir:()=>ot,doDuring:()=>at,doUntil:()=>ct,doWhilst:()=>at,during:()=>fe,each:()=>lt,eachLimit:()=>ht,eachOf:()=>O,eachOfLimit:()=>k,eachOfSeries:()=>j,eachSeries:()=>ft,ensureAsync:()=>dt,every:()=>pt,everyLimit:()=>mt,everySeries:()=>gt,filter:()=>bt,filterLimit:()=>At,filterSeries:()=>St,find:()=>rt,findLimit:()=>st,findSeries:()=>nt,flatMap:()=>Y,flatMapLimit:()=>X,flatMapSeries:()=>Z,foldl:()=>Q,foldr:()=>Ut,forEach:()=>lt,forEachLimit:()=>ht,forEachOf:()=>O,forEachOfLimit:()=>k,forEachOfSeries:()=>j,forEachSeries:()=>ft,forever:()=>Et,groupBy:()=>kt,groupByLimit:()=>_t,groupBySeries:()=>xt,inject:()=>Q,log:()=>Pt,map:()=>C,mapLimit:()=>K,mapSeries:()=>N,mapValues:()=>Ct,mapValuesLimit:()=>Ot,mapValuesSeries:()=>$t,memoize:()=>jt,nextTick:()=>Nt,parallel:()=>Tt,parallelLimit:()=>Rt,priorityQueue:()=>zt,queue:()=>Mt,race:()=>Bt,reduce:()=>Q,reduceRight:()=>Ut,reflect:()=>Vt,reflectAll:()=>Gt,reject:()=>Ht,rejectLimit:()=>Qt,rejectSeries:()=>qt,retry:()=>Yt,retryable:()=>Zt,select:()=>bt,selectLimit:()=>At,selectSeries:()=>St,seq:()=>q,series:()=>te,setImmediate:()=>l,some:()=>ee,someLimit:()=>re,someSeries:()=>se,sortBy:()=>ne,timeout:()=>ie,times:()=>ae,timesLimit:()=>oe,timesSeries:()=>ce,transform:()=>ue,tryEach:()=>le,unmemoize:()=>he,until:()=>de,waterfall:()=>pe,whilst:()=>fe,wrapSync:()=>h});var i="function"==typeof queueMicrotask&&queueMicrotask,o="function"==typeof setImmediate&&setImmediate,a="object"==typeof process&&"function"==typeof process.nextTick;function c(t){setTimeout(t,0)}function u(t){return(e,...r)=>t((()=>e(...r)))}var l=u(i?queueMicrotask:o?setImmediate:a?process.nextTick:c);function h(t){return p(t)?function(...e){const r=e.pop();return f(t.apply(this,e),r)}:n((function(e,r){var s;try{s=t.apply(this,e)}catch(t){return r(t)}if(s&&"function"==typeof s.then)return f(s,r);r(null,s)}))}function f(t,e){return t.then((t=>{d(e,null,t)}),(t=>{d(e,t&&t.message?t:new Error(t))}))}function d(t,e,r){try{t(e,r)}catch(t){l((t=>{throw t}),t)}}function p(t){return"AsyncFunction"===t[Symbol.toStringTag]}function m(t){if("function"!=typeof t)throw new Error("expected a function");return p(t)?h(t):t}function g(t,e=t.length){if(!e)throw new Error("arity is undefined");return function(...r){return"function"==typeof r[e-1]?t.apply(this,r):new Promise(((s,n)=>{r[e-1]=(t,...e)=>{if(t)return n(t);s(e.length>1?e:e[0])},t.apply(this,r)}))}}function y(t){return function(e,...r){return g((function(s){var n=this;return t(e,((t,e)=>{m(t).apply(n,r.concat(e))}),s)}))}}function v(t,e,r,s){e=e||[];var n=[],i=0,o=m(r);return t(e,((t,e,r)=>{var s=i++;o(t,((t,e)=>{n[s]=e,r(t)}))}),(t=>{s(t,n)}))}function w(t){return t&&"number"==typeof t.length&&t.length>=0&&t.length%1==0}const b={};function A(t){function e(...e){if(null!==t){var r=t;t=null,r.apply(this,e)}}return Object.assign(e,t),e}function S(t){return function(...e){if(null===t)throw new Error("Callback was already called.");var r=t;t=null,r.apply(this,e)}}function E(t,e,r,s){let n=!1,i=!1,o=!1,a=0,c=0;function u(){a>=e||o||n||(o=!0,t.next().then((({value:t,done:e})=>{if(!i&&!n){if(o=!1,e)return n=!0,void(a<=0&&s(null));a++,r(t,c,l),c++,u()}})).catch(h))}function l(t,e){if(a-=1,!i)return t?h(t):!1===t?(n=!0,void(i=!0)):e===b||n&&a<=0?(n=!0,s(null)):void u()}function h(t){i||(o=!1,n=!0,s(t))}u()}var _=t=>(e,r,s)=>{if(s=A(s),t<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!e)return s(null);if("AsyncGenerator"===e[Symbol.toStringTag])return E(e,t,r,s);if(function(t){return"function"==typeof t[Symbol.asyncIterator]}(e))return E(e[Symbol.asyncIterator](),t,r,s);var n=function(t){if(w(t))return function(t){var e=-1,r=t.length;return function(){return++e<r?{value:t[e],key:e}:null}}(t);var e,r,s,n,i=function(t){return t[Symbol.iterator]&&t[Symbol.iterator]()}(t);return i?function(t){var e=-1;return function(){var r=t.next();return r.done?null:(e++,{value:r.value,key:e})}}(i):(r=(e=t)?Object.keys(e):[],s=-1,n=r.length,function t(){var i=r[++s];return"__proto__"===i?t():s<n?{value:e[i],key:i}:null})}(e),i=!1,o=!1,a=0,c=!1;function u(t,e){if(!o)if(a-=1,t)i=!0,s(t);else if(!1===t)i=!0,o=!0;else{if(e===b||i&&a<=0)return i=!0,s(null);c||l()}}function l(){for(c=!0;a<t&&!i;){var e=n();if(null===e)return i=!0,void(a<=0&&s(null));a+=1,r(e.value,e.key,S(u))}c=!1}l()},k=g((function(t,e,r,s){return _(e)(t,m(r),s)}),4);function x(t,e,r){r=A(r);var s=0,n=0,{length:i}=t,o=!1;function a(t,e){!1===t&&(o=!0),!0!==o&&(t?r(t):++n!==i&&e!==b||r(null))}for(0===i&&r(null);s<i;s++)e(t[s],s,S(a))}function P(t,e,r){return k(t,1/0,e,r)}var O=g((function(t,e,r){return(w(t)?x:P)(t,m(e),r)}),3),C=g((function(t,e,r){return v(O,t,e,r)}),3),$=y(C),j=g((function(t,e,r){return k(t,1,e,r)}),3),N=g((function(t,e,r){return v(j,t,e,r)}),3),F=y(N);const T=Symbol("promiseCallback");function R(){let t,e;function r(r,...s){if(r)return e(r);t(s.length>1?s:s[0])}return r[T]=new Promise(((r,s)=>{t=r,e=s})),r}function M(t,e,r){"number"!=typeof e&&(r=e,e=null),r=A(r||R());var s=Object.keys(t).length;if(!s)return r(null);e||(e=s);var n={},i=0,o=!1,a=!1,c=Object.create(null),u=[],l=[],h={};function f(t,e){u.push((()=>function(t,e){if(!a){var s=S(((e,...s)=>{if(i--,!1!==e)if(s.length<2&&([s]=s),e){var u={};if(Object.keys(n).forEach((t=>{u[t]=n[t]})),u[t]=s,a=!0,c=Object.create(null),o)return;r(e,u)}else n[t]=s,(c[t]||[]).forEach((t=>t())),d();else o=!0}));i++;var u=m(e[e.length-1]);e.length>1?u(n,s):u(s)}}(t,e)))}function d(){if(!o){if(0===u.length&&0===i)return r(null,n);for(;u.length&&i<e;)u.shift()()}}function p(e){var r=[];return Object.keys(t).forEach((s=>{const n=t[s];Array.isArray(n)&&n.indexOf(e)>=0&&r.push(s)})),r}return Object.keys(t).forEach((e=>{var r=t[e];if(!Array.isArray(r))return f(e,[r]),void l.push(e);var s=r.slice(0,r.length-1),n=s.length;if(0===n)return f(e,r),void l.push(e);h[e]=n,s.forEach((i=>{if(!t[i])throw new Error("async.auto task `"+e+"` has a non-existent dependency `"+i+"` in "+s.join(", "));var o,a;(a=c[o=i])||(a=c[o]=[]),a.push((()=>{0==--n&&f(e,r)}))}))})),function(){for(var t=0;l.length;)t++,p(l.pop()).forEach((t=>{0==--h[t]&&l.push(t)}));if(t!==s)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),d(),r[T]}var D=/^(?:async\s+)?(?:function)?\s*\w*\s*\(\s*([^)]+)\s*\)(?:\s*{)/,L=/^(?:async\s+)?\(?\s*([^)=]+)\s*\)?(?:\s*=>)/,I=/,/,z=/(=.+)?(\s*)$/;function B(t,e){var r={};return Object.keys(t).forEach((e=>{var s,n=t[e],i=p(n),o=!i&&1===n.length||i&&0===n.length;if(Array.isArray(n))s=[...n],n=s.pop(),r[e]=s.concat(s.length>0?a:n);else if(o)r[e]=n;else{if(s=function(t){const e=function(t){let e="",r=0,s=t.indexOf("*/");for(;r<t.length;)if("/"===t[r]&&"/"===t[r+1]){let e=t.indexOf("\n",r);r=-1===e?t.length:e}else if(-1!==s&&"/"===t[r]&&"*"===t[r+1]){let n=t.indexOf("*/",r);-1!==n?(r=n+2,s=t.indexOf("*/",r)):(e+=t[r],r++)}else e+=t[r],r++;return e}(t.toString());let r=e.match(D);if(r||(r=e.match(L)),!r)throw new Error("could not parse args in autoInject\nSource:\n"+e);let[,s]=r;return s.replace(/\s/g,"").split(I).map((t=>t.replace(z,"").trim()))}(n),0===n.length&&!i&&0===s.length)throw new Error("autoInject task functions require explicit parameters.");i||s.pop(),r[e]=s.concat(a)}function a(t,e){var r=s.map((e=>t[e]));r.push(e),m(n)(...r)}})),M(r,e)}class U{constructor(){this.head=this.tail=null,this.length=0}removeLink(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,t.prev=t.next=null,this.length-=1,t}empty(){for(;this.head;)this.shift();return this}insertAfter(t,e){e.prev=t,e.next=t.next,t.next?t.next.prev=e:this.tail=e,t.next=e,this.length+=1}insertBefore(t,e){e.prev=t.prev,e.next=t,t.prev?t.prev.next=e:this.head=e,t.prev=e,this.length+=1}unshift(t){this.head?this.insertBefore(this.head,t):V(this,t)}push(t){this.tail?this.insertAfter(this.tail,t):V(this,t)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var t=this.head;t;)yield t.data,t=t.next}remove(t){for(var e=this.head;e;){var{next:r}=e;t(e)&&this.removeLink(e),e=r}return this}}function V(t,e){t.length=1,t.head=t.tail=e}function G(t,e,r){if(null==e)e=1;else if(0===e)throw new RangeError("Concurrency must not be zero");var s=m(t),n=0,i=[];const o={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function a(t,e){return t?e?void(o[t]=o[t].filter((t=>t!==e))):o[t]=[]:Object.keys(o).forEach((t=>o[t]=[]))}function c(t,...e){o[t].forEach((t=>t(...e)))}var u=!1;function h(t,e,r,s){if(null!=s&&"function"!=typeof s)throw new Error("task callback must be a function");var n,i;function o(t,...e){return t?r?i(t):n():e.length<=1?n(e[0]):void n(e)}y.started=!0;var a=y._createTaskItem(t,r?o:s||o);if(e?y._tasks.unshift(a):y._tasks.push(a),u||(u=!0,l((()=>{u=!1,y.process()}))),r||!s)return new Promise(((t,e)=>{n=t,i=e}))}function f(t){return function(e,...r){n-=1;for(var s=0,o=t.length;s<o;s++){var a=t[s],u=i.indexOf(a);0===u?i.shift():u>0&&i.splice(u,1),a.callback(e,...r),null!=e&&c("error",e,a.data)}n<=y.concurrency-y.buffer&&c("unsaturated"),y.idle()&&c("drain"),y.process()}}function d(t){return!(0!==t.length||!y.idle()||(l((()=>c("drain"))),0))}const p=t=>e=>{if(!e)return new Promise(((e,r)=>{!function(t,s){const n=(...s)=>{a(t,n),((t,s)=>{if(t)return r(t);e(s)})(...s)};o[t].push(n)}(t)}));a(t),function(t,e){o[t].push(e)}(t,e)};var g=!1,y={_tasks:new U,_createTaskItem:(t,e)=>({data:t,callback:e}),*[Symbol.iterator](){yield*y._tasks[Symbol.iterator]()},concurrency:e,payload:r,buffer:e/4,started:!1,paused:!1,push(t,e){if(Array.isArray(t)){if(d(t))return;return t.map((t=>h(t,!1,!1,e)))}return h(t,!1,!1,e)},pushAsync(t,e){if(Array.isArray(t)){if(d(t))return;return t.map((t=>h(t,!1,!0,e)))}return h(t,!1,!0,e)},kill(){a(),y._tasks.empty()},unshift(t,e){if(Array.isArray(t)){if(d(t))return;return t.map((t=>h(t,!0,!1,e)))}return h(t,!0,!1,e)},unshiftAsync(t,e){if(Array.isArray(t)){if(d(t))return;return t.map((t=>h(t,!0,!0,e)))}return h(t,!0,!0,e)},remove(t){y._tasks.remove(t)},process(){if(!g){for(g=!0;!y.paused&&n<y.concurrency&&y._tasks.length;){var t=[],e=[],r=y._tasks.length;y.payload&&(r=Math.min(r,y.payload));for(var o=0;o<r;o++){var a=y._tasks.shift();t.push(a),i.push(a),e.push(a.data)}n+=1,0===y._tasks.length&&c("empty"),n===y.concurrency&&c("saturated");var u=S(f(t));s(e,u)}g=!1}},length:()=>y._tasks.length,running:()=>n,workersList:()=>i,idle:()=>y._tasks.length+n===0,pause(){y.paused=!0},resume(){!1!==y.paused&&(y.paused=!1,l(y.process))}};return Object.defineProperties(y,{saturated:{writable:!1,value:p("saturated")},unsaturated:{writable:!1,value:p("unsaturated")},empty:{writable:!1,value:p("empty")},drain:{writable:!1,value:p("drain")},error:{writable:!1,value:p("error")}}),y}function W(t,e){return G(t,1,e)}function H(t,e,r){return G(t,e,r)}var Q=g((function(t,e,r,s){s=A(s);var n=m(r);return j(t,((t,r,s)=>{n(e,t,((t,r)=>{e=r,s(t)}))}),(t=>s(t,e)))}),4);function q(...t){var e=t.map(m);return function(...t){var r=this,s=t[t.length-1];return"function"==typeof s?t.pop():s=R(),Q(e,t,((t,e,s)=>{e.apply(r,t.concat(((t,...e)=>{s(t,e)})))}),((t,e)=>s(t,...e))),s[T]}}function J(...t){return q(...t.reverse())}var K=g((function(t,e,r,s){return v(_(e),t,r,s)}),4),X=g((function(t,e,r,s){var n=m(r);return K(t,e,((t,e)=>{n(t,((t,...r)=>t?e(t):e(t,r)))}),((t,e)=>{for(var r=[],n=0;n<e.length;n++)e[n]&&(r=r.concat(...e[n]));return s(t,r)}))}),4),Y=g((function(t,e,r){return X(t,1/0,e,r)}),3),Z=g((function(t,e,r){return X(t,1,e,r)}),3);function tt(...t){return function(...e){return e.pop()(null,...t)}}function et(t,e){return(r,s,n,i)=>{var o,a=!1;const c=m(n);r(s,((r,s,n)=>{c(r,((s,i)=>s||!1===s?n(s):t(i)&&!o?(a=!0,o=e(!0,r),n(null,b)):void n()))}),(t=>{if(t)return i(t);i(null,a?o:e(!1))}))}}var rt=g((function(t,e,r){return et((t=>t),((t,e)=>e))(O,t,e,r)}),3),st=g((function(t,e,r,s){return et((t=>t),((t,e)=>e))(_(e),t,r,s)}),4),nt=g((function(t,e,r){return et((t=>t),((t,e)=>e))(_(1),t,e,r)}),3);function it(t){return(e,...r)=>m(e)(...r,((e,...r)=>{"object"==typeof console&&(e?console.error&&console.error(e):console[t]&&r.forEach((e=>console[t](e))))}))}var ot=it("dir"),at=g((function(t,e,r){r=S(r);var s,n=m(t),i=m(e);function o(t,...e){if(t)return r(t);!1!==t&&(s=e,i(...e,a))}function a(t,e){return t?r(t):!1!==t?e?void n(o):r(null,...s):void 0}return a(null,!0)}),3);function ct(t,e,r){const s=m(e);return at(t,((...t)=>{const e=t.pop();s(...t,((t,r)=>e(t,!r)))}),r)}function ut(t){return(e,r,s)=>t(e,s)}var lt=g((function(t,e,r){return O(t,ut(m(e)),r)}),3),ht=g((function(t,e,r,s){return _(e)(t,ut(m(r)),s)}),4),ft=g((function(t,e,r){return ht(t,1,e,r)}),3);function dt(t){return p(t)?t:function(...e){var r=e.pop(),s=!0;e.push(((...t)=>{s?l((()=>r(...t))):r(...t)})),t.apply(this,e),s=!1}}var pt=g((function(t,e,r){return et((t=>!t),(t=>!t))(O,t,e,r)}),3),mt=g((function(t,e,r,s){return et((t=>!t),(t=>!t))(_(e),t,r,s)}),4),gt=g((function(t,e,r){return et((t=>!t),(t=>!t))(j,t,e,r)}),3);function yt(t,e,r,s){var n=new Array(e.length);t(e,((t,e,s)=>{r(t,((t,r)=>{n[e]=!!r,s(t)}))}),(t=>{if(t)return s(t);for(var r=[],i=0;i<e.length;i++)n[i]&&r.push(e[i]);s(null,r)}))}function vt(t,e,r,s){var n=[];t(e,((t,e,s)=>{r(t,((r,i)=>{if(r)return s(r);i&&n.push({index:e,value:t}),s(r)}))}),(t=>{if(t)return s(t);s(null,n.sort(((t,e)=>t.index-e.index)).map((t=>t.value)))}))}function wt(t,e,r,s){return(w(e)?yt:vt)(t,e,m(r),s)}var bt=g((function(t,e,r){return wt(O,t,e,r)}),3),At=g((function(t,e,r,s){return wt(_(e),t,r,s)}),4),St=g((function(t,e,r){return wt(j,t,e,r)}),3),Et=g((function(t,e){var r=S(e),s=m(dt(t));return function t(e){if(e)return r(e);!1!==e&&s(t)}()}),2),_t=g((function(t,e,r,s){var n=m(r);return K(t,e,((t,e)=>{n(t,((r,s)=>r?e(r):e(r,{key:s,val:t})))}),((t,e)=>{for(var r={},{hasOwnProperty:n}=Object.prototype,i=0;i<e.length;i++)if(e[i]){var{key:o}=e[i],{val:a}=e[i];n.call(r,o)?r[o].push(a):r[o]=[a]}return s(t,r)}))}),4);function kt(t,e,r){return _t(t,1/0,e,r)}function xt(t,e,r){return _t(t,1,e,r)}var Pt=it("log"),Ot=g((function(t,e,r,s){s=A(s);var n={},i=m(r);return _(e)(t,((t,e,r)=>{i(t,e,((t,s)=>{if(t)return r(t);n[e]=s,r(t)}))}),(t=>s(t,n)))}),4);function Ct(t,e,r){return Ot(t,1/0,e,r)}function $t(t,e,r){return Ot(t,1,e,r)}function jt(t,e=(t=>t)){var r=Object.create(null),s=Object.create(null),i=m(t),o=n(((t,n)=>{var o=e(...t);o in r?l((()=>n(null,...r[o]))):o in s?s[o].push(n):(s[o]=[n],i(...t,((t,...e)=>{t||(r[o]=e);var n=s[o];delete s[o];for(var i=0,a=n.length;i<a;i++)n[i](t,...e)})))}));return o.memo=r,o.unmemoized=t,o}var Nt=u(a?process.nextTick:o?setImmediate:c),Ft=g(((t,e,r)=>{var s=w(e)?[]:{};t(e,((t,e,r)=>{m(t)(((t,...n)=>{n.length<2&&([n]=n),s[e]=n,r(t)}))}),(t=>r(t,s)))}),3);function Tt(t,e){return Ft(O,t,e)}function Rt(t,e,r){return Ft(_(e),t,r)}function Mt(t,e){var r=m(t);return G(((t,e)=>{r(t[0],e)}),e,1)}class Dt{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(t){let e;for(;t>0&&It(this.heap[t],this.heap[e=Lt(t)]);){let r=this.heap[t];this.heap[t]=this.heap[e],this.heap[e]=r,t=e}}percDown(t){let e;for(;(e=1+(t<<1))<this.heap.length&&(e+1<this.heap.length&&It(this.heap[e+1],this.heap[e])&&(e+=1),!It(this.heap[t],this.heap[e]));){let r=this.heap[t];this.heap[t]=this.heap[e],this.heap[e]=r,t=e}}push(t){t.pushCount=++this.pushCount,this.heap.push(t),this.percUp(this.heap.length-1)}unshift(t){return this.heap.push(t)}shift(){let[t]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),t}toArray(){return[...this]}*[Symbol.iterator](){for(let t=0;t<this.heap.length;t++)yield this.heap[t].data}remove(t){let e=0;for(let r=0;r<this.heap.length;r++)t(this.heap[r])||(this.heap[e]=this.heap[r],e++);this.heap.splice(e);for(let t=Lt(this.heap.length-1);t>=0;t--)this.percDown(t);return this}}function Lt(t){return(t+1>>1)-1}function It(t,e){return t.priority!==e.priority?t.priority<e.priority:t.pushCount<e.pushCount}function zt(t,e){var r=Mt(t,e),{push:s,pushAsync:n}=r;function i(t,e){return Array.isArray(t)?t.map((t=>({data:t,priority:e}))):{data:t,priority:e}}return r._tasks=new Dt,r._createTaskItem=({data:t,priority:e},r)=>({data:t,priority:e,callback:r}),r.push=function(t,e=0,r){return s(i(t,e),r)},r.pushAsync=function(t,e=0,r){return n(i(t,e),r)},delete r.unshift,delete r.unshiftAsync,r}var Bt=g((function(t,e){if(e=A(e),!Array.isArray(t))return e(new TypeError("First argument to race must be an array of functions"));if(!t.length)return e();for(var r=0,s=t.length;r<s;r++)m(t[r])(e)}),2);function Ut(t,e,r,s){var n=[...t].reverse();return Q(n,e,r,s)}function Vt(t){var e=m(t);return n((function(t,r){return t.push(((t,...e)=>{let s={};if(t&&(s.error=t),e.length>0){var n=e;e.length<=1&&([n]=e),s.value=n}r(null,s)})),e.apply(this,t)}))}function Gt(t){var e;return Array.isArray(t)?e=t.map(Vt):(e={},Object.keys(t).forEach((r=>{e[r]=Vt.call(this,t[r])}))),e}function Wt(t,e,r,s){const n=m(r);return wt(t,e,((t,e)=>{n(t,((t,r)=>{e(t,!r)}))}),s)}var Ht=g((function(t,e,r){return Wt(O,t,e,r)}),3),Qt=g((function(t,e,r,s){return Wt(_(e),t,r,s)}),4),qt=g((function(t,e,r){return Wt(j,t,e,r)}),3);function Jt(t){return function(){return t}}const Kt=5,Xt=0;function Yt(t,e,r){var s={times:Kt,intervalFunc:Jt(Xt)};if(arguments.length<3&&"function"==typeof t?(r=e||R(),e=t):(function(t,e){if("object"==typeof e)t.times=+e.times||Kt,t.intervalFunc="function"==typeof e.interval?e.interval:Jt(+e.interval||Xt),t.errorFilter=e.errorFilter;else{if("number"!=typeof e&&"string"!=typeof e)throw new Error("Invalid arguments for async.retry");t.times=+e||Kt}}(s,t),r=r||R()),"function"!=typeof e)throw new Error("Invalid arguments for async.retry");var n=m(e),i=1;return function t(){n(((e,...n)=>{!1!==e&&(e&&i++<s.times&&("function"!=typeof s.errorFilter||s.errorFilter(e))?setTimeout(t,s.intervalFunc(i-1)):r(e,...n))}))}(),r[T]}function Zt(t,e){e||(e=t,t=null);let r=t&&t.arity||e.length;p(e)&&(r+=1);var s=m(e);return n(((e,n)=>{function i(t){s(...e,t)}return(e.length<r-1||null==n)&&(e.push(n),n=R()),t?Yt(t,i,n):Yt(i,n),n[T]}))}function te(t,e){return Ft(j,t,e)}var ee=g((function(t,e,r){return et(Boolean,(t=>t))(O,t,e,r)}),3),re=g((function(t,e,r,s){return et(Boolean,(t=>t))(_(e),t,r,s)}),4),se=g((function(t,e,r){return et(Boolean,(t=>t))(j,t,e,r)}),3),ne=g((function(t,e,r){var s=m(e);return C(t,((t,e)=>{s(t,((r,s)=>{if(r)return e(r);e(r,{value:t,criteria:s})}))}),((t,e)=>{if(t)return r(t);r(null,e.sort(n).map((t=>t.value)))}));function n(t,e){var r=t.criteria,s=e.criteria;return r<s?-1:r>s?1:0}}),3);function ie(t,e,r){var s=m(t);return n(((n,i)=>{var o,a=!1;n.push(((...t)=>{a||(i(...t),clearTimeout(o))})),o=setTimeout((function(){var e=t.name||"anonymous",s=new Error('Callback function "'+e+'" timed out.');s.code="ETIMEDOUT",r&&(s.info=r),a=!0,i(s)}),e),s(...n)}))}function oe(t,e,r,s){var n=m(r);return K(function(t){for(var e=Array(t);t--;)e[t]=t;return e}(t),e,n,s)}function ae(t,e,r){return oe(t,1/0,e,r)}function ce(t,e,r){return oe(t,1,e,r)}function ue(t,e,r,s){arguments.length<=3&&"function"==typeof e&&(s=r,r=e,e=Array.isArray(t)?[]:{}),s=A(s||R());var n=m(r);return O(t,((t,r,s)=>{n(e,t,r,s)}),(t=>s(t,e))),s[T]}var le=g((function(t,e){var r,s=null;return ft(t,((t,e)=>{m(t)(((t,...n)=>{if(!1===t)return e(t);n.length<2?[r]=n:r=n,s=t,e(t?null:{})}))}),(()=>e(s,r)))}));function he(t){return(...e)=>(t.unmemoized||t)(...e)}var fe=g((function(t,e,r){r=S(r);var s=m(e),n=m(t),i=[];function o(t,...e){if(t)return r(t);i=e,!1!==t&&n(a)}function a(t,e){return t?r(t):!1!==t?e?void s(o):r(null,...i):void 0}return n(a)}),3);function de(t,e,r){const s=m(t);return fe((t=>s(((e,r)=>t(e,!r)))),e,r)}var pe=g((function(t,e){if(e=A(e),!Array.isArray(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var r=0;function s(e){m(t[r++])(...e,S(n))}function n(n,...i){if(!1!==n)return n||r===t.length?e(n,...i):void s(i)}s([])}));const me={apply:s,applyEach:$,applyEachSeries:F,asyncify:h,auto:M,autoInject:B,cargo:W,cargoQueue:H,compose:J,concat:Y,concatLimit:X,concatSeries:Z,constant:tt,detect:rt,detectLimit:st,detectSeries:nt,dir:ot,doUntil:ct,doWhilst:at,each:lt,eachLimit:ht,eachOf:O,eachOfLimit:k,eachOfSeries:j,eachSeries:ft,ensureAsync:dt,every:pt,everyLimit:mt,everySeries:gt,filter:bt,filterLimit:At,filterSeries:St,forever:Et,groupBy:kt,groupByLimit:_t,groupBySeries:xt,log:Pt,map:C,mapLimit:K,mapSeries:N,mapValues:Ct,mapValuesLimit:Ot,mapValuesSeries:$t,memoize:jt,nextTick:Nt,parallel:Tt,parallelLimit:Rt,priorityQueue:zt,queue:Mt,race:Bt,reduce:Q,reduceRight:Ut,reflect:Vt,reflectAll:Gt,reject:Ht,rejectLimit:Qt,rejectSeries:qt,retry:Yt,retryable:Zt,seq:q,series:te,setImmediate:l,some:ee,someLimit:re,someSeries:se,sortBy:ne,timeout:ie,times:ae,timesLimit:oe,timesSeries:ce,transform:ue,tryEach:le,unmemoize:he,until:de,waterfall:pe,whilst:fe,all:pt,allLimit:mt,allSeries:gt,any:ee,anyLimit:re,anySeries:se,find:rt,findLimit:st,findSeries:nt,flatMap:Y,flatMapLimit:X,flatMapSeries:Z,forEach:lt,forEachSeries:ft,forEachLimit:ht,forEachOf:O,forEachOfSeries:j,forEachOfLimit:k,inject:Q,foldl:Q,foldr:Ut,select:bt,selectLimit:At,selectSeries:St,wrapSync:h,during:fe,doDuring:at}},5915:t=>{"use strict";t.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')}},e={};function r(s){var n=e[s];if(void 0!==n)return n.exports;var i=e[s]={exports:{}};return t[s].call(i.exports,i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var s in e)r.o(e,s)&&!r.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},void 0!==r&&(r.ab=__dirname+"/native_modules/");var s=r(9322);module.exports=s})();
//# sourceMappingURL=index.js.map